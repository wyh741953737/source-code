(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[1],{

/***/ "../src/pages/mycj/mycj-common.js":
/*!****************************************!*\
  !*** ../src/pages/mycj/mycj-common.js ***!
  \****************************************/
/*! exports provided: pageFun, pageFunWithParams */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pageFun\", function() { return pageFun; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pageFunWithParams\", function() { return pageFunWithParams; });\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n//分页\nfunction pageFun($scope) {\n  var changeCb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n  if (_typeof($scope) !== 'object') {\n    console.error('参数 $scope 错误', $scope);\n    return;\n  }\n\n  $(\".page-index\").jqPaginator({\n    totalCounts: $scope.totalPageNum,\n    pageSize: $scope.pageSize * 1,\n    visiblePages: 5,\n    currentPage: $scope.pageNum * 1,\n    activeClass: 'current',\n    prev: '<a class=\"prev\" href=\"javascript:void(0);\">&lt;<\\/a>',\n    next: '<a class=\"next\" href=\"javascript:void(0);\">&gt;<\\/a>',\n    page: '<a href=\"javascript:void(0);\">{{page}}<\\/a>',\n    first: '<a class=\"prev\" href=\"javascript:void(0);\">&lt&lt;<\\/a>',\n    last: '<a class=\"prev\" href=\"javascript:void(0);\">&gt&gt;<\\/a>',\n    onPageChange: function onPageChange(n, type) {\n      if (type == 'init') return;\n      changeCb(n);\n    }\n  });\n}\n; //分页\n\nfunction pageFunWithParams(node) {\n  var totalnum = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var pagesize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n  var currentnum = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  var change = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n  console.log(totalnum, pagesize, currentnum);\n  node.jqPaginator({\n    totalCounts: +totalnum,\n    pageSize: +pagesize,\n    visiblePages: 5,\n    currentPage: +currentnum,\n    activeClass: 'current',\n    first: '<a class=\"prev\" href=\"javascript:void(0);\">&lt;&lt;<\\/a>',\n    prev: '<a class=\"prev\" href=\"javascript:void(0);\">&lt;<\\/a>',\n    next: '<a class=\"next\" href=\"javascript:void(0);\">&gt;<\\/a>',\n    last: '<a class=\"prev\" href=\"javascript:void(0);\">&gt;&gt;<\\/a>',\n    page: '<a href=\"javascript:void(0);\">{{page}}<\\/a><\\/li>',\n    onPageChange: change\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovbXljai1jb21tb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL3BhZ2VzL215Y2ovbXljai1jb21tb24uanM/ODUxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLy/liIbpobVcclxuZXhwb3J0IGZ1bmN0aW9uIHBhZ2VGdW4oJHNjb3BlLCBjaGFuZ2VDYiA9ICgpID0+IHt9KSB7XHJcbiAgaWYgKHR5cGVvZiAkc2NvcGUgIT09ICdvYmplY3QnKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCflj4LmlbAgJHNjb3BlIOmUmeivrycsICRzY29wZSk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gICQoXCIucGFnZS1pbmRleFwiKS5qcVBhZ2luYXRvcih7XHJcbiAgICB0b3RhbENvdW50czogJHNjb3BlLnRvdGFsUGFnZU51bSxcclxuICAgIHBhZ2VTaXplOiAkc2NvcGUucGFnZVNpemUgKiAxLFxyXG4gICAgdmlzaWJsZVBhZ2VzOiA1LFxyXG4gICAgY3VycmVudFBhZ2U6ICRzY29wZS5wYWdlTnVtICogMSxcclxuICAgIGFjdGl2ZUNsYXNzOiAnY3VycmVudCcsXHJcbiAgICBwcmV2OiAnPGEgY2xhc3M9XCJwcmV2XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIj4mbHQ7PFxcL2E+JyxcclxuICAgIG5leHQ6ICc8YSBjbGFzcz1cIm5leHRcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiPiZndDs8XFwvYT4nLFxyXG4gICAgcGFnZTogJzxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCI+e3twYWdlfX08XFwvYT4nLFxyXG4gICAgZmlyc3Q6ICc8YSBjbGFzcz1cInByZXZcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiPiZsdCZsdDs8XFwvYT4nLFxyXG4gICAgbGFzdDogJzxhIGNsYXNzPVwicHJldlwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCI+Jmd0Jmd0OzxcXC9hPicsXHJcbiAgICBvblBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIChuLCB0eXBlKSB7XHJcbiAgICAgIGlmICh0eXBlID09ICdpbml0JykgcmV0dXJuO1xyXG4gICAgICBjaGFuZ2VDYihuKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbi8v5YiG6aG1XHJcbmV4cG9ydCBmdW5jdGlvbiBwYWdlRnVuV2l0aFBhcmFtcyhub2RlLCB0b3RhbG51bSA9IDEsIHBhZ2VzaXplID0gMTAsIGN1cnJlbnRudW0gPSAxLCBjaGFuZ2UgPSAoKSA9PiB7fSkge1xyXG4gIGNvbnNvbGUubG9nKHRvdGFsbnVtLCBwYWdlc2l6ZSwgY3VycmVudG51bSk7XHJcbiAgbm9kZS5qcVBhZ2luYXRvcih7XHJcbiAgICB0b3RhbENvdW50czogK3RvdGFsbnVtLFxyXG4gICAgcGFnZVNpemU6ICtwYWdlc2l6ZSxcclxuICAgIHZpc2libGVQYWdlczogNSxcclxuICAgIGN1cnJlbnRQYWdlOiArY3VycmVudG51bSxcclxuICAgIGFjdGl2ZUNsYXNzOiAnY3VycmVudCcsXHJcbiAgICBmaXJzdDogJzxhIGNsYXNzPVwicHJldlwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCI+Jmx0OyZsdDs8XFwvYT4nLFxyXG4gICAgcHJldjogJzxhIGNsYXNzPVwicHJldlwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCI+Jmx0OzxcXC9hPicsXHJcbiAgICBuZXh0OiAnPGEgY2xhc3M9XCJuZXh0XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIj4mZ3Q7PFxcL2E+JyxcclxuICAgIGxhc3Q6ICc8YSBjbGFzcz1cInByZXZcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiPiZndDsmZ3Q7PFxcL2E+JyxcclxuICAgIHBhZ2U6ICc8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiPnt7cGFnZX19PFxcL2E+PFxcL2xpPicsXHJcbiAgICBvblBhZ2VDaGFuZ2U6IGNoYW5nZSxcclxuICB9KTtcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQWdCQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/pages/mycj/mycj-common.js\n");

/***/ }),

/***/ "../src/pages/mycj/purchase/history-ctrl.js":
/*!**************************************************!*\
  !*** ../src/pages/mycj/purchase/history-ctrl.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mycj_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mycj-common */ \"../src/pages/mycj/mycj-common.js\");\n/* harmony import */ var _root_egg_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @root_egg/env */ \"../../env.js\");\n/* harmony import */ var _root_egg_env__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_root_egg_env__WEBPACK_IMPORTED_MODULE_1__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar awinTesMode = ['testnew', 'development', 'test'].includes(_root_egg_env__WEBPACK_IMPORTED_MODULE_1__[\"NODE_ENV\"]) ? 1 : 0;\n/* harmony default export */ __webpack_exports__[\"default\"] = (function ($scope, $rootScope, dsp, $sce, $stateParams) {\n  var base64 = $rootScope.base64;\n  dsp.setRightMinHeight();\n\n  $scope.className = function (name) {\n    if (name) {\n      if (name == 'USAStorage') {\n        return 'Chino, USA';\n      } else {\n        return name + ', China';\n      }\n    } else {\n      return '';\n    }\n  };\n\n  $scope.searchStr = '';\n  $scope.pageSize = '10';\n  $scope.pageNum = '1';\n  $scope.totalNum = 0;\n  $scope.totalPageNum = 0;\n  var defaultFlag = true;\n  $scope.handlerResult = {\n    fenkaifahuo: {\n      name: '分开发货',\n      key: '1'\n    },\n    tihuan: {\n      name: '缺货商品替换',\n      key: '2'\n    },\n    partRefund: {\n      name: '缺货商品退款',\n      key: '3'\n    },\n    allRefund: {\n      name: '全部商品退款',\n      key: '4'\n    }\n  }; // 复制sku\n  // $scope.showCopy = (item) => {\n  //   const id = item.id || item.ID;\n  //   if(String(id) && String(id).startsWith('ZF')) {\n  //     return true;\n  //   } else {\n  //     return false;\n  //   }\n  // }\n\n  $scope.handleCopy = function (sku) {\n    if (sku) {\n      var input = document.getElementById('copySku');\n      input.setAttribute('value', sku);\n      input.select();\n      document.execCommand('copy');\n      layer.msg('Copied Successfully'); // $scope.showCopy = false;\n    }\n  };\n\n  $rootScope.$on('app/buyOrder/selectPayOrderList', function (_, bool) {\n    $scope.loading = bool;\n\n    if (bool) {\n      $scope.notDataFound = false;\n    }\n  });\n\n  $scope.ordLogFun = function (id) {\n    var tempWindow = window.open('_blank');\n    tempWindow.location = '#/order-log/' + id;\n  };\n\n  $scope.queryLogsFun = function (id) {\n    var paramsObj = {\n      \"orderCode\": id\n    };\n    var msgLoading = cjMessage.loading({\n      isFixed: true\n    });\n    dsp.postFun('cj/orderOperationLog/queryLogList', paramsObj, function (data) {\n      // dsp.closeLoad();\n      msgLoading.hide();\n      var resObj = data.data;\n\n      if (resObj.statusCode == 200) {\n        $scope.logData = resObj.result;\n        $scope.ordLogFlag = true;\n      }\n    }, function (data) {\n      // dsp.closeLoad();\n      msgLoading.hide();\n    });\n  }; // $scope.purchaseList = [];\n\n\n  function getList(dsp, $scope) {\n    var sendJson = {};\n    sendJson.page = $scope.pageNum;\n    sendJson.pageNum = $scope.pageSize;\n    sendJson.searchParam = $scope.searchStr; // dsp.load();\n\n    $scope.purchaseList = [];\n    dsp.postFun('app/buyOrder/selectPayOrderList', JSON.stringify(sendJson), function (data) {\n      // dsp.closeLoad();\n      console.log(data);\n\n      if ($scope.brunchItem) {\n        $scope.brunchItem.path = data.data.path;\n      }\n\n      var result = data.data.orderList || [];\n      $scope.purchaseList = result;\n      $scope.totalNum = data.data.totalNum;\n      $scope.totalPageNum = Math.ceil($scope.totalNum / $scope.pageSize);\n\n      if ($scope.totalNum == 0 || $scope.purchaseList.length === 0) {\n        $scope.purchaseList = [];\n\n        if (defaultFlag) {\n          $scope.noData = true;\n          defaultFlag = false;\n        } else {\n          $scope.noData = false;\n          $scope.notDataFound = true;\n        }\n\n        return;\n      }\n\n      defaultFlag = false;\n      $scope.$broadcast('page-data', {\n        pageNum: $scope.pageNum,\n        totalNum: $scope.totalPageNum,\n        totalCounts: $scope.totalNum,\n        pageSize: $scope.pageSize\n      });\n    });\n  }\n\n  $scope.showPoint = function (item) {\n    var type = item.id ? item.id.slice(0, 2) : '';\n    var trackingNumber = item.trackingNumber;\n\n    if (type === 'SY') {\n      trackingNumber = 'Private Inventory';\n    }\n\n    if (type === 'ZF' && !trackingNumber) {\n      trackingNumber = '--';\n    }\n\n    return trackingNumber;\n  }; //获取url中的参数方法\n\n\n  function getUrlParamByKey(href, key) {\n    if (!href) return '';\n    var vars = href.split(\"&\");\n\n    for (var i = 0; i < vars.length; i++) {\n      var pair = vars[i].split(\"=\");\n\n      if (pair[0] == key) {\n        return pair[1];\n      }\n    }\n  }\n\n  $scope.$on('pagedata-fa', function (d, data) {\n    $scope.pageNum = data.pageNum;\n    $scope.pageSize = data.pageSize;\n    getList(dsp, $scope);\n  });\n\n  function initIsCheckout() {\n    // 判断当前是否存在ckosessionid\n    $scope.ckoSessionId = base64.decode(localStorage.getItem('ckoSessionId') || '') && JSON.parse(base64.decode(localStorage.getItem('ckoSessionId') || ''));\n\n    if ($scope.ckoSessionId) {\n      getList(dsp, $scope);\n      getCheckoutTrade();\n      return;\n    }\n\n    var href = window.location.href;\n\n    if (href.indexOf('?') >= 0) {\n      var regexp = /\\?[\\w\\W]*\\#/;\n      $scope.sessionId = getUrlParamByKey(href.match(regexp) && href.match(regexp)[0].slice(1, -1), 'cko-payment-id') || getUrlParamByKey(href.match(regexp) && href.match(regexp)[0].slice(1, -1), 'cko-session-id');\n\n      if ($scope.sessionId) {\n        localStorage.setItem('ckoSessionId', base64.encode(JSON.stringify($scope.sessionId))); // 后端接口返回状态较慢，延迟一秒再刷新当前页面\n\n        var timer = setTimeout(function () {\n          clearTimeout(timer);\n          window.location.href = window.location.origin + '/myCJ.html#/purchase-history';\n        }, 200);\n        getList(dsp, $scope);\n        return;\n      }\n\n      var hrefArr = href.split('?');\n      console.log(hrefArr);\n      var paydataArr = hrefArr[1].split('&');\n      var lengthPay = paydataArr.length;\n      console.log(paydataArr);\n      console.log(lengthPay);\n\n      if (lengthPay == 3) {\n        var paymentArr = paydataArr[0].split('=');\n        var tokenArr = paydataArr[1].split('=');\n        var payidArr = paydataArr[2].split('=');\n        var payCS = {};\n        payCS.paymentId = paymentArr[1];\n        payCS.token = tokenArr[1];\n        payCS.payerID = payidArr[1];\n        payCS.code = 4;\n        payCS.awc = dsp.getCookie(\"awc\") || '';\n        console.log(payCS);\n        console.log(JSON.stringify(payCS));\n        var isToken = localStorage.getItem('payToken');\n        console.log(isToken);\n\n        if (isToken == tokenArr[1]) {\n          getList(dsp, $scope);\n          return;\n        } else {\n          dsp.postFun('app/pay/pay', JSON.stringify(payCS), function (data) {\n            console.log(data);\n\n            if (data.data.result !== true) {\n              layer.msg('Payment Failed');\n              getList(dsp, $scope);\n            } else {\n              layer.msg('Payment Succeed');\n              localStorage.setItem('payToken', tokenArr[1]);\n              getList(dsp, $scope); //awin 发送支付成功fall-back\n\n              var awinLocalParams = null;\n\n              try {\n                awinLocalParams = JSON.parse(localStorage.getItem(\"_paypal_\".concat(payCS.token)));\n                console.log(awinLocalParams);\n              } catch (err) {\n                console.log('解析错误');\n              }\n\n              if (awinLocalParams) {\n                var awinJS = function awinJS() {\n                  var content = '<script >' + ' var AWIN = {};' + '  AWIN.Tracking = {};' + ' AWIN.Tracking.Sale = {};' + ' AWIN.Tracking.Sale.amount =' + awinLocalParams.awinAmount + ';' + ' AWIN.Tracking.Sale.orderRef =\"' + awinLocalParams.awinRef + '\";' + ' AWIN.Tracking.Sale.parts  =\"' + \"DEFAULT:\" + awinLocalParams.awinAmount + '\";' + 'AWIN.Tracking.Sale.currency = \"USD\";' + ' AWIN.Tracking.Sale.test = \"' + awinTesMode + '\";' + 'AWIN.Tracking.Sale.channel = \"aw\";' + +'<\\/script>';\n                  $('body').append(content);\n                  var osrc = 'https://www.dwin1.com/21578.js';\n                  var script = document.createElement('script');\n                  script.type = 'text/javascript';\n                  script.src = osrc;\n                  document.getElementsByTagName('body')[0].appendChild(script);\n                };\n\n                var imgHttpFun = function imgHttpFun() {\n                  var orderCountMoney = awinLocalParams.awinAmount.toFixed(2);\n                  var BasketImage = new Image(1, 1);\n                  BasketImage.src = \"https://www.awin1.com/sread.img?tt=ns&tv=2&merchant=21578&amount=\".concat(orderCountMoney, \"&ch=aw&parts=DEFAULT:\").concat(orderCountMoney, \"&cr=USD&ref=\").concat(awinLocalParams.awinRef, \"&tesmode=\").concat(awinTesMode);\n                  localStorage.removeItem(\"_paypal_\".concat(payCS.token));\n                };\n\n                var awcText = dsp.getCookie('awc');\n                var utmSource = localStorage.getItem('utmSource');\n\n                if (awcText && utmSource == 'awin') {\n                  //有awin的awc值 并且登录平台来源是awin\n                  awinJS();\n                  imgHttpFun();\n                }\n              }\n            }\n          }, function (data) {\n            console.log(data);\n          });\n        }\n      }\n\n      if (lengthPay < 3) {\n        layer.msg('Payment Failed');\n        getList(dsp, $scope);\n      }\n    } else {\n      getList(dsp, $scope);\n    }\n  }\n\n  initIsCheckout();\n\n  $scope.search = function () {\n    $scope.pageNum = '1';\n    $scope.searchFlag = true;\n    getList(dsp, $scope);\n  };\n\n  $scope.enterSearch = function (e) {\n    $scope.searchFlag = true;\n    $scope.pageNum = '1';\n\n    if (e.keyCode == 13) {\n      getList(dsp, $scope);\n    }\n  };\n\n  $scope.payMoney = function () {\n    var item = payItem;\n    console.log(item);\n    location.href = 'myCJ.html?route=payment#/payment/' + base64.encode(item.id) + '/' + base64.encode(item.orderMoney + '') + '/' + base64.encode('1') + '/DIRECT';\n  };\n\n  $scope.confirmReceive = function (item, index) {\n    $scope.confirmReceiveFlag = true;\n    $scope.operateItem = item;\n    $scope.operateItem.index = index;\n  };\n\n  $scope.goConfirmRexeive = function () {\n    dsp.postFun('app/buyOrder/updateOrderDone', JSON.stringify({\n      id: $scope.operateItem.id\n    }), function (data) {\n      console.log(data);\n      layer.msg('Confirm received successfully');\n      $scope.purchaseList[$scope.operateItem.index].status = 7;\n      $scope.confirmReceiveFlag = false;\n      $scope.operateItem = null; // if (data.data.code == 200) {\n      //     layer.msg('Confirm successfully');\n      //     $scope.purchaseList[$scope.operateItem.index].status = 7;\n      // } else {\n      //     layer.msg('Confirm failed');\n      // }\n    });\n  };\n\n  $scope.cancelOrder = function (item, index) {\n    $scope.cancelOrderFlag = true;\n    $scope.operateItem = item;\n    $scope.operateItem.index = index;\n  };\n\n  $scope.goConfirmCancel = function () {\n    var msgLoading = cjMessage.loading({\n      isFixed: true\n    });\n    dsp.postFun('app/buyOrder/removeOrderUNPAY', JSON.stringify({\n      id: $scope.operateItem.id\n    }), function (data) {\n      console.log(data);\n      msgLoading.hide();\n\n      if (data.data.code == 200) {\n        layer.msg('Cancel order successfully');\n        $scope.purchaseList.splice($scope.operateItem.index, 1);\n        $scope.cancelOrderFlag = false;\n        $scope.operateItem = null;\n      } else {\n        layer.msg('Cancel order failed');\n      }\n    }, function () {\n      msgLoading.hide();\n    });\n  }; //发票按钮事件\n\n\n  $scope.invoiceFun = function (id, type) {\n    console.log(id, type);\n    dsp.isinvoiceDialog(id, type);\n  }; // 查看详情（拒绝原因）\n\n\n  $scope.handleViewDetail = function (item) {\n    var msgLoading = cjMessage.loading({\n      isFixed: true\n    });\n    dsp.postFun('order/payRefuseOrder/getPayOrderRefuse', {\n      payOrderId: item.id\n    }, function (_ref) {\n      var data = _ref.data;\n      msgLoading.hide();\n\n      if (data.statusCode === '200') {\n        $scope.isRefuseFlag = true;\n        $scope.refusReason = data.result.refuseReason;\n      }\n    }, function (err) {\n      msgLoading.hide();\n      console.log(err);\n    });\n  }; // 处理纠纷后的监听\n\n\n  $scope.$on('disputeSuccess', function (e, id) {\n    $scope.purchaseList = $scope.purchaseList.map(function (obj) {\n      return _objectSpread(_objectSpread({}, obj), {}, {\n        disputeId: obj.id === id ? '1' : obj.disputeId\n      });\n    });\n    console.log($scope.purchaseList);\n  });\n  var payItem;\n\n  $scope.countryTipFun = function (item) {\n    // 是否验证邮件处理\n    if (dsp.isVerifyEmail()) return;\n    payItem = item;\n    var msgLoading = cjMessage.loading({\n      isFixed: true\n    });\n    dsp.postFun('app/dispute/getTipsListByType', {}, function (data) {\n      msgLoading.hide();\n      var oresult = data.data.result ? JSON.parse(data.data.result) : '';\n\n      if (oresult) {\n        console.log($sce);\n        $scope.holidayTips = {\n          title: oresult.title,\n          content: $sce.trustAsHtml(oresult.content)\n        };\n        $scope.showCountryTip = true;\n      } else {\n        $scope.payMoney();\n      }\n    }, function (err) {\n      msgLoading.hide();\n    });\n  }; //查看 缺货 已退款/已换货信息\n\n\n  $scope.showStockout = function (item, type) {\n    console.log(item);\n    var params = {\n      type: type\n    };\n\n    if (type === 'refund') {\n      params = _objectSpread(_objectSpread({}, params), {}, {\n        refundTime: +item.refundTime,\n        refundAmount: item.refundAmount\n      });\n    } else if (type === 'barter') {\n      params = _objectSpread(_objectSpread({}, params), {}, {\n        originalSku: item.originalSku\n      });\n    }\n\n    $scope.$broadcast('stockout-notice', params);\n  }; // stripe和checkuot交易状态查询\n\n\n  function stripeTradeQuery(parmas) {\n    layer.load(2);\n    dsp.postFun('app/pay/stripeTradeQuery', parmas, function (_ref2) {\n      var data = _ref2.data;\n      layer.closeAll('loading');\n\n      if (data.code == 200) {\n        $scope.stripeStatus = +data.data;\n\n        if (parmas && parmas.paymentType === 'Stripe') {\n          /** 1待支付 2支付中 3支付成功 4支付失败 5支付异常 6支付取消 */\n          switch (+data.data) {\n            case 1:\n              layer.msg('Awaiting payment confirmation. Please refresh and check it later.');\n              break;\n\n            case 2:\n              layer.msg('Awaiting payment confirmation. Please refresh and check it later.');\n              break;\n\n            case 3:\n              layer.msg('Payment Successful.');\n              break;\n\n            case 4:\n              layer.msg('Payment via Stripe failed. Please try again.');\n              break;\n\n            case 5:\n              layer.msg('Payment via Stripe failed. Please try again.');\n              break;\n\n            case 6:\n              layer.msg('Payment via Stripe failed. Please try again.');\n              break;\n\n            default:\n              '';\n          }\n        }\n\n        if (parmas && parmas.paymentType === 'Checkout') {\n          /** 1待支付 2支付中 3支付成功 4支付失败 5支付异常 6支付取消 */\n          switch (+data.data) {\n            case 1:\n              layer.msg('Awaiting Payment.');\n              break;\n\n            case 2:\n              layer.msg('Awaiting payment confirmation. Please refresh and check it later.');\n              break;\n\n            case 3:\n              layer.msg('Payment Successful.');\n              break;\n\n            case 4:\n              layer.msg('Payment via CheckOut failed. Please try again.');\n              break;\n\n            case 5:\n              layer.msg('Payment via CheckOut failed. Please try again.');\n              break;\n\n            case 6:\n              layer.msg('Payment Cancelled.');\n              break;\n\n            default:\n              break;\n          } // window.location.href = window.location.origin + '/myCJ.html#/purchase-history'\n\n\n          getList(dsp, $scope);\n        }\n      } else {\n        return layer.msg(data.msg);\n      }\n    }, function (err) {\n      console.log(err);\n    });\n  } // stripe交易状态查询\n\n\n  function getStripeTrade() {\n    var stripeObj = base64.decode(localStorage.getItem('stripeObj') || '') && JSON.parse(base64.decode(localStorage.getItem('stripeObj') || ''));\n    localStorage.removeItem('stripeObj');\n\n    if (!(stripeObj && stripeObj.orderId)) {\n      return;\n    }\n\n    var ordid = $stateParams.ordid;\n\n    if (ordid !== stripeObj.showOrdId) {\n      return;\n    }\n\n    var parmas = {\n      'orderId': stripeObj && stripeObj.orderId,\n      'code': stripeObj && stripeObj.stripeCode,\n      'payId': stripeObj && stripeObj.payId,\n      'paymentType': stripeObj && stripeObj.paymentType\n    };\n    stripeTradeQuery(parmas);\n  }\n\n  getStripeTrade(); // checkout交易状态查询\n\n  function getCheckoutTrade() {\n    var checkoutObj = base64.decode(localStorage.getItem('checkoutObj') || '') && JSON.parse(base64.decode(localStorage.getItem('checkoutObj') || ''));\n    localStorage.removeItem('checkoutObj');\n    localStorage.removeItem('ckoSessionId');\n\n    if (!(checkoutObj && checkoutObj.paymentType === 'Checkout')) {\n      return;\n    }\n\n    var parmas = {\n      'orderId': checkoutObj && checkoutObj.orderId,\n      'code': checkoutObj && checkoutObj.stripeCode,\n      'paymentType': checkoutObj && checkoutObj.paymentType,\n      'payId': checkoutObj && checkoutObj.payId,\n      'sessionId': $scope.ckoSessionId\n    };\n    stripeTradeQuery(parmas);\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovcHVyY2hhc2UvaGlzdG9yeS1jdHJsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9wYWdlcy9teWNqL3B1cmNoYXNlL2hpc3RvcnktY3RybC5qcz9mMGE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhZ2VGdW4gfSBmcm9tICcuLi9teWNqLWNvbW1vbic7XHJcbmltcG9ydCB7IE5PREVfRU5WIH0gZnJvbSAnQHJvb3RfZWdnL2Vudic7XHJcbmNvbnN0IGF3aW5UZXNNb2RlID0gWyd0ZXN0bmV3JywgJ2RldmVsb3BtZW50JywgJ3Rlc3QnXS5pbmNsdWRlcyhOT0RFX0VOVikgPyAxIDogMDtcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgZHNwLCAkc2NlLCAkc3RhdGVQYXJhbXMpIHtcclxuICBjb25zdCBiYXNlNjQgPSAkcm9vdFNjb3BlLmJhc2U2NDtcclxuICBkc3Auc2V0UmlnaHRNaW5IZWlnaHQoKTtcclxuICAkc2NvcGUuY2xhc3NOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgIGlmIChuYW1lKSB7XHJcbiAgICAgIGlmIChuYW1lID09ICdVU0FTdG9yYWdlJykge1xyXG4gICAgICAgIHJldHVybiAnQ2hpbm8sIFVTQSc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5hbWUgKyAnLCBDaGluYSc7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuXHJcbiAgfVxyXG4gICRzY29wZS5zZWFyY2hTdHIgPSAnJztcclxuICAkc2NvcGUucGFnZVNpemUgPSAnMTAnO1xyXG4gICRzY29wZS5wYWdlTnVtID0gJzEnO1xyXG4gICRzY29wZS50b3RhbE51bSA9IDA7XHJcbiAgJHNjb3BlLnRvdGFsUGFnZU51bSA9IDA7XHJcbiAgdmFyIGRlZmF1bHRGbGFnID0gdHJ1ZTtcclxuICAkc2NvcGUuaGFuZGxlclJlc3VsdCA9IHtcclxuICAgIGZlbmthaWZhaHVvOiB7IG5hbWU6ICfliIblvIDlj5HotKcnLCBrZXk6ICcxJyB9LFxyXG4gICAgdGlodWFuOiB7IG5hbWU6ICfnvLrotKfllYblk4Hmm7/mjaInLCBrZXk6ICcyJyB9LFxyXG4gICAgcGFydFJlZnVuZDogeyBuYW1lOiAn57y66LSn5ZWG5ZOB6YCA5qy+Jywga2V5OiAnMycgfSxcclxuICAgIGFsbFJlZnVuZDogeyBuYW1lOiAn5YWo6YOo5ZWG5ZOB6YCA5qy+Jywga2V5OiAnNCcgfSxcclxuICB9XHJcbiAgLy8g5aSN5Yi2c2t1XHJcbiAgLy8gJHNjb3BlLnNob3dDb3B5ID0gKGl0ZW0pID0+IHtcclxuICAvLyAgIGNvbnN0IGlkID0gaXRlbS5pZCB8fCBpdGVtLklEO1xyXG4gIC8vICAgaWYoU3RyaW5nKGlkKSAmJiBTdHJpbmcoaWQpLnN0YXJ0c1dpdGgoJ1pGJykpIHtcclxuICAvLyAgICAgcmV0dXJuIHRydWU7XHJcbiAgLy8gICB9IGVsc2Uge1xyXG4gIC8vICAgICByZXR1cm4gZmFsc2U7XHJcbiAgLy8gICB9XHJcblxyXG4gIC8vIH1cclxuICAkc2NvcGUuaGFuZGxlQ29weSA9IChza3UpID0+IHtcclxuICAgIGlmKHNrdSkge1xyXG4gICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3B5U2t1Jyk7XHJcbiAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBza3UpO1xyXG4gICAgICBpbnB1dC5zZWxlY3QoKTtcclxuICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcclxuICAgICAgbGF5ZXIubXNnKCdDb3BpZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIC8vICRzY29wZS5zaG93Q29weSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJHJvb3RTY29wZS4kb24oJ2FwcC9idXlPcmRlci9zZWxlY3RQYXlPcmRlckxpc3QnLCAoXywgYm9vbCkgPT4ge1xyXG4gICAgJHNjb3BlLmxvYWRpbmcgPSBib29sO1xyXG4gICAgaWYgKGJvb2wpIHtcclxuICAgICAgJHNjb3BlLm5vdERhdGFGb3VuZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gICRzY29wZS5vcmRMb2dGdW4gPSBmdW5jdGlvbihpZCl7XHJcbiAgICBjb25zdCB0ZW1wV2luZG93ID0gd2luZG93Lm9wZW4oJ19ibGFuaycpO1xyXG4gICAgdGVtcFdpbmRvdy5sb2NhdGlvbiA9ICcjL29yZGVyLWxvZy8nK2lkXHJcbiAgfVxyXG4gICRzY29wZS5xdWVyeUxvZ3NGdW4gPSBmdW5jdGlvbihpZCl7XHJcbiAgICBsZXQgcGFyYW1zT2JqID0ge1xyXG4gICAgICBcIm9yZGVyQ29kZVwiOiBpZFxyXG4gICAgfVxyXG7CoMKgwqDCoMKgwqDCoMKgY29uc3TCoG1zZ0xvYWRpbmfCoD3CoGNqTWVzc2FnZS5sb2FkaW5nKHvCoGlzRml4ZWQ6IHRydWXCoH0pO1xyXG4gICAgZHNwLnBvc3RGdW4oJ2NqL29yZGVyT3BlcmF0aW9uTG9nL3F1ZXJ5TG9nTGlzdCcscGFyYW1zT2JqLGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAvLyBkc3AuY2xvc2VMb2FkKCk7XHJcbiAgICAgIG1zZ0xvYWRpbmcuaGlkZSgpO1xyXG4gICAgICBsZXQgcmVzT2JqID0gZGF0YS5kYXRhO1xyXG4gICAgICBpZihyZXNPYmouc3RhdHVzQ29kZSA9PSAyMDApe1xyXG4gICAgICAgICRzY29wZS5sb2dEYXRhID0gcmVzT2JqLnJlc3VsdDtcclxuICAgICAgICAkc2NvcGUub3JkTG9nRmxhZyA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0sZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIC8vIGRzcC5jbG9zZUxvYWQoKTtcclxuICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICB9KVxyXG4gIH1cclxuICAvLyAkc2NvcGUucHVyY2hhc2VMaXN0ID0gW107XHJcbiAgZnVuY3Rpb24gZ2V0TGlzdChkc3AsICRzY29wZSkge1xyXG4gICAgdmFyIHNlbmRKc29uID0ge307XHJcbiAgICBzZW5kSnNvbi5wYWdlID0gJHNjb3BlLnBhZ2VOdW07XHJcbiAgICBzZW5kSnNvbi5wYWdlTnVtID0gJHNjb3BlLnBhZ2VTaXplO1xyXG4gICAgc2VuZEpzb24uc2VhcmNoUGFyYW0gPSAkc2NvcGUuc2VhcmNoU3RyO1xyXG4gICAgLy8gZHNwLmxvYWQoKTtcclxuICAgICRzY29wZS5wdXJjaGFzZUxpc3QgPSBbXTtcclxuICAgIGRzcC5wb3N0RnVuKCdhcHAvYnV5T3JkZXIvc2VsZWN0UGF5T3JkZXJMaXN0JywgSlNPTi5zdHJpbmdpZnkoc2VuZEpzb24pLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAvLyBkc3AuY2xvc2VMb2FkKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICBpZiAoJHNjb3BlLmJydW5jaEl0ZW0pIHtcclxuICAgICAgICAkc2NvcGUuYnJ1bmNoSXRlbS5wYXRoID0gZGF0YS5kYXRhLnBhdGg7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHJlc3VsdCA9IGRhdGEuZGF0YS5vcmRlckxpc3QgfHwgW107XHJcbiAgICAgICRzY29wZS5wdXJjaGFzZUxpc3QgPSByZXN1bHRcclxuICAgICAgJHNjb3BlLnRvdGFsTnVtID0gZGF0YS5kYXRhLnRvdGFsTnVtO1xyXG4gICAgICAkc2NvcGUudG90YWxQYWdlTnVtID0gTWF0aC5jZWlsKCRzY29wZS50b3RhbE51bSAvICRzY29wZS5wYWdlU2l6ZSk7XHJcbiAgICAgIGlmICgkc2NvcGUudG90YWxOdW0gPT0gMCB8fCAkc2NvcGUucHVyY2hhc2VMaXN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICRzY29wZS5wdXJjaGFzZUxpc3QgPSBbXTtcclxuICAgICAgICBpZiAoZGVmYXVsdEZsYWcpIHtcclxuICAgICAgICAgICRzY29wZS5ub0RhdGEgPSB0cnVlO1xyXG4gICAgICAgICAgZGVmYXVsdEZsYWcgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLm5vRGF0YSA9IGZhbHNlO1xyXG4gICAgICAgICAgJHNjb3BlLm5vdERhdGFGb3VuZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBkZWZhdWx0RmxhZyA9IGZhbHNlO1xyXG4gXHJcbiAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdwYWdlLWRhdGEnLCB7XHJcbiAgICAgICAgcGFnZU51bTogJHNjb3BlLnBhZ2VOdW0sXHJcbiAgICAgICAgdG90YWxOdW06ICRzY29wZS50b3RhbFBhZ2VOdW0sXHJcbiAgICAgICAgdG90YWxDb3VudHM6ICRzY29wZS50b3RhbE51bSxcclxuICAgICAgICBwYWdlU2l6ZTogJHNjb3BlLnBhZ2VTaXplXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAkc2NvcGUuc2hvd1BvaW50ID0gKGl0ZW0pID0+IHtcclxuICAgIGNvbnN0IHR5cGUgPSBpdGVtLmlkID8gaXRlbS5pZC5zbGljZSgwLDIpIDogJyc7XHJcbiAgICBsZXQgdHJhY2tpbmdOdW1iZXIgPSBpdGVtLnRyYWNraW5nTnVtYmVyO1xyXG4gICAgaWYodHlwZSA9PT0gJ1NZJykge1xyXG4gICAgICB0cmFja2luZ051bWJlciA9ICdQcml2YXRlIEludmVudG9yeSc7XHJcbiAgICB9IGlmKHR5cGUgPT09ICdaRicgJiYgIXRyYWNraW5nTnVtYmVyKSB7XHJcbiAgICAgIHRyYWNraW5nTnVtYmVyID0gJy0tJztcclxuICAgIH1cclxuICAgIHJldHVybiB0cmFja2luZ051bWJlcjtcclxuICB9XHJcblxyXG4gICAvL+iOt+WPlnVybOS4reeahOWPguaVsOaWueazlVxyXG4gICBmdW5jdGlvbiBnZXRVcmxQYXJhbUJ5S2V5IChocmVmLCBrZXkpIHtcclxuICAgIGlmKCFocmVmKSByZXR1cm4gJydcclxuICAgIHZhciB2YXJzID0gaHJlZi5zcGxpdChcIiZcIik7XHJcbiAgICBmb3IgKHZhciBpID0gMDtpIDwgdmFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xyXG4gICAgICBpZihwYWlyWzBdID09IGtleSkgeyByZXR1cm4gcGFpclsxXTsgfVxyXG4gICAgfVxyXG4gIH1cclxuICAkc2NvcGUuJG9uKCdwYWdlZGF0YS1mYScsIGZ1bmN0aW9uIChkLCBkYXRhKSB7XHJcbiAgICAkc2NvcGUucGFnZU51bSA9IGRhdGEucGFnZU51bTtcclxuICAgICRzY29wZS5wYWdlU2l6ZSA9IGRhdGEucGFnZVNpemU7XHJcbiAgICBnZXRMaXN0KGRzcCwgJHNjb3BlKVxyXG4gIH0pXHJcbiAgZnVuY3Rpb24gaW5pdElzQ2hlY2tvdXQoKSB7XHJcbiAgICAvLyDliKTmlq3lvZPliY3mmK/lkKblrZjlnKhja29zZXNzaW9uaWRcclxuICAgICRzY29wZS5ja29TZXNzaW9uSWQgPSBiYXNlNjQuZGVjb2RlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdja29TZXNzaW9uSWQnKSB8fCAnJykgJiYgSlNPTi5wYXJzZShiYXNlNjQuZGVjb2RlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdja29TZXNzaW9uSWQnKSB8fCAnJykpXHJcbiAgICBpZigkc2NvcGUuY2tvU2Vzc2lvbklkKSB7XHJcbiAgICAgIGdldExpc3QoZHNwLCAkc2NvcGUpXHJcbiAgICAgIGdldENoZWNrb3V0VHJhZGUoKVxyXG4gICAgICByZXR1cm4gXHJcbiAgICB9XHJcbiAgICB2YXIgaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgaWYgKGhyZWYuaW5kZXhPZignPycpID49IDApIHtcclxuICAgICAgY29uc3QgcmVnZXhwID0gL1xcP1tcXHdcXFddKlxcIy9cclxuICAgICAgJHNjb3BlLnNlc3Npb25JZCA9IGdldFVybFBhcmFtQnlLZXkoaHJlZi5tYXRjaChyZWdleHApICYmIGhyZWYubWF0Y2gocmVnZXhwKVswXS5zbGljZSgxLC0xKSwnY2tvLXBheW1lbnQtaWQnKSB8fCBnZXRVcmxQYXJhbUJ5S2V5KGhyZWYubWF0Y2gocmVnZXhwKSAmJiBocmVmLm1hdGNoKHJlZ2V4cClbMF0uc2xpY2UoMSwtMSksJ2Nrby1zZXNzaW9uLWlkJylcclxuICAgICAgaWYoJHNjb3BlLnNlc3Npb25JZCkge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdja29TZXNzaW9uSWQnLCBiYXNlNjQuZW5jb2RlKEpTT04uc3RyaW5naWZ5KCRzY29wZS5zZXNzaW9uSWQpKSk7XHJcbiAgICAgICAgLy8g5ZCO56uv5o6l5Y+j6L+U5Zue54q25oCB6L6D5oWi77yM5bu26L+f5LiA56eS5YaN5Yi35paw5b2T5YmN6aG16Z2iXHJcbiAgICAgICAgbGV0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpXHJcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL215Q0ouaHRtbCMvcHVyY2hhc2UtaGlzdG9yeSdcclxuICAgICAgICB9LCAyMDApXHJcbiAgICAgICAgZ2V0TGlzdChkc3AsICRzY29wZSlcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgICB2YXIgaHJlZkFyciA9IGhyZWYuc3BsaXQoJz8nKTtcclxuICAgICAgY29uc29sZS5sb2coaHJlZkFycilcclxuICAgICAgdmFyIHBheWRhdGFBcnIgPSBocmVmQXJyWzFdLnNwbGl0KCcmJylcclxuICAgICAgdmFyIGxlbmd0aFBheSA9IHBheWRhdGFBcnIubGVuZ3RoO1xyXG4gICAgICBjb25zb2xlLmxvZyhwYXlkYXRhQXJyKVxyXG4gICAgICBjb25zb2xlLmxvZyhsZW5ndGhQYXkpXHJcbiAgICAgIGlmIChsZW5ndGhQYXkgPT0gMykge1xyXG4gICAgICAgIHZhciBwYXltZW50QXJyID0gcGF5ZGF0YUFyclswXS5zcGxpdCgnPScpO1xyXG4gICAgICAgIHZhciB0b2tlbkFyciA9IHBheWRhdGFBcnJbMV0uc3BsaXQoJz0nKTtcclxuICAgICAgICB2YXIgcGF5aWRBcnIgPSBwYXlkYXRhQXJyWzJdLnNwbGl0KCc9Jyk7XHJcbiAgXHJcbiAgICAgICAgdmFyIHBheUNTID0ge307XHJcbiAgICAgICAgcGF5Q1MucGF5bWVudElkID0gcGF5bWVudEFyclsxXTtcclxuICAgICAgICBwYXlDUy50b2tlbiA9IHRva2VuQXJyWzFdO1xyXG4gICAgICAgIHBheUNTLnBheWVySUQgPSBwYXlpZEFyclsxXTtcclxuICAgICAgICBwYXlDUy5jb2RlID0gNDtcclxuICAgICAgICBwYXlDUy5hd2MgPSBkc3AuZ2V0Q29va2llKFwiYXdjXCIpIHx8ICcnO1xyXG4gIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKHBheUNTKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHBheUNTKSlcclxuICAgICAgICB2YXIgaXNUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwYXlUb2tlbicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGlzVG9rZW4pXHJcbiAgICAgICAgaWYgKGlzVG9rZW4gPT0gdG9rZW5BcnJbMV0pIHtcclxuICAgICAgICAgIGdldExpc3QoZHNwLCAkc2NvcGUpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkc3AucG9zdEZ1bignYXBwL3BheS9wYXknLCBKU09OLnN0cmluZ2lmeShwYXlDUyksIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVzdWx0ICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgbGF5ZXIubXNnKCdQYXltZW50IEZhaWxlZCcpXHJcbiAgICAgICAgICAgICAgZ2V0TGlzdChkc3AsICRzY29wZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbGF5ZXIubXNnKCdQYXltZW50IFN1Y2NlZWQnKVxyXG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwYXlUb2tlbicsIHRva2VuQXJyWzFdKVxyXG4gICAgICAgICAgICAgIGdldExpc3QoZHNwLCAkc2NvcGUpO1xyXG4gIFxyXG4gICAgICAgICAgICAgIC8vYXdpbiDlj5HpgIHmlK/ku5jmiJDlip9mYWxsLWJhY2tcclxuICAgICAgICAgICAgICBsZXQgYXdpbkxvY2FsUGFyYW1zID0gbnVsbDtcclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdpbkxvY2FsUGFyYW1zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgX3BheXBhbF8ke3BheUNTLnRva2VufWApKVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYXdpbkxvY2FsUGFyYW1zKVxyXG4gICAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7IGNvbnNvbGUubG9nKCfop6PmnpDplJnor68nKTsgfVxyXG4gICAgICAgICAgICAgIGlmKGF3aW5Mb2NhbFBhcmFtcyl7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhd2luSlMgKCkge1xyXG4gICAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9ICc8c2NyaXB0ID4nK1xyXG4gICAgICAgICAgICAgICAgICAgICAgJyB2YXIgQVdJTiA9IHt9OycgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICcgIEFXSU4uVHJhY2tpbmcgPSB7fTsnICtcclxuICAgICAgICAgICAgICAgICAgICAgICcgQVdJTi5UcmFja2luZy5TYWxlID0ge307JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAnIEFXSU4uVHJhY2tpbmcuU2FsZS5hbW91bnQgPScgKyBhd2luTG9jYWxQYXJhbXMuYXdpbkFtb3VudCArICc7JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAnIEFXSU4uVHJhY2tpbmcuU2FsZS5vcmRlclJlZiA9XCInICsgYXdpbkxvY2FsUGFyYW1zLmF3aW5SZWYrICdcIjsnICtcclxuICAgICAgICAgICAgICAgICAgICAgICcgQVdJTi5UcmFja2luZy5TYWxlLnBhcnRzICA9XCInICsgXCJERUZBVUxUOlwiICsgYXdpbkxvY2FsUGFyYW1zLmF3aW5BbW91bnQrICdcIjsnICtcclxuICAgICAgICAgICAgICAgICAgICAgICdBV0lOLlRyYWNraW5nLlNhbGUuY3VycmVuY3kgPSBcIlVTRFwiOycrXHJcbiAgICAgICAgICAgICAgICAgICAgICAnIEFXSU4uVHJhY2tpbmcuU2FsZS50ZXN0ID0gXCInICsgYXdpblRlc01vZGUgKyAnXCI7JytcclxuICAgICAgICAgICAgICAgICAgICAgICdBV0lOLlRyYWNraW5nLlNhbGUuY2hhbm5lbCA9IFwiYXdcIjsnK1xyXG4gICAgICAgICAgICAgICAgICAgICAgKyc8XFwvc2NyaXB0PidcclxuICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvc3JjID0gJ2h0dHBzOi8vd3d3LmR3aW4xLmNvbS8yMTU3OC5qcyc7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0LnNyYyA9IG9zcmM7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaW1nSHR0cEZ1bigpe1xyXG4gICAgICAgICAgICAgICAgICBsZXQgb3JkZXJDb3VudE1vbmV5ID0gYXdpbkxvY2FsUGFyYW1zLmF3aW5BbW91bnQudG9GaXhlZCgyKVxyXG4gICAgICAgICAgICAgICAgICBsZXQgQmFza2V0SW1hZ2UgPSBuZXcgSW1hZ2UoMSwxKTtcclxuICAgICAgICAgICAgICAgICAgQmFza2V0SW1hZ2Uuc3JjID0gYGh0dHBzOi8vd3d3LmF3aW4xLmNvbS9zcmVhZC5pbWc/dHQ9bnMmdHY9MiZtZXJjaGFudD0yMTU3OCZhbW91bnQ9JHtvcmRlckNvdW50TW9uZXl9JmNoPWF3JnBhcnRzPURFRkFVTFQ6JHtvcmRlckNvdW50TW9uZXl9JmNyPVVTRCZyZWY9JHthd2luTG9jYWxQYXJhbXMuYXdpblJlZn0mdGVzbW9kZT0ke2F3aW5UZXNNb2RlfWA7XHJcbiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGBfcGF5cGFsXyR7cGF5Q1MudG9rZW59YClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBhd2NUZXh0ID0gZHNwLmdldENvb2tpZSgnYXdjJylcclxuICAgICAgICAgICAgICAgIGxldCB1dG1Tb3VyY2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXRtU291cmNlJyk7XHJcbiAgICAgICAgICAgICAgICBpZihhd2NUZXh0ICYmIHV0bVNvdXJjZSA9PSAnYXdpbicpey8v5pyJYXdpbueahGF3Y+WAvCDlubbkuJTnmbvlvZXlubPlj7DmnaXmupDmmK9hd2luXHJcbiAgICAgICAgICAgICAgICAgIGF3aW5KUygpXHJcbiAgICAgICAgICAgICAgICAgIGltZ0h0dHBGdW4oKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChsZW5ndGhQYXkgPCAzKSB7XHJcbiAgICAgICAgbGF5ZXIubXNnKCdQYXltZW50IEZhaWxlZCcpXHJcbiAgICAgICAgZ2V0TGlzdChkc3AsICRzY29wZSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGdldExpc3QoZHNwLCAkc2NvcGUpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBpbml0SXNDaGVja291dCgpXHJcbiAgJHNjb3BlLnNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICRzY29wZS5wYWdlTnVtID0gJzEnO1xyXG4gICAgJHNjb3BlLnNlYXJjaEZsYWcgPSB0cnVlO1xyXG4gICAgZ2V0TGlzdChkc3AsICRzY29wZSk7XHJcbiAgfVxyXG4gICRzY29wZS5lbnRlclNlYXJjaCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAkc2NvcGUuc2VhcmNoRmxhZyA9IHRydWU7XHJcbiAgICAkc2NvcGUucGFnZU51bSA9ICcxJztcclxuICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHtcclxuICAgICAgZ2V0TGlzdChkc3AsICRzY29wZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAkc2NvcGUucGF5TW9uZXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgaXRlbSA9IHBheUl0ZW07XHJcbiAgICBjb25zb2xlLmxvZyhpdGVtKTtcclxuICAgIGxvY2F0aW9uLmhyZWYgPSAnbXlDSi5odG1sP3JvdXRlPXBheW1lbnQjL3BheW1lbnQvJyArIGJhc2U2NC5lbmNvZGUoaXRlbS5pZCkgKyAnLycgKyBiYXNlNjQuZW5jb2RlKGl0ZW0ub3JkZXJNb25leSArICcnKSArICcvJyArIGJhc2U2NC5lbmNvZGUoJzEnKSArICcvRElSRUNUJztcclxuICB9XHJcbiAgJHNjb3BlLmNvbmZpcm1SZWNlaXZlID0gZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAkc2NvcGUuY29uZmlybVJlY2VpdmVGbGFnID0gdHJ1ZTtcclxuICAgICRzY29wZS5vcGVyYXRlSXRlbSA9IGl0ZW07XHJcbiAgICAkc2NvcGUub3BlcmF0ZUl0ZW0uaW5kZXggPSBpbmRleDtcclxuICB9XHJcbiAgJHNjb3BlLmdvQ29uZmlybVJleGVpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBkc3AucG9zdEZ1bignYXBwL2J1eU9yZGVyL3VwZGF0ZU9yZGVyRG9uZScsIEpTT04uc3RyaW5naWZ5KHsgaWQ6ICRzY29wZS5vcGVyYXRlSXRlbS5pZCB9KSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgIGxheWVyLm1zZygnQ29uZmlybSByZWNlaXZlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgJHNjb3BlLnB1cmNoYXNlTGlzdFskc2NvcGUub3BlcmF0ZUl0ZW0uaW5kZXhdLnN0YXR1cyA9IDc7XHJcbiAgICAgICRzY29wZS5jb25maXJtUmVjZWl2ZUZsYWcgPSBmYWxzZTtcclxuICAgICAgJHNjb3BlLm9wZXJhdGVJdGVtID0gbnVsbDtcclxuICAgICAgLy8gaWYgKGRhdGEuZGF0YS5jb2RlID09IDIwMCkge1xyXG4gICAgICAvLyAgICAgbGF5ZXIubXNnKCdDb25maXJtIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAvLyAgICAgJHNjb3BlLnB1cmNoYXNlTGlzdFskc2NvcGUub3BlcmF0ZUl0ZW0uaW5kZXhdLnN0YXR1cyA9IDc7XHJcbiAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgIC8vICAgICBsYXllci5tc2coJ0NvbmZpcm0gZmFpbGVkJyk7XHJcbiAgICAgIC8vIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICAkc2NvcGUuY2FuY2VsT3JkZXIgPSBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcclxuICAgICRzY29wZS5jYW5jZWxPcmRlckZsYWcgPSB0cnVlO1xyXG4gICAgJHNjb3BlLm9wZXJhdGVJdGVtID0gaXRlbTtcclxuICAgICRzY29wZS5vcGVyYXRlSXRlbS5pbmRleCA9IGluZGV4O1xyXG4gIH1cclxuICAkc2NvcGUuZ29Db25maXJtQ2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG7CoMKgwqDCoGNvbnN0wqBtc2dMb2FkaW5nwqA9wqBjak1lc3NhZ2UubG9hZGluZyh7wqBpc0ZpeGVkOiB0cnVlwqB9KTtcclxuICAgIGRzcC5wb3N0RnVuKCdhcHAvYnV5T3JkZXIvcmVtb3ZlT3JkZXJVTlBBWScsIEpTT04uc3RyaW5naWZ5KHsgaWQ6ICRzY29wZS5vcGVyYXRlSXRlbS5pZCB9KSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgIG1zZ0xvYWRpbmcuaGlkZSgpO1xyXG4gICAgICBpZiAoZGF0YS5kYXRhLmNvZGUgPT0gMjAwKSB7XHJcbiAgICAgICAgbGF5ZXIubXNnKCdDYW5jZWwgb3JkZXIgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgJHNjb3BlLnB1cmNoYXNlTGlzdC5zcGxpY2UoJHNjb3BlLm9wZXJhdGVJdGVtLmluZGV4LCAxKTtcclxuICAgICAgICAkc2NvcGUuY2FuY2VsT3JkZXJGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLm9wZXJhdGVJdGVtID0gbnVsbDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsYXllci5tc2coJ0NhbmNlbCBvcmRlciBmYWlsZWQnKTtcclxuICAgICAgfVxyXG4gICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIG1zZ0xvYWRpbmcuaGlkZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL+WPkeelqOaMiemSruS6i+S7tlxyXG4gICRzY29wZS5pbnZvaWNlRnVuID0gZnVuY3Rpb24gKGlkLCB0eXBlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhpZCwgdHlwZSk7XHJcbiAgICBkc3AuaXNpbnZvaWNlRGlhbG9nKGlkLCB0eXBlKTtcclxuICB9XHJcblxyXG4gICAvLyDmn6XnnIvor6bmg4XvvIjmi5Lnu53ljp/lm6DvvIlcclxuICAgJHNjb3BlLmhhbmRsZVZpZXdEZXRhaWwgPSBpdGVtID0+e1xyXG7CoMKgwqDCoGNvbnN0wqBtc2dMb2FkaW5nwqA9wqBjak1lc3NhZ2UubG9hZGluZyh7wqBpc0ZpeGVkOiB0cnVlwqB9KVxyXG4gICAgZHNwLnBvc3RGdW4oJ29yZGVyL3BheVJlZnVzZU9yZGVyL2dldFBheU9yZGVyUmVmdXNlJywge3BheU9yZGVySWQ6aXRlbS5pZH0sICh7ZGF0YX0pID0+e1xyXG4gICAgICBtc2dMb2FkaW5nLmhpZGUoKVxyXG4gICAgICBpZiAoZGF0YS5zdGF0dXNDb2RlID09PSAnMjAwJyl7XHJcbiAgICAgICAgJHNjb3BlLmlzUmVmdXNlRmxhZyA9IHRydWVcclxuICAgICAgICAkc2NvcGUucmVmdXNSZWFzb24gPSBkYXRhLnJlc3VsdC5yZWZ1c2VSZWFzb25cclxuICAgICAgfVxyXG4gICAgfSwgZXJyID0+e1xyXG4gICAgICBtc2dMb2FkaW5nLmhpZGUoKVxyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICBcclxuICB9XHJcbiAgXHJcbiAgLy8g5aSE55CG57qg57q35ZCO55qE55uR5ZCsXHJcbiAgJHNjb3BlLiRvbignZGlzcHV0ZVN1Y2Nlc3MnLCAoZSwgaWQpID0+IHtcclxuICAgICRzY29wZS5wdXJjaGFzZUxpc3QgPSAkc2NvcGUucHVyY2hhc2VMaXN0Lm1hcChvYmogPT4gKHtcclxuICAgICAgLi4ub2JqLFxyXG4gICAgICBkaXNwdXRlSWQ6IG9iai5pZCA9PT0gaWQgPyAnMScgOiBvYmouZGlzcHV0ZUlkXHJcbiAgICB9KSk7XHJcbiAgICBjb25zb2xlLmxvZygkc2NvcGUucHVyY2hhc2VMaXN0KTtcclxuICB9KVxyXG4gIGxldCBwYXlJdGVtO1xyXG4gICRzY29wZS5jb3VudHJ5VGlwRnVuID0gKGl0ZW0pPT57XHJcbiAgICAvLyDmmK/lkKbpqozor4Hpgq7ku7blpITnkIZcclxuICAgIGlmIChkc3AuaXNWZXJpZnlFbWFpbCgpKSByZXR1cm5cclxuICAgIHBheUl0ZW0gPSBpdGVtO1xyXG7CoMKgwqDCoGNvbnN0wqBtc2dMb2FkaW5nwqA9wqBjak1lc3NhZ2UubG9hZGluZyh7wqBpc0ZpeGVkOiB0cnVlwqB9KVxyXG4gICAgZHNwLnBvc3RGdW4oJ2FwcC9kaXNwdXRlL2dldFRpcHNMaXN0QnlUeXBlJyx7fSwgZGF0YSA9PntcclxuICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICAgIGxldCBvcmVzdWx0ID0gZGF0YS5kYXRhLnJlc3VsdD9KU09OLnBhcnNlKGRhdGEuZGF0YS5yZXN1bHQpOicnO1xyXG4gICAgICBpZihvcmVzdWx0KXtcclxuICAgICAgICBjb25zb2xlLmxvZygkc2NlKVxyXG4gICAgICAgICRzY29wZS5ob2xpZGF5VGlwcyA9IHtcclxuICAgICAgICAgIHRpdGxlOm9yZXN1bHQudGl0bGUsXHJcbiAgICAgICAgICBjb250ZW50OiRzY2UudHJ1c3RBc0h0bWwob3Jlc3VsdC5jb250ZW50KVxyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUuc2hvd0NvdW50cnlUaXA9dHJ1ZTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgJHNjb3BlLnBheU1vbmV5KCk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICB9LGVycj0+e1xyXG4gICAgICBtc2dMb2FkaW5nLmhpZGUoKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvL+afpeeciyDnvLrotKcg5bey6YCA5qy+L+W3suaNoui0p+S/oeaBr1xyXG4gICRzY29wZS5zaG93U3RvY2tvdXQgPSAoaXRlbSwgdHlwZSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coaXRlbSlcclxuICAgIGxldCBwYXJhbXMgPSB7IHR5cGUgfSBcclxuICAgIGlmKHR5cGUgPT09ICdyZWZ1bmQnICkge1xyXG4gICAgICBwYXJhbXMgPSB7XHJcbiAgICAgICAgLi4ucGFyYW1zLFxyXG4gICAgICAgIHJlZnVuZFRpbWU6ICtpdGVtLnJlZnVuZFRpbWUsXHJcbiAgICAgICAgcmVmdW5kQW1vdW50OiBpdGVtLnJlZnVuZEFtb3VudFxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdiYXJ0ZXInKSB7XHJcbiAgICAgIHBhcmFtcyA9IHsuLi5wYXJhbXMsIG9yaWdpbmFsU2t1OiBpdGVtLm9yaWdpbmFsU2t1IH1cclxuICAgIH1cclxuICAgICRzY29wZS4kYnJvYWRjYXN0KCdzdG9ja291dC1ub3RpY2UnLCBwYXJhbXMpO1xyXG4gIH1cclxuXHJcbiAgLy8gc3RyaXBl5ZKMY2hlY2t1b3TkuqTmmJPnirbmgIHmn6Xor6JcclxuICBmdW5jdGlvbiBzdHJpcGVUcmFkZVF1ZXJ5KHBhcm1hcykge1xyXG4gICAgbGF5ZXIubG9hZCgyKVxyXG4gICAgZHNwLnBvc3RGdW4oJ2FwcC9wYXkvc3RyaXBlVHJhZGVRdWVyeScsIHBhcm1hcywgKHtkYXRhfSkgPT4ge1xyXG4gICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpXHJcbiAgICAgIGlmKGRhdGEuY29kZSA9PSAyMDApIHtcclxuICAgICAgICAkc2NvcGUuc3RyaXBlU3RhdHVzID0gK2RhdGEuZGF0YVxyXG4gICAgICAgIGlmKHBhcm1hcyAmJiBwYXJtYXMucGF5bWVudFR5cGUgPT09ICdTdHJpcGUnKSB7XHJcbiAgICAgICAgICAvKiogMeW+heaUr+S7mCAy5pSv5LuY5LitIDPmlK/ku5jmiJDlip8gNOaUr+S7mOWksei0pSA15pSv5LuY5byC5bi4IDbmlK/ku5jlj5bmtoggKi9cclxuICAgICAgICAgIHN3aXRjaCgrZGF0YS5kYXRhKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTogIFxyXG4gICAgICAgICAgICAgIGxheWVyLm1zZygnQXdhaXRpbmcgcGF5bWVudCBjb25maXJtYXRpb24uIFBsZWFzZSByZWZyZXNoIGFuZCBjaGVjayBpdCBsYXRlci4nKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOiBcclxuICAgICAgICAgICAgICBsYXllci5tc2coJ0F3YWl0aW5nIHBheW1lbnQgY29uZmlybWF0aW9uLiBQbGVhc2UgcmVmcmVzaCBhbmQgY2hlY2sgaXQgbGF0ZXIuJyk7XHJcbiAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgY2FzZSAzOiBcclxuICAgICAgICAgICAgICBsYXllci5tc2coJ1BheW1lbnQgU3VjY2Vzc2Z1bC4nKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OiBcclxuICAgICAgICAgICAgICBsYXllci5tc2coJ1BheW1lbnQgdmlhIFN0cmlwZSBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNTogXHJcbiAgICAgICAgICAgICAgbGF5ZXIubXNnKCdQYXltZW50IHZpYSBTdHJpcGUgZmFpbGVkLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDY6IFxyXG4gICAgICAgICAgICAgIGxheWVyLm1zZygnUGF5bWVudCB2aWEgU3RyaXBlIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDogICcnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHBhcm1hcyAmJiBwYXJtYXMucGF5bWVudFR5cGUgPT09ICdDaGVja291dCcpIHtcclxuICAgICAgICAgIC8qKiAx5b6F5pSv5LuYIDLmlK/ku5jkuK0gM+aUr+S7mOaIkOWKnyA05pSv5LuY5aSx6LSlIDXmlK/ku5jlvILluLggNuaUr+S7mOWPlua2iCAqL1xyXG5cdFx0XHRcdFx0c3dpdGNoKCtkYXRhLmRhdGEpIHtcclxuXHRcdFx0XHRcdFx0Y2FzZSAxOiAgXHJcblx0XHRcdFx0XHRcdFx0bGF5ZXIubXNnKCdBd2FpdGluZyBQYXltZW50LicpO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRjYXNlIDI6IFxyXG5cdFx0XHRcdFx0XHRcdGxheWVyLm1zZygnQXdhaXRpbmcgcGF5bWVudCBjb25maXJtYXRpb24uIFBsZWFzZSByZWZyZXNoIGFuZCBjaGVjayBpdCBsYXRlci4nKTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAzOiBcclxuXHRcdFx0XHRcdFx0XHRsYXllci5tc2coJ1BheW1lbnQgU3VjY2Vzc2Z1bC4nKTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSA0OiBcclxuXHRcdFx0XHRcdFx0XHRsYXllci5tc2coJ1BheW1lbnQgdmlhIENoZWNrT3V0IGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSA1OiBcclxuXHRcdFx0XHRcdFx0XHRsYXllci5tc2coJ1BheW1lbnQgdmlhIENoZWNrT3V0IGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSA2OiBcclxuXHRcdFx0XHRcdFx0XHRsYXllci5tc2coJ1BheW1lbnQgQ2FuY2VsbGVkLicpO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRkZWZhdWx0OiBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvbXlDSi5odG1sIy9wdXJjaGFzZS1oaXN0b3J5J1xyXG4gICAgICAgICAgZ2V0TGlzdChkc3AsICRzY29wZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBsYXllci5tc2coZGF0YS5tc2cpXHJcbiAgICAgIH1cclxuICAgIH0sIGVyciA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiBcclxuXHJcbiAgLy8gc3RyaXBl5Lqk5piT54q25oCB5p+l6K+iXHJcbiAgZnVuY3Rpb24gZ2V0U3RyaXBlVHJhZGUoKSB7XHJcbiAgICBjb25zdCBzdHJpcGVPYmogPSBiYXNlNjQuZGVjb2RlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdHJpcGVPYmonKSB8fCAnJykgJiYgSlNPTi5wYXJzZShiYXNlNjQuZGVjb2RlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdHJpcGVPYmonKSB8fCAnJykpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3N0cmlwZU9iaicpXHJcbiAgICBpZighKHN0cmlwZU9iaiAmJiBzdHJpcGVPYmoub3JkZXJJZCkpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBvcmRpZCA9ICRzdGF0ZVBhcmFtcy5vcmRpZDtcclxuICAgIGlmKG9yZGlkICE9PSBzdHJpcGVPYmouc2hvd09yZElkKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgY29uc3QgcGFybWFzID0ge1xyXG4gICAgICAnb3JkZXJJZCc6IHN0cmlwZU9iaiAmJiBzdHJpcGVPYmoub3JkZXJJZCxcclxuICAgICAgJ2NvZGUnOiBzdHJpcGVPYmogJiYgc3RyaXBlT2JqLnN0cmlwZUNvZGUsXHJcbiAgICAgICdwYXlJZCc6IHN0cmlwZU9iaiAmJiBzdHJpcGVPYmoucGF5SWQsXHJcbiAgICAgICdwYXltZW50VHlwZSc6IHN0cmlwZU9iaiAmJiBzdHJpcGVPYmoucGF5bWVudFR5cGUsXHJcbiAgICB9XHJcbiAgICBzdHJpcGVUcmFkZVF1ZXJ5KHBhcm1hcylcclxuICB9XHJcbiAgZ2V0U3RyaXBlVHJhZGUoKVxyXG5cclxuICAvLyBjaGVja291dOS6pOaYk+eKtuaAgeafpeivolxyXG4gIGZ1bmN0aW9uIGdldENoZWNrb3V0VHJhZGUoKSB7XHJcbiAgICBjb25zdCBjaGVja291dE9iaiA9IGJhc2U2NC5kZWNvZGUobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NoZWNrb3V0T2JqJykgfHwgJycpICYmIEpTT04ucGFyc2UoYmFzZTY0LmRlY29kZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2hlY2tvdXRPYmonKSB8fCAnJykpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NoZWNrb3V0T2JqJylcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdja29TZXNzaW9uSWQnKVxyXG4gICAgaWYoIShjaGVja291dE9iaiAmJiBjaGVja291dE9iai5wYXltZW50VHlwZSA9PT0gJ0NoZWNrb3V0JykpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBwYXJtYXMgPSB7XHJcbiAgICAgICdvcmRlcklkJzogY2hlY2tvdXRPYmogJiYgY2hlY2tvdXRPYmoub3JkZXJJZCxcclxuICAgICAgJ2NvZGUnOiBjaGVja291dE9iaiAmJiBjaGVja291dE9iai5zdHJpcGVDb2RlLFxyXG4gICAgICAncGF5bWVudFR5cGUnOiBjaGVja291dE9iaiAmJiBjaGVja291dE9iai5wYXltZW50VHlwZSxcclxuICAgICAgJ3BheUlkJzogY2hlY2tvdXRPYmogJiYgY2hlY2tvdXRPYmoucGF5SWQsXHJcbiAgICAgICdzZXNzaW9uSWQnOiAkc2NvcGUuY2tvU2Vzc2lvbklkXHJcbiAgICB9XHJcbiAgICBzdHJpcGVUcmFkZVF1ZXJ5KHBhcm1hcylcclxuICB9XHJcbiAgXHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcEJBO0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUZBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFuQkE7QUFxQkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFuQkE7QUFDQTtBQUNBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/pages/mycj/purchase/history-ctrl.js\n");

/***/ }),

/***/ "../src/pages/mycj/purchase/purchase.js":
/*!**********************************************!*\
  !*** ../src/pages/mycj/purchase/purchase.js ***!
  \**********************************************/
/*! exports provided: purchaseFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"purchaseFactory\", function() { return purchaseFactory; });\n/* harmony import */ var _history_ctrl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./history-ctrl */ \"../src/pages/mycj/purchase/history-ctrl.js\");\n/* harmony import */ var _taobao_ctrl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./taobao-ctrl */ \"../src/pages/mycj/purchase/taobao-ctrl.js\");\n\n\nfunction purchaseFactory(angular) {\n  var app = angular.module('purchase.module', []);\n  app.controller('purchaseHistory.ctrl', ['$scope', '$rootScope', 'dsp', '$sce', '$stateParams', _history_ctrl__WEBPACK_IMPORTED_MODULE_0__[\"default\"]]);\n  app.controller('purchaseTaobao.ctrl', ['$scope', '$rootScope', 'dsp', '$stateParams', '$state', '$sce', _taobao_ctrl__WEBPACK_IMPORTED_MODULE_1__[\"default\"]]);\n  return app;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovcHVyY2hhc2UvcHVyY2hhc2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL3BhZ2VzL215Y2ovcHVyY2hhc2UvcHVyY2hhc2UuanM/ZTQ3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaGlzdG9yeUNvbnRyb2xsZXIgZnJvbSAnLi9oaXN0b3J5LWN0cmwnO1xyXG5pbXBvcnQgdGFvYmFvQ29udHJvbGxlciBmcm9tICcuL3Rhb2Jhby1jdHJsJztcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHVyY2hhc2VGYWN0b3J5KGFuZ3VsYXIpIHtcclxuICBjb25zdCBhcHAgPSBhbmd1bGFyLm1vZHVsZSgncHVyY2hhc2UubW9kdWxlJywgW10pO1xyXG5cclxuICBhcHAuY29udHJvbGxlcigncHVyY2hhc2VIaXN0b3J5LmN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJ2RzcCcsJyRzY2UnLCAnJHN0YXRlUGFyYW1zJywgaGlzdG9yeUNvbnRyb2xsZXJdKTtcclxuXHJcbiAgYXBwLmNvbnRyb2xsZXIoJ3B1cmNoYXNlVGFvYmFvLmN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJ2RzcCcsICckc3RhdGVQYXJhbXMnLCAnJHN0YXRlJywnJHNjZScsIHRhb2Jhb0NvbnRyb2xsZXJdKTtcclxuXHJcbiAgcmV0dXJuIGFwcDtcclxufVxyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/pages/mycj/purchase/purchase.js\n");

/***/ }),

/***/ "../src/pages/mycj/purchase/taobao-ctrl.js":
/*!*************************************************!*\
  !*** ../src/pages/mycj/purchase/taobao-ctrl.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mycj_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mycj-common */ \"../src/pages/mycj/mycj-common.js\");\n/* harmony import */ var _root_egg_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @root_egg/env */ \"../../env.js\");\n/* harmony import */ var _root_egg_env__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_root_egg_env__WEBPACK_IMPORTED_MODULE_1__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar awinTesMode = ['testnew', 'development', 'test'].includes(_root_egg_env__WEBPACK_IMPORTED_MODULE_1__[\"NODE_ENV\"]) ? 1 : 0;\n/* harmony default export */ __webpack_exports__[\"default\"] = (function ($scope, $rootScope, dsp, $stateParams, $state, $sce) {\n  var base64 = $rootScope.base64;\n  dsp.setRightMinHeight();\n  $scope.searchStr = '';\n  $scope.pageSize = '10';\n  $scope.pageNum = '1';\n  $scope.totalNum = 0;\n  $scope.totalPageNum = 0;\n  var defaultFlag = true;\n  $scope.State = '';\n  $scope.type = $stateParams.type;\n  $scope.content = 'Are you sure to cancel the order??';\n  console.log($scope.type);\n\n  if ($scope.type == 'Pending') {\n    $scope.State = '3';\n    defaultFlag = false;\n  } else if ($scope.type == 'Paid') {\n    $scope.State = '10';\n    defaultFlag = false;\n  } else if ($scope.type == 'Competed') {\n    $scope.State = '13';\n    defaultFlag = false;\n  } else if ($scope.type == 'Shipped') {\n    $scope.State = '6';\n    defaultFlag = false;\n  } else if ($scope.type == 'Processing') {\n    $scope.State = '111';\n    defaultFlag = false;\n  } else {\n    $scope.State = '';\n    defaultFlag = false;\n  }\n\n  console.log($scope.State);\n  $scope.handlerResult = {\n    fenkaifahuo: {\n      name: '分开发货',\n      key: '1'\n    },\n    tihuan: {\n      name: '缺货商品替换',\n      key: '2'\n    },\n    partRefund: {\n      name: '缺货商品退款',\n      key: '3'\n    },\n    allRefund: {\n      name: '全部商品退款',\n      key: '4'\n    }\n  };\n  $rootScope.$on('app/externalPurchase/selectPayOrderList', function (_, bool) {\n    $scope.loading = bool;\n\n    if (bool) {\n      $scope.notDataFound = false;\n    }\n  });\n\n  function getList(dsp, $scope) {\n    var sendJson = {};\n    sendJson.page = $scope.pageNum;\n    sendJson.pageNum = $scope.pageSize;\n    sendJson.searchParam = $scope.searchStr;\n    sendJson.status = $scope.State; //sendJson.impStorageFlag = '';\n    // dsp.load();\n\n    $scope.purchaseList = [];\n    dsp.postFun('app/externalPurchase/selectPayOrderList', JSON.stringify(sendJson), function (data) {\n      // dsp.closeLoad();\n      console.log(data);\n\n      if ($scope.brunchItem) {\n        $scope.brunchItem.path = data.data.path;\n      }\n\n      var result = data.data.orderList || [];\n      $scope.purchaseList = result;\n      $scope.totalNum = data.data.totalNum;\n      $scope.totalPageNum = Math.ceil($scope.totalNum / $scope.pageSize);\n\n      if ($scope.totalNum == 0 || $scope.purchaseList.length === 0) {\n        $scope.purchaseList = [];\n\n        if (defaultFlag) {\n          $scope.noData = true;\n          defaultFlag = false;\n        } else {\n          $scope.noData = false;\n          $scope.notDataFound = true;\n        }\n\n        return;\n      }\n\n      defaultFlag = false;\n      $scope.$broadcast('page-data', {\n        pageNum: $scope.pageNum,\n        totalNum: $scope.totalPageNum,\n        totalCounts: $scope.totalNum,\n        pageSize: $scope.pageSize\n      });\n    });\n  }\n\n  $scope.$on('pagedata-fa', function (d, data) {\n    $scope.pageNum = data.pageNum;\n    $scope.pageSize = data.pageSize;\n    getList(dsp, $scope);\n  }); //\n\n  $scope.Statechange = function () {\n    $scope.pageNum = '1';\n    getList(dsp, $scope);\n  };\n\n  var href = window.location.href;\n\n  if (href.indexOf('?') >= 0) {\n    var hrefArr = href.split('?');\n    console.log(hrefArr);\n    var paydataArr = hrefArr[1].split('&');\n    var lengthPay = paydataArr.length;\n    console.log(paydataArr);\n    console.log(lengthPay);\n\n    if (lengthPay == 3) {\n      var paymentArr = paydataArr[0].split('=');\n      var tokenArr = paydataArr[1].split('=');\n      var payidArr = paydataArr[2].split('=');\n      var payCS = {};\n      payCS.paymentId = paymentArr[1];\n      payCS.token = tokenArr[1];\n      payCS.payerID = payidArr[1];\n      payCS.code = 4;\n      payCS.awc = dsp.getCookie(\"awc\") || '';\n      console.log(payCS);\n      console.log(JSON.stringify(payCS));\n      var isToken = localStorage.getItem('payToken');\n      console.log(isToken);\n\n      if (isToken == tokenArr[1]) {\n        getList(dsp, $scope);\n        return;\n      } else {\n        dsp.postFun('app/pay/pay', JSON.stringify(payCS), function (data) {\n          console.log(data);\n\n          if (data.data.result !== true) {\n            layer.msg('Payment Failed');\n            getList(dsp, $scope);\n          } else {\n            layer.msg('Payment Succeed');\n            localStorage.setItem('payToken', tokenArr[1]);\n            getList(dsp, $scope); //awin 发送支付成功fall-back\n\n            var awinLocalParams = null;\n\n            try {\n              awinLocalParams = JSON.parse(localStorage.getItem(\"_paypal_\".concat(payCS.token)));\n              console.log(awinLocalParams);\n            } catch (err) {\n              console.log('解析错误');\n            }\n\n            if (awinLocalParams) {\n              var awinJS = function awinJS() {\n                var content = '<script >' + ' var AWIN = {};' + '  AWIN.Tracking = {};' + ' AWIN.Tracking.Sale = {};' + ' AWIN.Tracking.Sale.amount =' + awinLocalParams.awinAmount + ';' + ' AWIN.Tracking.Sale.orderRef =\"' + awinLocalParams.awinRef + '\";' + ' AWIN.Tracking.Sale.parts  =\"' + \"DEFAULT:\" + awinLocalParams.awinAmount + '\";' + 'AWIN.Tracking.Sale.currency = \"USD\";' + ' AWIN.Tracking.Sale.test = \"' + awinTesMode + '\";' + 'AWIN.Tracking.Sale.channel = \"aw\";' + +'<\\/script>';\n                $('body').append(content);\n                var osrc = 'https://www.dwin1.com/21578.js';\n                var script = document.createElement('script');\n                script.type = 'text/javascript';\n                script.src = osrc;\n                document.getElementsByTagName('body')[0].appendChild(script);\n              };\n\n              var imgHttpFun = function imgHttpFun() {\n                var orderCountMoney = awinLocalParams.awinAmount.toFixed(2);\n                var BasketImage = new Image(1, 1);\n                BasketImage.src = \"https://www.awin1.com/sread.img?tt=ns&tv=2&merchant=21578&amount=\".concat(orderCountMoney, \"&ch=aw&parts=DEFAULT:\").concat(orderCountMoney, \"&cr=USD&ref=\").concat(awinLocalParams.awinRef, \"&tesmode=\").concat(awinTesMode);\n                localStorage.removeItem(\"_paypal_\".concat(payCS.token));\n              };\n\n              var awcText = dsp.getCookie('awc');\n              var utmSource = localStorage.getItem('utmSource');\n\n              if (awcText && utmSource == 'awin') {\n                //有awin的awc值 并且登录平台来源是awin\n                awinJS();\n                imgHttpFun();\n              }\n            }\n          }\n        }, function (data) {\n          console.log(data);\n        });\n      }\n    }\n\n    if (lengthPay < 3) {\n      layer.msg('Payment Failed');\n      getList(dsp, $scope);\n    }\n  } else {\n    getList(dsp, $scope);\n  }\n\n  $scope.search = function () {\n    $scope.searchFlag = true;\n    $scope.pageNum = '1';\n    getList(dsp, $scope);\n  };\n\n  $scope.enterSearch = function (e) {\n    $scope.searchFlag = true;\n    $scope.pageNum = '1';\n\n    if (e.keyCode == 13) {\n      getList(dsp, $scope);\n    }\n  };\n\n  $scope.payMoney = function () {\n    var item = payItem;\n    console.log(item);\n    $state.go('mycj-purchase', {\n      id: item.id,\n      orderType: 'taobao'\n    });\n  };\n\n  $scope.confirmReceive = function (item, index) {\n    $scope.confirmReceiveFlag = true;\n    $scope.operateItem = item;\n    $scope.operateItem.index = index;\n  };\n\n  $scope.goConfirmRexeive = function () {\n    dsp.postFun('app/buyOrder/updateOrderDone', JSON.stringify({\n      id: $scope.operateItem.id\n    }), function (data) {\n      console.log(data);\n      layer.msg('Confirm received successfully');\n      $scope.purchaseList[$scope.operateItem.index].status = 7;\n      $scope.confirmReceiveFlag = false;\n      $scope.operateItem = null;\n    });\n  };\n\n  $scope.cancelOrder = function (item, index) {\n    $scope.cancelOrderFlag = true;\n    $scope.operateItem = item;\n    $scope.operateItem.index = index;\n  }; // 获取弹窗组件关闭按钮\n\n\n  $scope.$on('closePopUps', function (e, data) {\n    $scope.cancelOrderFlag = data.showPopUps;\n  }); // 获取弹窗组件确定按钮\n\n  $scope.$on('confirmPopUps', function (e, d) {\n    goConfirmCancel();\n  });\n\n  function goConfirmCancel() {\n    dsp.postFun('app/buyOrder/removeOrderUNPAY', JSON.stringify({\n      id: $scope.operateItem.id\n    }), function (data) {\n      console.log(data);\n\n      if (data.data.code == 200) {\n        layer.msg('Cancel order successfully');\n        $scope.purchaseList.splice($scope.operateItem.index, 1);\n        $scope.cancelOrderFlag = false;\n        $scope.operateItem = null;\n      } else {\n        layer.msg('Cancel order failed');\n      }\n    });\n  } //发票按钮事件\n\n\n  $scope.invoiceFun = function (id, type) {\n    console.log(id, type);\n    dsp.isinvoiceDialog(id, type);\n  }; // 处理纠纷后的监听\n\n\n  $scope.$on('disputeSuccess', function (e, id) {\n    $scope.purchaseList = $scope.purchaseList.map(function (obj) {\n      return _objectSpread(_objectSpread({}, obj), {}, {\n        disputeId: obj.id === id ? '0' : obj.disputeId\n      });\n    });\n  }); // 查看详情（拒绝原因）\n\n  $scope.handleViewDetail = function (item) {\n    var msgLoading = cjMessage.loading({\n      isFixed: true\n    });\n    dsp.postFun('order/payRefuseOrder/getPayOrderRefuse', {\n      payOrderId: item.id\n    }, function (_ref) {\n      var data = _ref.data;\n      msgLoading.hide();\n\n      if (data.statusCode === '200') {\n        $scope.isRefuseFlag = true;\n        $scope.refusReason = data.result.refuseReason;\n      }\n    }, function (err) {\n      msgLoading.hide();\n      console.log(err);\n    });\n  };\n\n  var payItem;\n\n  $scope.countryTipFun = function (item) {\n    payItem = item;\n    var msgLoading = cjMessage.loading({\n      isFixed: true\n    });\n    dsp.postFun('app/dispute/getTipsListByType', {}, function (data) {\n      msgLoading.hide();\n      var oresult = data.data.result ? JSON.parse(data.data.result) : '';\n\n      if (oresult) {\n        $scope.holidayTips = {\n          title: oresult.title,\n          content: $sce.trustAsHtml(oresult.content)\n        };\n        $scope.showCountryTip = true;\n      } else {\n        $scope.payMoney();\n      }\n    }, function (err) {\n      msgLoading.hide();\n    });\n  }; //查看 缺货 已退款/已换货信息\n\n\n  $scope.showStockout = function (item, type) {\n    console.log(item);\n    var params = {\n      type: type\n    };\n\n    if (type === 'refund') {\n      params = _objectSpread(_objectSpread({}, params), {}, {\n        refundTime: +item.refundTime,\n        refundAmount: item.refundAmount\n      });\n    } else if (type === 'barter') {\n      params = _objectSpread(_objectSpread({}, params), {}, {\n        originalSku: item.originalSku\n      });\n    }\n\n    $scope.$broadcast('stockout-notice', params);\n  };\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovcHVyY2hhc2UvdGFvYmFvLWN0cmwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL3BhZ2VzL215Y2ovcHVyY2hhc2UvdGFvYmFvLWN0cmwuanM/ODg2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYWdlRnVuIH0gZnJvbSAnLi4vbXljai1jb21tb24nO1xyXG5pbXBvcnQgeyBOT0RFX0VOViB9IGZyb20gJ0Byb290X2VnZy9lbnYnO1xyXG5jb25zdCBhd2luVGVzTW9kZSA9IFsndGVzdG5ldycsICdkZXZlbG9wbWVudCcsICd0ZXN0J10uaW5jbHVkZXMoTk9ERV9FTlYpID8gMSA6IDA7XHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsIGRzcCwgJHN0YXRlUGFyYW1zLCRzdGF0ZSwkc2NlKSB7XHJcbiAgY29uc3QgYmFzZTY0ID0gJHJvb3RTY29wZS5iYXNlNjQ7XHJcbiAgZHNwLnNldFJpZ2h0TWluSGVpZ2h0KCk7XHJcbiAgJHNjb3BlLnNlYXJjaFN0ciA9ICcnO1xyXG4gICRzY29wZS5wYWdlU2l6ZSA9ICcxMCc7XHJcbiAgJHNjb3BlLnBhZ2VOdW0gPSAnMSc7XHJcbiAgJHNjb3BlLnRvdGFsTnVtID0gMDtcclxuICAkc2NvcGUudG90YWxQYWdlTnVtID0gMDtcclxuICB2YXIgZGVmYXVsdEZsYWcgPSB0cnVlO1xyXG4gICRzY29wZS5TdGF0ZSA9ICcnO1xyXG4gICRzY29wZS50eXBlID0gJHN0YXRlUGFyYW1zLnR5cGU7XHJcbiAgJHNjb3BlLmNvbnRlbnQgPSAnQXJlIHlvdSBzdXJlIHRvIGNhbmNlbCB0aGUgb3JkZXI/Pyc7XHJcbiAgY29uc29sZS5sb2coJHNjb3BlLnR5cGUpO1xyXG4gIGlmICgkc2NvcGUudHlwZSA9PSAnUGVuZGluZycpIHtcclxuICAgICRzY29wZS5TdGF0ZSA9ICczJztcclxuICAgIGRlZmF1bHRGbGFnID0gZmFsc2U7XHJcbiAgfSBlbHNlIGlmICgkc2NvcGUudHlwZSA9PSAnUGFpZCcpIHtcclxuICAgICRzY29wZS5TdGF0ZSA9ICcxMCdcclxuICAgIGRlZmF1bHRGbGFnID0gZmFsc2U7XHJcbiAgfSBlbHNlIGlmICgkc2NvcGUudHlwZSA9PSAnQ29tcGV0ZWQnKSB7XHJcbiAgICAkc2NvcGUuU3RhdGUgPSAnMTMnXHJcbiAgICBkZWZhdWx0RmxhZyA9IGZhbHNlO1xyXG4gIH0gZWxzZSBpZiAoJHNjb3BlLnR5cGUgPT0gJ1NoaXBwZWQnKSB7XHJcbiAgICAkc2NvcGUuU3RhdGUgPSAnNidcclxuICAgIGRlZmF1bHRGbGFnID0gZmFsc2U7XHJcbiAgfSBlbHNlIGlmICgkc2NvcGUudHlwZSA9PSAnUHJvY2Vzc2luZycpIHtcclxuICAgICRzY29wZS5TdGF0ZSA9ICcxMTEnXHJcbiAgICBkZWZhdWx0RmxhZyA9IGZhbHNlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkc2NvcGUuU3RhdGUgPSAnJ1xyXG4gICAgZGVmYXVsdEZsYWcgPSBmYWxzZTtcclxuICB9XHJcbiAgY29uc29sZS5sb2coJHNjb3BlLlN0YXRlKVxyXG4gICRzY29wZS5oYW5kbGVyUmVzdWx0ID0ge1xyXG4gICAgZmVua2FpZmFodW86IHsgbmFtZTogJ+WIhuW8gOWPkei0pycsIGtleTogJzEnIH0sXHJcbiAgICB0aWh1YW46IHsgbmFtZTogJ+e8uui0p+WVhuWTgeabv+aNoicsIGtleTogJzInIH0sXHJcbiAgICBwYXJ0UmVmdW5kOiB7IG5hbWU6ICfnvLrotKfllYblk4HpgIDmrL4nLCBrZXk6ICczJyB9LFxyXG4gICAgYWxsUmVmdW5kOiB7IG5hbWU6ICflhajpg6jllYblk4HpgIDmrL4nLCBrZXk6ICc0JyB9LFxyXG4gIH1cclxuXHJcbiAgJHJvb3RTY29wZS4kb24oJ2FwcC9leHRlcm5hbFB1cmNoYXNlL3NlbGVjdFBheU9yZGVyTGlzdCcsIChfLCBib29sKSA9PiB7XHJcbiAgICAkc2NvcGUubG9hZGluZyA9IGJvb2w7XHJcbiAgICBpZiAoYm9vbCkge1xyXG4gICAgICAkc2NvcGUubm90RGF0YUZvdW5kID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGZ1bmN0aW9uIGdldExpc3QoZHNwLCAkc2NvcGUpIHtcclxuICAgIHZhciBzZW5kSnNvbiA9IHt9O1xyXG4gICAgc2VuZEpzb24ucGFnZSA9ICRzY29wZS5wYWdlTnVtO1xyXG4gICAgc2VuZEpzb24ucGFnZU51bSA9ICRzY29wZS5wYWdlU2l6ZTtcclxuICAgIHNlbmRKc29uLnNlYXJjaFBhcmFtID0gJHNjb3BlLnNlYXJjaFN0cjtcclxuICAgIHNlbmRKc29uLnN0YXR1cyA9ICRzY29wZS5TdGF0ZTtcclxuICAgIC8vc2VuZEpzb24uaW1wU3RvcmFnZUZsYWcgPSAnJztcclxuXHJcbiAgICAvLyBkc3AubG9hZCgpO1xyXG4gICAgJHNjb3BlLnB1cmNoYXNlTGlzdCA9IFtdO1xyXG4gICAgZHNwLnBvc3RGdW4oJ2FwcC9leHRlcm5hbFB1cmNoYXNlL3NlbGVjdFBheU9yZGVyTGlzdCcsIEpTT04uc3RyaW5naWZ5KHNlbmRKc29uKSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgLy8gZHNwLmNsb3NlTG9hZCgpO1xyXG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgaWYgKCRzY29wZS5icnVuY2hJdGVtKSB7XHJcbiAgICAgICAgJHNjb3BlLmJydW5jaEl0ZW0ucGF0aCA9IGRhdGEuZGF0YS5wYXRoO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciByZXN1bHQgPSBkYXRhLmRhdGEub3JkZXJMaXN0IHx8IFtdO1xyXG4gICAgICAkc2NvcGUucHVyY2hhc2VMaXN0ID0gcmVzdWx0XHJcbiAgICAgICRzY29wZS50b3RhbE51bSA9IGRhdGEuZGF0YS50b3RhbE51bTtcclxuICAgICAgJHNjb3BlLnRvdGFsUGFnZU51bSA9IE1hdGguY2VpbCgkc2NvcGUudG90YWxOdW0gLyAkc2NvcGUucGFnZVNpemUpO1xyXG4gICAgICBpZiAoJHNjb3BlLnRvdGFsTnVtID09IDAgfHwgJHNjb3BlLnB1cmNoYXNlTGlzdC5sZW5ndGggPT09IDAgKSB7XHJcbiAgICAgICAgJHNjb3BlLnB1cmNoYXNlTGlzdCA9IFtdO1xyXG4gICAgICAgIGlmIChkZWZhdWx0RmxhZykge1xyXG4gICAgICAgICAgJHNjb3BlLm5vRGF0YSA9IHRydWU7XHJcbiAgICAgICAgICBkZWZhdWx0RmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUubm9EYXRhID0gZmFsc2U7XHJcbiAgICAgICAgICAkc2NvcGUubm90RGF0YUZvdW5kID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGRlZmF1bHRGbGFnID0gZmFsc2U7XHJcbiAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdwYWdlLWRhdGEnLCB7XHJcbiAgICAgICAgcGFnZU51bTogJHNjb3BlLnBhZ2VOdW0sXHJcbiAgICAgICAgdG90YWxOdW06ICRzY29wZS50b3RhbFBhZ2VOdW0sXHJcbiAgICAgICAgdG90YWxDb3VudHM6ICRzY29wZS50b3RhbE51bSxcclxuICAgICAgICBwYWdlU2l6ZTogJHNjb3BlLnBhZ2VTaXplXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gICRzY29wZS4kb24oJ3BhZ2VkYXRhLWZhJywgZnVuY3Rpb24gKGQsIGRhdGEpIHtcclxuICAgICRzY29wZS5wYWdlTnVtID0gZGF0YS5wYWdlTnVtO1xyXG4gICAgJHNjb3BlLnBhZ2VTaXplID0gZGF0YS5wYWdlU2l6ZTtcclxuICAgIGdldExpc3QoZHNwLCAkc2NvcGUpXHJcbiAgfSlcclxuICBcclxuICAvL1xyXG4gICRzY29wZS5TdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICRzY29wZS5wYWdlTnVtID0gJzEnO1xyXG4gICAgZ2V0TGlzdChkc3AsICRzY29wZSk7XHJcbiAgfVxyXG4gIHZhciBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgaWYgKGhyZWYuaW5kZXhPZignPycpID49IDApIHtcclxuICAgIHZhciBocmVmQXJyID0gaHJlZi5zcGxpdCgnPycpO1xyXG4gICAgY29uc29sZS5sb2coaHJlZkFycilcclxuICAgIHZhciBwYXlkYXRhQXJyID0gaHJlZkFyclsxXS5zcGxpdCgnJicpXHJcbiAgICB2YXIgbGVuZ3RoUGF5ID0gcGF5ZGF0YUFyci5sZW5ndGg7XHJcbiAgICBjb25zb2xlLmxvZyhwYXlkYXRhQXJyKVxyXG4gICAgY29uc29sZS5sb2cobGVuZ3RoUGF5KVxyXG4gICAgaWYgKGxlbmd0aFBheSA9PSAzKSB7XHJcbiAgICAgIHZhciBwYXltZW50QXJyID0gcGF5ZGF0YUFyclswXS5zcGxpdCgnPScpO1xyXG4gICAgICB2YXIgdG9rZW5BcnIgPSBwYXlkYXRhQXJyWzFdLnNwbGl0KCc9Jyk7XHJcbiAgICAgIHZhciBwYXlpZEFyciA9IHBheWRhdGFBcnJbMl0uc3BsaXQoJz0nKTtcclxuXHJcbiAgICAgIHZhciBwYXlDUyA9IHt9O1xyXG4gICAgICBwYXlDUy5wYXltZW50SWQgPSBwYXltZW50QXJyWzFdO1xyXG4gICAgICBwYXlDUy50b2tlbiA9IHRva2VuQXJyWzFdO1xyXG4gICAgICBwYXlDUy5wYXllcklEID0gcGF5aWRBcnJbMV07XHJcbiAgICAgIHBheUNTLmNvZGUgPSA0O1xyXG4gICAgICBwYXlDUy5hd2MgPSBkc3AuZ2V0Q29va2llKFwiYXdjXCIpIHx8ICcnO1xyXG5cclxuICAgICAgY29uc29sZS5sb2cocGF5Q1MpXHJcbiAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHBheUNTKSlcclxuICAgICAgdmFyIGlzVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGF5VG9rZW4nKTtcclxuICAgICAgY29uc29sZS5sb2coaXNUb2tlbilcclxuICAgICAgaWYgKGlzVG9rZW4gPT0gdG9rZW5BcnJbMV0pIHtcclxuICAgICAgICBnZXRMaXN0KGRzcCwgJHNjb3BlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9wYXkvcGF5JywgSlNPTi5zdHJpbmdpZnkocGF5Q1MpLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVzdWx0ICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGxheWVyLm1zZygnUGF5bWVudCBGYWlsZWQnKVxyXG4gICAgICAgICAgICBnZXRMaXN0KGRzcCwgJHNjb3BlKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxheWVyLm1zZygnUGF5bWVudCBTdWNjZWVkJylcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BheVRva2VuJywgdG9rZW5BcnJbMV0pXHJcbiAgICAgICAgICAgIGdldExpc3QoZHNwLCAkc2NvcGUpO1xyXG5cclxuICAgICAgICAgICAgLy9hd2luIOWPkemAgeaUr+S7mOaIkOWKn2ZhbGwtYmFja1xyXG4gICAgICAgICAgICBsZXQgYXdpbkxvY2FsUGFyYW1zID0gbnVsbDtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBhd2luTG9jYWxQYXJhbXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGBfcGF5cGFsXyR7cGF5Q1MudG9rZW59YCkpXHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYXdpbkxvY2FsUGFyYW1zKVxyXG4gICAgICAgICAgICB9IGNhdGNoKGVycikgeyBjb25zb2xlLmxvZygn6Kej5p6Q6ZSZ6K+vJyk7IH1cclxuICAgICAgICAgICAgaWYoYXdpbkxvY2FsUGFyYW1zKXtcclxuICAgICAgICAgICAgICBmdW5jdGlvbiBhd2luSlMgKCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSAnPHNjcmlwdCA+JytcclxuICAgICAgICAgICAgICAgICAgICAnIHZhciBBV0lOID0ge307JyArIFxyXG4gICAgICAgICAgICAgICAgICAgICcgIEFXSU4uVHJhY2tpbmcgPSB7fTsnICtcclxuICAgICAgICAgICAgICAgICAgICAnIEFXSU4uVHJhY2tpbmcuU2FsZSA9IHt9OycgK1xyXG4gICAgICAgICAgICAgICAgICAgICcgQVdJTi5UcmFja2luZy5TYWxlLmFtb3VudCA9JyArIGF3aW5Mb2NhbFBhcmFtcy5hd2luQW1vdW50ICsgJzsnICtcclxuICAgICAgICAgICAgICAgICAgICAnIEFXSU4uVHJhY2tpbmcuU2FsZS5vcmRlclJlZiA9XCInICsgYXdpbkxvY2FsUGFyYW1zLmF3aW5SZWYrICdcIjsnICtcclxuICAgICAgICAgICAgICAgICAgICAnIEFXSU4uVHJhY2tpbmcuU2FsZS5wYXJ0cyAgPVwiJyArIFwiREVGQVVMVDpcIiArIGF3aW5Mb2NhbFBhcmFtcy5hd2luQW1vdW50KyAnXCI7JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ0FXSU4uVHJhY2tpbmcuU2FsZS5jdXJyZW5jeSA9IFwiVVNEXCI7JytcclxuICAgICAgICAgICAgICAgICAgICAnIEFXSU4uVHJhY2tpbmcuU2FsZS50ZXN0ID0gXCInICsgYXdpblRlc01vZGUgKyAnXCI7JytcclxuICAgICAgICAgICAgICAgICAgICAnQVdJTi5UcmFja2luZy5TYWxlLmNoYW5uZWwgPSBcImF3XCI7JytcclxuICAgICAgICAgICAgICAgICAgICArJzxcXC9zY3JpcHQ+J1xyXG4gICAgICAgICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICBsZXQgb3NyYyA9ICdodHRwczovL3d3dy5kd2luMS5jb20vMjE1NzguanMnO1xyXG4gICAgICAgICAgICAgICAgICBsZXQgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAgICAgICAgICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XHJcbiAgICAgICAgICAgICAgICAgIHNjcmlwdC5zcmMgPSBvc3JjO1xyXG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBmdW5jdGlvbiBpbWdIdHRwRnVuKCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3JkZXJDb3VudE1vbmV5ID0gYXdpbkxvY2FsUGFyYW1zLmF3aW5BbW91bnQudG9GaXhlZCgyKVxyXG4gICAgICAgICAgICAgICAgbGV0IEJhc2tldEltYWdlID0gbmV3IEltYWdlKDEsMSk7XHJcbiAgICAgICAgICAgICAgICBCYXNrZXRJbWFnZS5zcmMgPSBgaHR0cHM6Ly93d3cuYXdpbjEuY29tL3NyZWFkLmltZz90dD1ucyZ0dj0yJm1lcmNoYW50PTIxNTc4JmFtb3VudD0ke29yZGVyQ291bnRNb25leX0mY2g9YXcmcGFydHM9REVGQVVMVDoke29yZGVyQ291bnRNb25leX0mY3I9VVNEJnJlZj0ke2F3aW5Mb2NhbFBhcmFtcy5hd2luUmVmfSZ0ZXNtb2RlPSR7YXdpblRlc01vZGV9YDtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGBfcGF5cGFsXyR7cGF5Q1MudG9rZW59YClcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgbGV0IGF3Y1RleHQgPSBkc3AuZ2V0Q29va2llKCdhd2MnKVxyXG4gICAgICAgICAgICAgIGxldCB1dG1Tb3VyY2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXRtU291cmNlJyk7XHJcbiAgICAgICAgICAgICAgaWYoYXdjVGV4dCAmJiB1dG1Tb3VyY2UgPT0gJ2F3aW4nKXsvL+aciWF3aW7nmoRhd2PlgLwg5bm25LiU55m75b2V5bmz5Y+w5p2l5rqQ5pivYXdpblxyXG4gICAgICAgICAgICAgICAgYXdpbkpTKClcclxuICAgICAgICAgICAgICAgIGltZ0h0dHBGdW4oKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChsZW5ndGhQYXkgPCAzKSB7XHJcbiAgICAgIGxheWVyLm1zZygnUGF5bWVudCBGYWlsZWQnKVxyXG4gICAgICBnZXRMaXN0KGRzcCwgJHNjb3BlKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgZ2V0TGlzdChkc3AsICRzY29wZSk7XHJcbiAgfVxyXG4gICRzY29wZS5zZWFyY2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkc2NvcGUuc2VhcmNoRmxhZyA9IHRydWU7XHJcbiAgICAkc2NvcGUucGFnZU51bSA9ICcxJztcclxuICAgIGdldExpc3QoZHNwLCAkc2NvcGUpO1xyXG4gIH1cclxuICAkc2NvcGUuZW50ZXJTZWFyY2ggPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgJHNjb3BlLnNlYXJjaEZsYWcgPSB0cnVlO1xyXG4gICAgJHNjb3BlLnBhZ2VOdW0gPSAnMSc7XHJcbiAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgIGdldExpc3QoZHNwLCAkc2NvcGUpO1xyXG4gICAgfVxyXG4gIH1cclxuIFxyXG4gICRzY29wZS5wYXlNb25leSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBpdGVtID0gcGF5SXRlbTtcclxuICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xyXG4gICAgJHN0YXRlLmdvKCdteWNqLXB1cmNoYXNlJywgeyBpZDppdGVtLmlkLCBvcmRlclR5cGU6ICd0YW9iYW8nIH0pO1xyXG4gIH1cclxuICAkc2NvcGUuY29uZmlybVJlY2VpdmUgPSBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcclxuICAgICRzY29wZS5jb25maXJtUmVjZWl2ZUZsYWcgPSB0cnVlO1xyXG4gICAgJHNjb3BlLm9wZXJhdGVJdGVtID0gaXRlbTtcclxuICAgICRzY29wZS5vcGVyYXRlSXRlbS5pbmRleCA9IGluZGV4O1xyXG4gIH1cclxuICAkc2NvcGUuZ29Db25maXJtUmV4ZWl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGRzcC5wb3N0RnVuKCdhcHAvYnV5T3JkZXIvdXBkYXRlT3JkZXJEb25lJywgSlNPTi5zdHJpbmdpZnkoeyBpZDogJHNjb3BlLm9wZXJhdGVJdGVtLmlkIH0pLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgbGF5ZXIubXNnKCdDb25maXJtIHJlY2VpdmVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAkc2NvcGUucHVyY2hhc2VMaXN0WyRzY29wZS5vcGVyYXRlSXRlbS5pbmRleF0uc3RhdHVzID0gNztcclxuICAgICAgJHNjb3BlLmNvbmZpcm1SZWNlaXZlRmxhZyA9IGZhbHNlO1xyXG4gICAgICAkc2NvcGUub3BlcmF0ZUl0ZW0gPSBudWxsO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gICRzY29wZS5jYW5jZWxPcmRlciA9IGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgJHNjb3BlLmNhbmNlbE9yZGVyRmxhZyA9IHRydWU7XHJcbiAgICAkc2NvcGUub3BlcmF0ZUl0ZW0gPSBpdGVtO1xyXG4gICAgJHNjb3BlLm9wZXJhdGVJdGVtLmluZGV4ID0gaW5kZXg7XHJcbiAgfVxyXG4gIC8vIOiOt+WPluW8ueeql+e7hOS7tuWFs+mXreaMiemSrlxyXG4gICRzY29wZS4kb24oJ2Nsb3NlUG9wVXBzJywgKGUsIGRhdGEpID0+IHtcclxuICAgICRzY29wZS5jYW5jZWxPcmRlckZsYWcgPSBkYXRhLnNob3dQb3BVcHM7XHJcbiAgfSlcclxuICAvLyDojrflj5blvLnnqpfnu4Tku7bnoa7lrprmjInpkq5cclxuICAkc2NvcGUuJG9uKCdjb25maXJtUG9wVXBzJywgKGUsIGQpID0+IHtcclxuICAgIGdvQ29uZmlybUNhbmNlbCgpO1xyXG4gIH0pXHJcblxyXG4gIGZ1bmN0aW9uIGdvQ29uZmlybUNhbmNlbCgpIHtcclxuICAgIGRzcC5wb3N0RnVuKCdhcHAvYnV5T3JkZXIvcmVtb3ZlT3JkZXJVTlBBWScsIEpTT04uc3RyaW5naWZ5KHsgaWQ6ICRzY29wZS5vcGVyYXRlSXRlbS5pZCB9KSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgIGlmIChkYXRhLmRhdGEuY29kZSA9PSAyMDApIHtcclxuICAgICAgICBsYXllci5tc2coJ0NhbmNlbCBvcmRlciBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAkc2NvcGUucHVyY2hhc2VMaXN0LnNwbGljZSgkc2NvcGUub3BlcmF0ZUl0ZW0uaW5kZXgsIDEpO1xyXG4gICAgICAgICRzY29wZS5jYW5jZWxPcmRlckZsYWcgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUub3BlcmF0ZUl0ZW0gPSBudWxsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxheWVyLm1zZygnQ2FuY2VsIG9yZGVyIGZhaWxlZCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v5Y+R56Wo5oyJ6ZKu5LqL5Lu2XHJcbiAgJHNjb3BlLmludm9pY2VGdW4gPSBmdW5jdGlvbiAoaWQsIHR5cGUpIHtcclxuICAgIGNvbnNvbGUubG9nKGlkLCB0eXBlKTtcclxuICAgIGRzcC5pc2ludm9pY2VEaWFsb2coaWQsIHR5cGUpO1xyXG4gIH1cclxuICBcclxuICAvLyDlpITnkIbnuqDnurflkI7nmoTnm5HlkKxcclxuICAkc2NvcGUuJG9uKCdkaXNwdXRlU3VjY2VzcycsIChlLCBpZCkgPT4ge1xyXG4gICAgJHNjb3BlLnB1cmNoYXNlTGlzdCA9ICRzY29wZS5wdXJjaGFzZUxpc3QubWFwKG9iaiA9PiAoe1xyXG4gICAgICAuLi5vYmosXHJcbiAgICAgIGRpc3B1dGVJZDogb2JqLmlkID09PSBpZCA/ICcwJyA6IG9iai5kaXNwdXRlSWRcclxuICAgIH0pKTtcclxuICB9KVxyXG4gIFxyXG4gIC8vIOafpeeci+ivpuaDhe+8iOaLkue7neWOn+WboO+8iVxyXG4gICRzY29wZS5oYW5kbGVWaWV3RGV0YWlsID0gaXRlbSA9PntcclxuwqDCoMKgwqBjb25zdMKgbXNnTG9hZGluZ8KgPcKgY2pNZXNzYWdlLmxvYWRpbmcoe8KgaXNGaXhlZDogdHJ1ZcKgfSlcclxuICAgIGRzcC5wb3N0RnVuKCdvcmRlci9wYXlSZWZ1c2VPcmRlci9nZXRQYXlPcmRlclJlZnVzZScsIHtwYXlPcmRlcklkOml0ZW0uaWR9LCAoe2RhdGF9KSA9PntcclxuICAgICAgbXNnTG9hZGluZy5oaWRlKClcclxuICAgICAgaWYgKGRhdGEuc3RhdHVzQ29kZSA9PT0gJzIwMCcpe1xyXG4gICAgICAgICRzY29wZS5pc1JlZnVzZUZsYWcgPSB0cnVlXHJcbiAgICAgICAgJHNjb3BlLnJlZnVzUmVhc29uID0gZGF0YS5yZXN1bHQucmVmdXNlUmVhc29uXHJcbiAgICAgIH1cclxuICAgIH0sIGVyciA9PntcclxuICAgICAgbXNnTG9hZGluZy5oaWRlKClcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgXHJcbiAgfVxyXG4gIGxldCBwYXlJdGVtO1xyXG4gICRzY29wZS5jb3VudHJ5VGlwRnVuID0gKGl0ZW0pPT57XHJcbiAgICBwYXlJdGVtID0gaXRlbTtcclxuICAgIGNvbnN0wqBtc2dMb2FkaW5nwqA9wqBjak1lc3NhZ2UubG9hZGluZyh7wqBpc0ZpeGVkOiB0cnVlwqB9KVxyXG4gICAgZHNwLnBvc3RGdW4oJ2FwcC9kaXNwdXRlL2dldFRpcHNMaXN0QnlUeXBlJyx7fSwgZGF0YSA9PntcclxuICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICAgIGxldCBvcmVzdWx0ID0gZGF0YS5kYXRhLnJlc3VsdD9KU09OLnBhcnNlKGRhdGEuZGF0YS5yZXN1bHQpOicnO1xyXG4gICAgICBpZihvcmVzdWx0KXtcclxuICAgICAgICAkc2NvcGUuaG9saWRheVRpcHMgPSB7XHJcbiAgICAgICAgICB0aXRsZTpvcmVzdWx0LnRpdGxlLFxyXG4gICAgICAgICAgY29udGVudDokc2NlLnRydXN0QXNIdG1sKG9yZXN1bHQuY29udGVudClcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLnNob3dDb3VudHJ5VGlwPXRydWU7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgICRzY29wZS5wYXlNb25leSgpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfSxlcnI9PntcclxuICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICB9KVxyXG4gIH1cclxuICAvL+afpeeciyDnvLrotKcg5bey6YCA5qy+L+W3suaNoui0p+S/oeaBr1xyXG4gICRzY29wZS5zaG93U3RvY2tvdXQgPSAoaXRlbSwgdHlwZSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coaXRlbSlcclxuICAgIGxldCBwYXJhbXMgPSB7IHR5cGUgfSBcclxuICAgIGlmKHR5cGUgPT09ICdyZWZ1bmQnICkge1xyXG4gICAgICBwYXJhbXMgPSB7XHJcbiAgICAgICAgLi4ucGFyYW1zLFxyXG4gICAgICAgIHJlZnVuZFRpbWU6ICtpdGVtLnJlZnVuZFRpbWUsXHJcbiAgICAgICAgcmVmdW5kQW1vdW50OiBpdGVtLnJlZnVuZEFtb3VudFxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdiYXJ0ZXInKSB7XHJcbiAgICAgIHBhcmFtcyA9IHsuLi5wYXJhbXMsIG9yaWdpbmFsU2t1OiBpdGVtLm9yaWdpbmFsU2t1IH1cclxuICAgIH1cclxuICAgICRzY29wZS4kYnJvYWRjYXN0KCdzdG9ja291dC1ub3RpY2UnLCBwYXJhbXMpO1xyXG4gIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBCQTtBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUZBO0FBQUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/pages/mycj/purchase/taobao-ctrl.js\n");

/***/ })

}]);