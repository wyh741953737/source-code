(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[11],{

/***/ "../src/pages/mycj/payment/paydata.js":
/*!********************************************!*\
  !*** ../src/pages/mycj/payment/paydata.js ***!
  \********************************************/
/*! exports provided: countryL */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"countryL\", function() { return countryL; });\nvar countryL = {\n  \"AF\": \"Afghanistan\",\n  \"AL\": \"Albania\",\n  \"DZ\": \"Algeria\",\n  \"AS\": \"Samoa American\",\n  \"AD\": \"Andorra\",\n  \"AG\": \"Antigua &amp; Barbuda\",\n  \"AI\": \"Anguilla\",\n  \"AR\": \"Argentina\",\n  \"AA\": \"Armenia\",\n  \"AW\": \"Aruba\",\n  \"AU\": \"Australia\",\n  \"AT\": \"Austria\",\n  \"AZ\": \"Azerbaijan\",\n  \"BS\": \"Bahamas\",\n  \"BH\": \"Bahrain\",\n  \"BD\": \"Bangladesh\",\n  \"BB\": \"Barbados\",\n  \"BY\": \"Belarus\",\n  \"BE\": \"Belgium\",\n  \"BZ\": \"Belize\",\n  \"BJ\": \"Benin\",\n  \"BM\": \"Bermuda\",\n  \"BT\": \"Bhutan\",\n  \"BO\": \"Bolivia\",\n  \"BL\": \"Bonaire\",\n  \"BA\": \"Bosnia &amp; Herzegovina\",\n  \"BW\": \"Botswana\",\n  \"BR\": \"Brazil\",\n  \"BC\": \"British Indian Ocean Ter\",\n  \"BN\": \"Brunei\",\n  \"BG\": \"Bulgaria\",\n  \"BF\": \"Burkina Faso\",\n  \"BI\": \"Burundi\",\n  \"KH\": \"Cambodia\",\n  \"CM\": \"Cameroon\",\n  \"CA\": \"Canada\",\n  \"IC\": \"Canary Islands\",\n  \"CV\": \"Cape Verde\",\n  \"KY\": \"Cayman Islands\",\n  \"CF\": \"Central African Republic\",\n  \"TD\": \"Chad\",\n  \"CD\": \"Channel Islands\",\n  \"CL\": \"Chile\",\n  \"CN\": \"China\",\n  \"CI\": \"Christmas Island\",\n  \"CS\": \"Cocos Island\",\n  \"CO\": \"Colombia\",\n  \"CC\": \"Comoros\",\n  \"CG\": \"Congo\",\n  \"CK\": \"Cook Islands\",\n  \"CR\": \"Costa Rica\",\n  \"CT\": \"Cote DIvoire\",\n  \"HR\": \"Croatia\",\n  \"CU\": \"Cuba\",\n  \"CB\": \"Curacao\",\n  \"CY\": \"Cyprus\",\n  \"CZ\": \"Czech Republic\",\n  \"DK\": \"Denmark\",\n  \"DJ\": \"Djibouti\",\n  \"DM\": \"Dominica\",\n  \"DO\": \"Dominican Republic\",\n  \"TM\": \"East Timor\",\n  \"EC\": \"Ecuador\",\n  \"EG\": \"Egypt\",\n  \"SV\": \"El Salvador\",\n  \"GQ\": \"Equatorial Guinea\",\n  \"ER\": \"Eritrea\",\n  \"EE\": \"Estonia\",\n  \"ET\": \"Ethiopia\",\n  \"FA\": \"Falkland Islands\",\n  \"FO\": \"Faroe Islands\",\n  \"FJ\": \"Fiji\",\n  \"FI\": \"Finland\",\n  \"FR\": \"France\",\n  \"GF\": \"French Guiana\",\n  \"PF\": \"French Polynesia\",\n  \"FS\": \"French Southern Ter\",\n  \"GA\": \"Gabon\",\n  \"GM\": \"Gambia\",\n  \"GE\": \"Georgia\",\n  \"DE\": \"Germany\",\n  \"GH\": \"Ghana\",\n  \"GI\": \"Gibraltar\",\n  \"GB\": \"United Kingdom\",\n  \"GR\": \"Greece\",\n  \"GL\": \"Greenland\",\n  \"GD\": \"Grenada\",\n  \"GP\": \"Guadeloupe\",\n  \"GU\": \"Guam\",\n  \"GT\": \"Guatemala\",\n  \"GN\": \"Guinea\",\n  \"GY\": \"Guyana\",\n  \"HT\": \"Haiti\",\n  \"HW\": \"Hawaii\",\n  \"HN\": \"Honduras\",\n  \"HK\": \"Hong Kong\",\n  \"HU\": \"Hungary\",\n  \"IS\": \"Iceland\",\n  \"IN\": \"India\",\n  \"ID\": \"Indonesia\",\n  \"IR\": \"Iran\",\n  \"IQ\": \"Iraq\",\n  \"IE\": \"Ireland\",\n  \"IM\": \"Isle of Man\",\n  \"IL\": \"Israel\",\n  \"IT\": \"Italy\",\n  \"JM\": \"Jamaica\",\n  \"JP\": \"Japan\",\n  \"JO\": \"Jordan\",\n  \"KZ\": \"Kazakhstan\",\n  \"KE\": \"Kenya\",\n  \"KI\": \"Kiribati\",\n  \"NK\": \"Korea North\",\n  \"KR\": \"Korea South\",\n  \"KW\": \"Kuwait\",\n  \"KG\": \"Kyrgyzstan\",\n  \"LA\": \"Laos\",\n  \"LV\": \"Latvia\",\n  \"LB\": \"Lebanon\",\n  \"LS\": \"Lesotho\",\n  \"LR\": \"Liberia\",\n  \"LY\": \"Libya\",\n  \"LI\": \"Liechtenstein\",\n  \"LT\": \"Lithuania\",\n  \"LU\": \"Luxembourg\",\n  \"MO\": \"Macau\",\n  \"MK\": \"Macedonia\",\n  \"MG\": \"Madagascar\",\n  \"MY\": \"Malaysia\",\n  \"MW\": \"Malawi\",\n  \"MV\": \"Maldives\",\n  \"ML\": \"Mali\",\n  \"MT\": \"Malta\",\n  \"MH\": \"Marshall Islands\",\n  \"MQ\": \"Martinique\",\n  \"MR\": \"Mauritania\",\n  \"MU\": \"Mauritius\",\n  \"ME\": \"Republic of Montenegro\",\n  \"MX\": \"Mexico\",\n  \"MI\": \"Midway Islands\",\n  \"MD\": \"Moldova\",\n  \"MC\": \"Monaco\",\n  \"MN\": \"Mongolia\",\n  \"MS\": \"Montserrat\",\n  \"MA\": \"Morocco\",\n  \"MZ\": \"Mozambique\",\n  \"MM\": \"Myanmar\",\n  \"NA\": \"Nambia\",\n  \"NU\": \"Nauru\",\n  \"NP\": \"Nepal\",\n  \"AN\": \"Netherland Antilles\",\n  \"NL\": \"Netherlands\",\n  \"NV\": \"Nevis\",\n  \"NC\": \"New Caledonia\",\n  \"NZ\": \"New Zealand\",\n  \"NI\": \"Nicaragua\",\n  \"NE\": \"Niger\",\n  \"NG\": \"Nigeria\",\n  \"NW\": \"Niue\",\n  \"NF\": \"Norfolk Island\",\n  \"NO\": \"Norway\",\n  \"OM\": \"Oman\",\n  \"PK\": \"Pakistan\",\n  \"PW\": \"Palau Island\",\n  \"PS\": \"Palestine\",\n  \"PA\": \"Panama\",\n  \"PG\": \"Papua New Guinea\",\n  \"PY\": \"Paraguay\",\n  \"PE\": \"Peru\",\n  \"PH\": \"Philippines\",\n  \"PO\": \"Pitcairn Island\",\n  \"PL\": \"Poland\",\n  \"PT\": \"Portugal\",\n  \"PR\": \"Puerto Rico\",\n  \"QA\": \"Qatar\",\n  \"RS\": \"Serbia\",\n  \"RE\": \"Reunion\",\n  \"RO\": \"Romania\",\n  \"RU\": \"Russia\",\n  \"RW\": \"Rwanda\",\n  \"NT\": \"St Barthelemy\",\n  \"EU\": \"St Eustatius\",\n  \"HE\": \"St Helena\",\n  \"KN\": \"St Kitts-Nevis\",\n  \"LC\": \"St Lucia\",\n  \"MB\": \"St Maarten\",\n  \"PM\": \"St Pierre &amp; Miquelon\",\n  \"VC\": \"St Vincent &amp; Grenadines\",\n  \"SP\": \"Saipan\",\n  \"SO\": \"Samoa\",\n  \"SM\": \"San Marino\",\n  \"ST\": \"Sao Tome &amp; Principe\",\n  \"SA\": \"Saudi Arabia\",\n  \"SN\": \"Senegal\",\n  \"SC\": \"Seychelles\",\n  \"SL\": \"Sierra Leone\",\n  \"SG\": \"Singapore\",\n  \"SK\": \"Slovakia\",\n  \"SI\": \"Slovenia\",\n  \"SB\": \"Solomon Islands\",\n  \"OI\": \"Somalia\",\n  \"ZA\": \"South Africa\",\n  \"ES\": \"Spain\",\n  \"LK\": \"Sri Lanka\",\n  \"SD\": \"Sudan\",\n  \"SR\": \"Suriname\",\n  \"SZ\": \"Swaziland\",\n  \"SE\": \"Sweden\",\n  \"CH\": \"Switzerland\",\n  \"SY\": \"Syria\",\n  \"TA\": \"Tahiti\",\n  \"TW\": \"Taiwan\",\n  \"TJ\": \"Tajikistan\",\n  \"TZ\": \"Tanzania\",\n  \"TH\": \"Thailand\",\n  \"TG\": \"Togo\",\n  \"TK\": \"Tokelau\",\n  \"TO\": \"Tonga\",\n  \"TT\": \"Trinidad &amp; Tobago\",\n  \"TN\": \"Tunisia\",\n  \"TR\": \"Turkey\",\n  \"TU\": \"Turkmenistan\",\n  \"TC\": \"Turks &amp; Caicos Is\",\n  \"TV\": \"Tuvalu\",\n  \"UG\": \"Uganda\",\n  \"UA\": \"Ukraine\",\n  \"AE\": \"United Arab Emirates\",\n  \"US\": \"United States of America\",\n  \"UY\": \"Uruguay\",\n  \"UZ\": \"Uzbekistan\",\n  \"VU\": \"Vanuatu\",\n  \"VS\": \"Vatican City State\",\n  \"VE\": \"Venezuela\",\n  \"VN\": \"Vietnam\",\n  \"VB\": \"Virgin Islands (Brit)\",\n  \"VA\": \"Virgin Islands (USA)\",\n  \"WK\": \"Wake Island\",\n  \"WF\": \"Wallis &amp; Futana Is\",\n  \"YE\": \"Yemen\",\n  \"ZR\": \"Zaire\",\n  \"ZM\": \"Zambia\",\n  \"ZW\": \"Zimbabwe\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovcGF5bWVudC9wYXlkYXRhLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9wYWdlcy9teWNqL3BheW1lbnQvcGF5ZGF0YS5qcz8yODJkIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBjb3VudHJ5TD17IFwiQUZcIjogXCJBZmdoYW5pc3RhblwiLCBcIkFMXCI6IFwiQWxiYW5pYVwiLCBcIkRaXCI6IFwiQWxnZXJpYVwiLCBcIkFTXCI6IFwiU2Ftb2EgQW1lcmljYW5cIiwgXCJBRFwiOiBcIkFuZG9ycmFcIiwgXCJBR1wiOiBcIkFudGlndWEgJmFtcDsgQmFyYnVkYVwiLCBcIkFJXCI6IFwiQW5ndWlsbGFcIiwgXCJBUlwiOiBcIkFyZ2VudGluYVwiLCBcIkFBXCI6IFwiQXJtZW5pYVwiLCBcIkFXXCI6IFwiQXJ1YmFcIiwgXCJBVVwiOiBcIkF1c3RyYWxpYVwiLCBcIkFUXCI6IFwiQXVzdHJpYVwiLCBcIkFaXCI6IFwiQXplcmJhaWphblwiLCBcIkJTXCI6IFwiQmFoYW1hc1wiLCBcIkJIXCI6IFwiQmFocmFpblwiLCBcIkJEXCI6IFwiQmFuZ2xhZGVzaFwiLCBcIkJCXCI6IFwiQmFyYmFkb3NcIiwgXCJCWVwiOiBcIkJlbGFydXNcIiwgXCJCRVwiOiBcIkJlbGdpdW1cIiwgXCJCWlwiOiBcIkJlbGl6ZVwiLCBcIkJKXCI6IFwiQmVuaW5cIiwgXCJCTVwiOiBcIkJlcm11ZGFcIiwgXCJCVFwiOiBcIkJodXRhblwiLCBcIkJPXCI6IFwiQm9saXZpYVwiLCBcIkJMXCI6IFwiQm9uYWlyZVwiLCBcIkJBXCI6IFwiQm9zbmlhICZhbXA7IEhlcnplZ292aW5hXCIsIFwiQldcIjogXCJCb3Rzd2FuYVwiLCBcIkJSXCI6IFwiQnJhemlsXCIsIFwiQkNcIjogXCJCcml0aXNoIEluZGlhbiBPY2VhbiBUZXJcIiwgXCJCTlwiOiBcIkJydW5laVwiLCBcIkJHXCI6IFwiQnVsZ2FyaWFcIiwgXCJCRlwiOiBcIkJ1cmtpbmEgRmFzb1wiLCBcIkJJXCI6IFwiQnVydW5kaVwiLCBcIktIXCI6IFwiQ2FtYm9kaWFcIiwgXCJDTVwiOiBcIkNhbWVyb29uXCIsIFwiQ0FcIjogXCJDYW5hZGFcIiwgXCJJQ1wiOiBcIkNhbmFyeSBJc2xhbmRzXCIsIFwiQ1ZcIjogXCJDYXBlIFZlcmRlXCIsIFwiS1lcIjogXCJDYXltYW4gSXNsYW5kc1wiLCBcIkNGXCI6IFwiQ2VudHJhbCBBZnJpY2FuIFJlcHVibGljXCIsIFwiVERcIjogXCJDaGFkXCIsIFwiQ0RcIjogXCJDaGFubmVsIElzbGFuZHNcIiwgXCJDTFwiOiBcIkNoaWxlXCIsIFwiQ05cIjogXCJDaGluYVwiLCBcIkNJXCI6IFwiQ2hyaXN0bWFzIElzbGFuZFwiLCBcIkNTXCI6IFwiQ29jb3MgSXNsYW5kXCIsIFwiQ09cIjogXCJDb2xvbWJpYVwiLCBcIkNDXCI6IFwiQ29tb3Jvc1wiLCBcIkNHXCI6IFwiQ29uZ29cIiwgXCJDS1wiOiBcIkNvb2sgSXNsYW5kc1wiLCBcIkNSXCI6IFwiQ29zdGEgUmljYVwiLCBcIkNUXCI6IFwiQ290ZSBESXZvaXJlXCIsIFwiSFJcIjogXCJDcm9hdGlhXCIsIFwiQ1VcIjogXCJDdWJhXCIsIFwiQ0JcIjogXCJDdXJhY2FvXCIsIFwiQ1lcIjogXCJDeXBydXNcIiwgXCJDWlwiOiBcIkN6ZWNoIFJlcHVibGljXCIsIFwiREtcIjogXCJEZW5tYXJrXCIsIFwiREpcIjogXCJEamlib3V0aVwiLCBcIkRNXCI6IFwiRG9taW5pY2FcIiwgXCJET1wiOiBcIkRvbWluaWNhbiBSZXB1YmxpY1wiLCBcIlRNXCI6IFwiRWFzdCBUaW1vclwiLCBcIkVDXCI6IFwiRWN1YWRvclwiLCBcIkVHXCI6IFwiRWd5cHRcIiwgXCJTVlwiOiBcIkVsIFNhbHZhZG9yXCIsIFwiR1FcIjogXCJFcXVhdG9yaWFsIEd1aW5lYVwiLCBcIkVSXCI6IFwiRXJpdHJlYVwiLCBcIkVFXCI6IFwiRXN0b25pYVwiLCBcIkVUXCI6IFwiRXRoaW9waWFcIiwgXCJGQVwiOiBcIkZhbGtsYW5kIElzbGFuZHNcIiwgXCJGT1wiOiBcIkZhcm9lIElzbGFuZHNcIiwgXCJGSlwiOiBcIkZpamlcIiwgXCJGSVwiOiBcIkZpbmxhbmRcIiwgXCJGUlwiOiBcIkZyYW5jZVwiLCBcIkdGXCI6IFwiRnJlbmNoIEd1aWFuYVwiLCBcIlBGXCI6IFwiRnJlbmNoIFBvbHluZXNpYVwiLCBcIkZTXCI6IFwiRnJlbmNoIFNvdXRoZXJuIFRlclwiLCBcIkdBXCI6IFwiR2Fib25cIiwgXCJHTVwiOiBcIkdhbWJpYVwiLCBcIkdFXCI6IFwiR2VvcmdpYVwiLCBcIkRFXCI6IFwiR2VybWFueVwiLCBcIkdIXCI6IFwiR2hhbmFcIiwgXCJHSVwiOiBcIkdpYnJhbHRhclwiLCBcIkdCXCI6IFwiVW5pdGVkIEtpbmdkb21cIiwgXCJHUlwiOiBcIkdyZWVjZVwiLCBcIkdMXCI6IFwiR3JlZW5sYW5kXCIsIFwiR0RcIjogXCJHcmVuYWRhXCIsIFwiR1BcIjogXCJHdWFkZWxvdXBlXCIsIFwiR1VcIjogXCJHdWFtXCIsIFwiR1RcIjogXCJHdWF0ZW1hbGFcIiwgXCJHTlwiOiBcIkd1aW5lYVwiLCBcIkdZXCI6IFwiR3V5YW5hXCIsIFwiSFRcIjogXCJIYWl0aVwiLCBcIkhXXCI6IFwiSGF3YWlpXCIsIFwiSE5cIjogXCJIb25kdXJhc1wiLCBcIkhLXCI6IFwiSG9uZyBLb25nXCIsIFwiSFVcIjogXCJIdW5nYXJ5XCIsIFwiSVNcIjogXCJJY2VsYW5kXCIsIFwiSU5cIjogXCJJbmRpYVwiLCBcIklEXCI6IFwiSW5kb25lc2lhXCIsIFwiSVJcIjogXCJJcmFuXCIsIFwiSVFcIjogXCJJcmFxXCIsIFwiSUVcIjogXCJJcmVsYW5kXCIsIFwiSU1cIjogXCJJc2xlIG9mIE1hblwiLCBcIklMXCI6IFwiSXNyYWVsXCIsIFwiSVRcIjogXCJJdGFseVwiLCBcIkpNXCI6IFwiSmFtYWljYVwiLCBcIkpQXCI6IFwiSmFwYW5cIiwgXCJKT1wiOiBcIkpvcmRhblwiLCBcIktaXCI6IFwiS2F6YWtoc3RhblwiLCBcIktFXCI6IFwiS2VueWFcIiwgXCJLSVwiOiBcIktpcmliYXRpXCIsIFwiTktcIjogXCJLb3JlYSBOb3J0aFwiLCBcIktSXCI6IFwiS29yZWEgU291dGhcIiwgXCJLV1wiOiBcIkt1d2FpdFwiLCBcIktHXCI6IFwiS3lyZ3l6c3RhblwiLCBcIkxBXCI6IFwiTGFvc1wiLCBcIkxWXCI6IFwiTGF0dmlhXCIsIFwiTEJcIjogXCJMZWJhbm9uXCIsIFwiTFNcIjogXCJMZXNvdGhvXCIsIFwiTFJcIjogXCJMaWJlcmlhXCIsIFwiTFlcIjogXCJMaWJ5YVwiLCBcIkxJXCI6IFwiTGllY2h0ZW5zdGVpblwiLCBcIkxUXCI6IFwiTGl0aHVhbmlhXCIsIFwiTFVcIjogXCJMdXhlbWJvdXJnXCIsIFwiTU9cIjogXCJNYWNhdVwiLCBcIk1LXCI6IFwiTWFjZWRvbmlhXCIsIFwiTUdcIjogXCJNYWRhZ2FzY2FyXCIsIFwiTVlcIjogXCJNYWxheXNpYVwiLCBcIk1XXCI6IFwiTWFsYXdpXCIsIFwiTVZcIjogXCJNYWxkaXZlc1wiLCBcIk1MXCI6IFwiTWFsaVwiLCBcIk1UXCI6IFwiTWFsdGFcIiwgXCJNSFwiOiBcIk1hcnNoYWxsIElzbGFuZHNcIiwgXCJNUVwiOiBcIk1hcnRpbmlxdWVcIiwgXCJNUlwiOiBcIk1hdXJpdGFuaWFcIiwgXCJNVVwiOiBcIk1hdXJpdGl1c1wiLCBcIk1FXCI6IFwiUmVwdWJsaWMgb2YgTW9udGVuZWdyb1wiLCBcIk1YXCI6IFwiTWV4aWNvXCIsIFwiTUlcIjogXCJNaWR3YXkgSXNsYW5kc1wiLCBcIk1EXCI6IFwiTW9sZG92YVwiLCBcIk1DXCI6IFwiTW9uYWNvXCIsIFwiTU5cIjogXCJNb25nb2xpYVwiLCBcIk1TXCI6IFwiTW9udHNlcnJhdFwiLCBcIk1BXCI6IFwiTW9yb2Njb1wiLCBcIk1aXCI6IFwiTW96YW1iaXF1ZVwiLCBcIk1NXCI6IFwiTXlhbm1hclwiLCBcIk5BXCI6IFwiTmFtYmlhXCIsIFwiTlVcIjogXCJOYXVydVwiLCBcIk5QXCI6IFwiTmVwYWxcIiwgXCJBTlwiOiBcIk5ldGhlcmxhbmQgQW50aWxsZXNcIiwgXCJOTFwiOiBcIk5ldGhlcmxhbmRzXCIsIFwiTlZcIjogXCJOZXZpc1wiLCBcIk5DXCI6IFwiTmV3IENhbGVkb25pYVwiLCBcIk5aXCI6IFwiTmV3IFplYWxhbmRcIiwgXCJOSVwiOiBcIk5pY2FyYWd1YVwiLCBcIk5FXCI6IFwiTmlnZXJcIiwgXCJOR1wiOiBcIk5pZ2VyaWFcIiwgXCJOV1wiOiBcIk5pdWVcIiwgXCJORlwiOiBcIk5vcmZvbGsgSXNsYW5kXCIsIFwiTk9cIjogXCJOb3J3YXlcIiwgXCJPTVwiOiBcIk9tYW5cIiwgXCJQS1wiOiBcIlBha2lzdGFuXCIsIFwiUFdcIjogXCJQYWxhdSBJc2xhbmRcIiwgXCJQU1wiOiBcIlBhbGVzdGluZVwiLCBcIlBBXCI6IFwiUGFuYW1hXCIsIFwiUEdcIjogXCJQYXB1YSBOZXcgR3VpbmVhXCIsIFwiUFlcIjogXCJQYXJhZ3VheVwiLCBcIlBFXCI6IFwiUGVydVwiLCBcIlBIXCI6IFwiUGhpbGlwcGluZXNcIiwgXCJQT1wiOiBcIlBpdGNhaXJuIElzbGFuZFwiLCBcIlBMXCI6IFwiUG9sYW5kXCIsIFwiUFRcIjogXCJQb3J0dWdhbFwiLCBcIlBSXCI6IFwiUHVlcnRvIFJpY29cIiwgXCJRQVwiOiBcIlFhdGFyXCIsIFwiUlNcIjogXCJTZXJiaWFcIiwgXCJSRVwiOiBcIlJldW5pb25cIiwgXCJST1wiOiBcIlJvbWFuaWFcIiwgXCJSVVwiOiBcIlJ1c3NpYVwiLCBcIlJXXCI6IFwiUndhbmRhXCIsIFwiTlRcIjogXCJTdCBCYXJ0aGVsZW15XCIsIFwiRVVcIjogXCJTdCBFdXN0YXRpdXNcIiwgXCJIRVwiOiBcIlN0IEhlbGVuYVwiLCBcIktOXCI6IFwiU3QgS2l0dHMtTmV2aXNcIiwgXCJMQ1wiOiBcIlN0IEx1Y2lhXCIsIFwiTUJcIjogXCJTdCBNYWFydGVuXCIsIFwiUE1cIjogXCJTdCBQaWVycmUgJmFtcDsgTWlxdWVsb25cIiwgXCJWQ1wiOiBcIlN0IFZpbmNlbnQgJmFtcDsgR3JlbmFkaW5lc1wiLCBcIlNQXCI6IFwiU2FpcGFuXCIsIFwiU09cIjogXCJTYW1vYVwiLCBcIlNNXCI6IFwiU2FuIE1hcmlub1wiLCBcIlNUXCI6IFwiU2FvIFRvbWUgJmFtcDsgUHJpbmNpcGVcIiwgXCJTQVwiOiBcIlNhdWRpIEFyYWJpYVwiLCBcIlNOXCI6IFwiU2VuZWdhbFwiLCBcIlNDXCI6IFwiU2V5Y2hlbGxlc1wiLCBcIlNMXCI6IFwiU2llcnJhIExlb25lXCIsIFwiU0dcIjogXCJTaW5nYXBvcmVcIiwgXCJTS1wiOiBcIlNsb3Zha2lhXCIsIFwiU0lcIjogXCJTbG92ZW5pYVwiLCBcIlNCXCI6IFwiU29sb21vbiBJc2xhbmRzXCIsIFwiT0lcIjogXCJTb21hbGlhXCIsIFwiWkFcIjogXCJTb3V0aCBBZnJpY2FcIiwgXCJFU1wiOiBcIlNwYWluXCIsIFwiTEtcIjogXCJTcmkgTGFua2FcIiwgXCJTRFwiOiBcIlN1ZGFuXCIsIFwiU1JcIjogXCJTdXJpbmFtZVwiLCBcIlNaXCI6IFwiU3dhemlsYW5kXCIsIFwiU0VcIjogXCJTd2VkZW5cIiwgXCJDSFwiOiBcIlN3aXR6ZXJsYW5kXCIsIFwiU1lcIjogXCJTeXJpYVwiLCBcIlRBXCI6IFwiVGFoaXRpXCIsIFwiVFdcIjogXCJUYWl3YW5cIiwgXCJUSlwiOiBcIlRhamlraXN0YW5cIiwgXCJUWlwiOiBcIlRhbnphbmlhXCIsIFwiVEhcIjogXCJUaGFpbGFuZFwiLCBcIlRHXCI6IFwiVG9nb1wiLCBcIlRLXCI6IFwiVG9rZWxhdVwiLCBcIlRPXCI6IFwiVG9uZ2FcIiwgXCJUVFwiOiBcIlRyaW5pZGFkICZhbXA7IFRvYmFnb1wiLCBcIlROXCI6IFwiVHVuaXNpYVwiLCBcIlRSXCI6IFwiVHVya2V5XCIsIFwiVFVcIjogXCJUdXJrbWVuaXN0YW5cIiwgXCJUQ1wiOiBcIlR1cmtzICZhbXA7IENhaWNvcyBJc1wiLCBcIlRWXCI6IFwiVHV2YWx1XCIsIFwiVUdcIjogXCJVZ2FuZGFcIiwgXCJVQVwiOiBcIlVrcmFpbmVcIiwgXCJBRVwiOiBcIlVuaXRlZCBBcmFiIEVtaXJhdGVzXCIsIFwiVVNcIjogXCJVbml0ZWQgU3RhdGVzIG9mIEFtZXJpY2FcIiwgXCJVWVwiOiBcIlVydWd1YXlcIiwgXCJVWlwiOiBcIlV6YmVraXN0YW5cIiwgXCJWVVwiOiBcIlZhbnVhdHVcIiwgXCJWU1wiOiBcIlZhdGljYW4gQ2l0eSBTdGF0ZVwiLCBcIlZFXCI6IFwiVmVuZXp1ZWxhXCIsIFwiVk5cIjogXCJWaWV0bmFtXCIsIFwiVkJcIjogXCJWaXJnaW4gSXNsYW5kcyAoQnJpdClcIiwgXCJWQVwiOiBcIlZpcmdpbiBJc2xhbmRzIChVU0EpXCIsIFwiV0tcIjogXCJXYWtlIElzbGFuZFwiLCBcIldGXCI6IFwiV2FsbGlzICZhbXA7IEZ1dGFuYSBJc1wiLCBcIllFXCI6IFwiWWVtZW5cIiwgXCJaUlwiOiBcIlphaXJlXCIsIFwiWk1cIjogXCJaYW1iaWFcIiwgXCJaV1wiOiBcIlppbWJhYndlXCIgfTtcclxuZXhwb3J0IHtjb3VudHJ5TH0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/pages/mycj/payment/paydata.js\n");

/***/ }),

/***/ "../src/pages/mycj/payment/payment.js":
/*!********************************************!*\
  !*** ../src/pages/mycj/payment/payment.js ***!
  \********************************************/
/*! exports provided: paymentFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"paymentFactory\", function() { return paymentFactory; });\n/* harmony import */ var _paydata__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./paydata */ \"../src/pages/mycj/payment/paydata.js\");\n/* harmony import */ var _root_egg_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @root_egg/env */ \"../../env.js\");\n/* harmony import */ var _root_egg_env__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_root_egg_env__WEBPACK_IMPORTED_MODULE_1__);\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nfunction paymentFactory(angular) {\n  var app = angular.module('payment.module', ['service']);\n  console.log(_root_egg_env__WEBPACK_IMPORTED_MODULE_1__[\"NODE_ENV\"], '==========---------------');\n  var stripeKey = ['testnew', 'development', 'test'].includes(_root_egg_env__WEBPACK_IMPORTED_MODULE_1__[\"NODE_ENV\"]) ? 'pk_test_w62tAPWquFpSQsGEP79Lhs25008FgbcW8j' : 'pk_live_J9V7M9fZ2SRQdJ51mBKCNhf7'; //原来的key：pk_live_43E8v5OVJz6dCeDu82ZDL5Du\n\n  var awinTesMode = ['testnew', 'development', 'test'].includes(_root_egg_env__WEBPACK_IMPORTED_MODULE_1__[\"NODE_ENV\"]) ? 1 : 0;\n  var NETERROR = 'The server is busy now, please try again later.';\n  app.controller('payment.ctrl', ['$scope', '$stateParams', 'dsp', function ($scope, $stateParams, dsp) {\n    var _localStorage$getItem;\n\n    $scope.nextAshFlag = true; // payoneer 的next按钮 置灰开关\n\n    localStorage.removeItem('stripeObj');\n    $scope.selectTermsFlag = false;\n    var base64 = new Base64();\n    console.log('stateParams__________', $stateParams);\n    $scope.userId = base64.decode(localStorage.getItem('userId') == undefined ? '' : localStorage.getItem('userId'));\n    $scope.ordnumber = $stateParams.ordn ? base64.decode($stateParams.ordn) : ''; //订单号\n\n    $scope.ordmoney = $stateParams.ordm ? parseFloat((base64.decode($stateParams.ordm) - 0).toFixed(2)) : ''; //订单金额\n\n    $scope.ordquantity = $stateParams.ordq ? base64.decode($stateParams.ordq) - 0 : ''; //订单数量展示使用\n\n    $scope.payIndexType = ''; //支付方式\n\n    var videoId = $stateParams.videoId ? base64.decode($stateParams.videoId) : '';\n    var proId = $stateParams.pid ? base64.decode($stateParams.pid) : ''; //产品id\n\n    var ordType = $stateParams.ordType; //订单类型\n\n    var fromPath, successPath, payoneerSuccessPath, failPath;\n    var orderversion = (_localStorage$getItem = localStorage.getItem('orderversion')) !== null && _localStorage$getItem !== void 0 ? _localStorage$getItem : '2';\n    var noNewOrderList = ['DIRECT', 'FormTb', 'fba', 'VIDEODTA', 'VIDEOHOT', 'dispute', 'problemPackage'];\n    console.log('ordType======' + ordType);\n    var wechatPayCode = 45;\n\n    if (ordType == 'DIRECT') {\n      //直发、代发、自定义包装订单\n      $scope.payCode = 6;\n      $scope.payeezyCode = 14;\n      $scope.stripeCode = 5;\n      $scope.payWalletCode = 8;\n      $scope.payoneerCode = 25;\n      $scope.payssionCode = 26;\n      $scope.alipayCode = 41;\n      $scope.payType = 'accountBuyPaypal';\n      $scope.orderType = 'CJPAY';\n      fromPath = '#/purchase-history';\n      failPath = 'myCJ.html#/purchase-history';\n      successPath = 'myCJ.html#/purchase-history';\n      payoneerSuccessPath = '#/purchase-history';\n      wechatPayCode = 46;\n    } else if (ordType == 'FormTb') {\n      //从淘宝进入\n      $scope.payCode = 6;\n      $scope.payeezyCode = 14;\n      $scope.stripeCode = 5;\n      $scope.payWalletCode = 8;\n      $scope.payoneerCode = 25;\n      $scope.payssionCode = 26;\n      $scope.alipayCode = 41;\n      $scope.payType = 'accountBuyPaypal';\n      $scope.orderType = 'CJPAY';\n      $scope.payflag = 'PTB';\n      $scope.buy = 'FormTb';\n      fromPath = '#/purchase-Taobao';\n      failPath = 'myCJ.html#/purchase-Taobao';\n      successPath = 'myCJ.html#/purchase-Taobao';\n      payoneerSuccessPath = '#/purchase-Taobao';\n    } else if (ordType == 'fba') {\n      $scope.payCode = 6;\n      $scope.payeezyCode = 14;\n      $scope.stripeCode = 5;\n      $scope.payWalletCode = 8;\n      $scope.payoneerCode = 25;\n      $scope.payssionCode = 26;\n      $scope.alipayCode = 41;\n      $scope.orderType = 'CJPAY';\n      $scope.payType = 'accountBuyPaypal';\n      fromPath = '#/myCJ-FBA';\n      failPath = 'myCJ.html#/myCJ-FBA';\n      successPath = 'myCJ.html#/myCJ-FBA';\n      payoneerSuccessPath = '#/myCJ-FBA';\n    } else if (ordType == 'VIDEODTA' || ordType == 'VIDEOHOT') {\n      //video\n      $scope.payCode = 11;\n      $scope.payeezyCode = 15;\n      $scope.stripeCode = 10;\n      $scope.payWalletCode = 12;\n      $scope.payoneerCode = 28;\n      $scope.payssionCode = 29;\n      $scope.alipayCode = 42;\n      $scope.locProductId = proId;\n      $scope.payType = 'videoBuyPaypal';\n      fromPath = '#/video-history';\n      failPath = ordType == 'VIDEODTA' ? 'product-detail.html?id=' + proId + '&videoId=' + videoId : 'myCJ.html#/video-history';\n      successPath = ordType == 'VIDEODTA' ? 'product-detail.html?id=' + proId + '&videoId=' + videoId : 'myCJ.html#/video-history';\n      payoneerSuccessPath = '#/video-history';\n      wechatPayCode = 47;\n    } else if (ordType == 'dispute') {\n      // 纠纷\n      $scope.payCode = 18;\n      $scope.payeezyCode = 20;\n      $scope.stripeCode = 17;\n      $scope.payWalletCode = 19;\n      $scope.payoneerCode = 31;\n      $scope.payssionCode = 38;\n      $scope.alipayCode = 43;\n      $scope.payType = 'freightBuyPaypal';\n      fromPath = '#/after-sale//';\n      failPath = 'myCJ.html#/after-sale//';\n      successPath = 'myCJ.html#/after-sale//';\n      payoneerSuccessPath = '#/after-sale//';\n      wechatPayCode = 48;\n    } else if (ordType == 'problemPackage') {\n      $scope.payCode = 37;\n      $scope.payeezyCode = 33;\n      $scope.stripeCode = 36;\n      $scope.payWalletCode = 32;\n      $scope.payoneerCode = 34;\n      $scope.payssionCode = 39;\n      $scope.alipayCode = 44;\n      $scope.payType = 'problemPackage';\n      fromPath = '#/problem-package';\n      failPath = 'myCJ.html#/problem-package/';\n      successPath = 'myCJ.html#/problem-package/2';\n      payoneerSuccessPath = '#/problem-package/2';\n    } else {\n      $scope.payCode = 3;\n      $scope.stripeCode = 2;\n      $scope.payWalletCode = 7;\n      $scope.payeezyCode = 13;\n      $scope.payoneerCode = 21;\n      $scope.payssionCode = 22;\n      $scope.alipayCode = 24;\n      $scope.payType = 'paypal';\n      $scope.dropshipOrder = true;\n      fromPath = orderversion == '2' ? 'newmycj/dropshipping/orderManage' : '#/dropshipping-orders';\n      failPath = orderversion == '2' ? 'newmycj/dropshipping/orderManage' : 'myCJ.html#/dropshipping-orders';\n      successPath = orderversion == '2' ? 'newmycj/dropshipping/orderManage' : 'myCJ.html#/drop-proce';\n      payoneerSuccessPath = orderversion == '2' ? 'newmycj/dropshipping/orderManage' : '#/dropshipping-orders';\n      wechatPayCode = 45;\n    } //支付方式列表 -- 判断页面是否是来自problemPackage, true：隐藏掉该支付方式 false: 正常显示\n\n\n    $scope.payTypeList = [{\n      img: 'static/image/public-img/paypal.png',\n      type: 'paypal',\n      name: 'PayPal'\n    }, {\n      img: 'static/image/public-img/wire.png',\n      type: 'wire',\n      name: 'Wire Transfer',\n      isHide: $scope.payType == 'problemPackage'\n    }, {\n      text: 'Pay With Card',\n      type: 'card',\n      name: 'Pay with Card'\n    }, {\n      text: 'Pay with CJ Wallet',\n      showMoney: true,\n      type: 'credit',\n      name: 'Pay with CJ Wallet'\n    }, {\n      img: 'static/image/public-img/paynner1.png',\n      type: 'paynner',\n      name: 'Payoneer'\n    }, {\n      img: 'static/image/public-img/payssion.png',\n      type: 'payssion',\n      name: 'Payssion'\n    }, // {img: 'static/image/public-img/midtrans.png', type: 'midtrans',name:'Midtrans' },\n    {\n      img: 'static/image/public-img/western.png',\n      type: 'western',\n      name: 'Western Union',\n      isHide: $scope.payType == 'problemPackage'\n    }\n    /* {img: 'static/image/public-img/western.png', type: 'alipay',name:'Visa/Mastercard', } */\n    // {type: 'newAlipay',name:'Alipay Transfer' },\n    // {type: 'wechat',name:'Wechat Transfer' },\n    ];\n\n    if ($scope.payType == 'problemPackage') {\n      $scope.payTypeList.forEach(function (item) {\n        if (item.type == 'wire' || item.type == 'western') item.isHide = true;\n      });\n    }\n\n    var orderFlag = sessionStorage.getItem('newpay') || 1; //1老业务  2新业务\n    // const isAliPay = localStorage.getItem('isAliPay') == '1'\n\n    var isWechatPay = localStorage.getItem('isWechatPay') == '1'; // if(isAliPay) {\n    //   $scope.payTypeList.push({type: 'newAlipay',name:'Alipay' })\n    // }\n\n    if (isWechatPay) {\n      $scope.payTypeList.push({\n        type: 'wechat',\n        name: 'Wechat Pay'\n      });\n    }\n\n    $scope.$on(\"$destroy\", function () {\n      // 关闭页面时要做的事\n      sessionStorage.removeItem('newpay');\n    }); //币种开关\n\n    $scope.switchCheck = false; // false:美元，true:欧元\n    // 欧元支付提示弹窗\n\n    $scope.eurPayReminderModal = {\n      isShow: false\n    };\n    $scope.bankInfoData = {};\n\n    function getBankInfoData() {\n      layer.load(2);\n      dsp.postFun('app/wallet/getBankInfo', {}, function (res) {\n        layer.closeAll();\n        var infoData = res.data;\n        var _infoData$data = infoData.data,\n            westernUnion = _infoData$data.westernUnion,\n            wireTrans = _infoData$data.wireTrans;\n        $scope.bankInfoData = {\n          westernUnion: {\n            eur: westernUnion.EUR.split('%'),\n            usd: westernUnion.USD.split('%')\n          },\n          wireTrans: {\n            eur: wireTrans.EUR.split('%'),\n            usd: wireTrans.USD.split('%')\n          }\n        };\n      }, function (err) {\n        layer.closeAll();\n      });\n    }\n\n    getBankInfoData(); //银行转账\n\n    $scope.transferObj = {\n      isShow: false,\n      //是否显示\n      unit: 'USD',\n      //金额单位\n      amount: '',\n      //转账金额\n      message: '',\n      //转账信息\n      isShowSucc: false,\n      //成功提醒\n      price: $scope.ordmoney,\n      showPrice: $scope.ordmoney\n    }; //西联银行\n\n    $scope.transferXLObj = {\n      isShow: false,\n      //是否显示\n      unit: 'USD',\n      //金额单位\n      amount: '',\n      //转账金额\n      message: '',\n      //转账信息\n      isShowSucc: false,\n      //成功提醒\n      price: $scope.ordmoney,\n      showPrice: $scope.ordmoney\n    }; //paypal支付\n\n    $scope.paypalObj = {\n      url: '',\n      showError: false,\n      errorMsg: ''\n    }; //pay with Card\n\n    $scope.widthCardObj = {\n      isGet: false\n    }; //余额支付 store Credit\n\n    $scope.storeCreditObj = {\n      isShow: false,\n      balance: '' //当前余额\n\n    }; //payssion支付\n\n    $scope.payssionObj = {\n      isShow: false,\n      country: {},\n      showList: false,\n      payMethod: '',\n      search: '',\n      methods: []\n    }; //alipay支付\n\n    $scope.alipayObj = {\n      isShow: false,\n      id: '',\n      token: ''\n    }; // 支付宝支付\n\n    $scope.newAlipayObj = {\n      isShow: false,\n      //是否显示\n      unit: 'USD',\n      //金额单位\n      amount: '',\n      //转账金额\n      message: '',\n      //转账信息\n      isShowSucc: false,\n      //成功提醒\n      showAmount: $scope.ordmoney,\n      payCode: wechatPayCode\n    }; // 微信支付\n\n    $scope.wechatObj = {\n      isShow: false,\n      //是否显示\n      unit: 'USD',\n      //金额单位\n      amount: '',\n      //转账金额\n      message: '',\n      //转账信息\n      isShowSucc: false,\n      //成功提醒\n      showAmount: $scope.ordmoney,\n      payCode: wechatPayCode\n    };\n    $scope.overTime = false; // 微信支付超时状态\n\n    $scope.payStatus = 0; // 微信订单支付状态 1:支付中 2:支付失败 3:支付成功\n\n    $scope.acceptList = ['visa.jpg', 'master.png', 'amo.png', 'JCB.png', 'discover.png', 'wire.png', 'stripe.png', 'paypal.png', 'paynner1.png', 'payssion.png', 'western.png'];\n\n    var midtransAppendJS = function midtransAppendJS() {\n      var osrc = '';\n\n      if (window.environment == 'test' || window.environment == 'development') {\n        osrc = 'https://app.sandbox.midtrans.com/snap/snap.js';\n      } else {\n        osrc = 'https://app.midtrans.com/snap/snap.js';\n      }\n\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = osrc;\n      document.getElementsByTagName('head')[0].appendChild(script);\n    };\n\n    midtransAppendJS(); //获取余额\n\n    var getYeMoney = function getYeMoney() {\n      dsp.postFun('app/wallet/getBalance', '{}', function (data) {\n        $scope.storeCreditObj.balance = data.data.balance;\n      }, function (data) {});\n    };\n\n    getYeMoney(); //返回事件\n\n    $scope.goBack = function () {\n      var cancelUrl = !noNewOrderList.includes(ordType) ? fromPath : \"myCJ.html\".concat(fromPath);\n      location.href = cancelUrl;\n      sessionStorage.removeItem('newpay');\n    }; //paypal不可支付订单的确定按钮\n\n\n    $scope.linkFun = function () {\n      var cancelUrl = !noNewOrderList.includes(ordType) ? fromPath : \"myCJ.html\".concat(fromPath);\n      location.href = cancelUrl;\n    }; // 跳回首页的确定按钮\n\n\n    $scope.backPageFun = function () {\n      location.href = location.origin;\n    }; // 是否可使用PayPal支付\n\n\n    (function () {\n      var parmas = {\n        'shipId': $scope.ordnumber\n      };\n      layer.load(2);\n      dsp.postFun('cj/fbaOrder/getHomeType', parmas, function (_ref) {\n        var data = _ref.data;\n        layer.closeAll('loading');\n\n        if (data.statusCode === '200') {\n          $scope.isNoPayPal = data.result === '0' || data.result === '2'; // 是否可PayPal支付\n        }\n      }, function (err) {\n        console.log(err);\n      });\n    })(); //请求paypel的支付链接\n\n\n    var paypalFun = function paypalFun() {\n      var _localStorage$getItem2;\n\n      var orderversion = (_localStorage$getItem2 = localStorage.getItem('orderversion')) !== null && _localStorage$getItem2 !== void 0 ? _localStorage$getItem2 : '2';\n      var returnUrl = successPath;\n      var cancelUrl = orderversion === '2' ? fromPath : \"myCJ.html\".concat(fromPath);\n      var payData = {\n        orderNum: $scope.ordnumber,\n        price: $scope.ordmoney,\n        type: $scope.payType + ',payeezy',\n        otype: ordType == 'fba' ? '2' : '',\n        locProductId: $scope.locProductId,\n        payflag: $scope.payflag,\n        orderFlag: orderFlag,\n        returnUrl: \"\".concat(location.origin, \"/\").concat(returnUrl),\n        cancelUrl: \"\".concat(location.origin, \"/\").concat(cancelUrl)\n      };\n      $scope.paypalObj.url = '';\n      layer.load(2);\n      dsp.postFun('app/pay/getPayUrl', JSON.stringify(payData), function (data) {\n        layer.closeAll(\"loading\");\n        var olist = data.data;\n        olist.filter(function (item) {\n          if (item.type == $scope.payType) {\n            $scope.paypalObj.url = item.href;\n          }\n        });\n\n        if ($scope.paypalObj.url.indexOf('https') < 0) {\n          $scope.paypalObj.showError = true;\n          $scope.paypalObj.errorMsg = 'Oops, There is something wrong with this order, payment failed. Please contact your agent.';\n        }\n      }, function () {\n        layer.closeAll(\"loading\");\n      });\n    }; // 添加Stripe.js\n\n\n    var payCardAppendJS = function payCardAppendJS() {\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = 'https://js.stripe.com/v3/';\n      document.getElementsByTagName('head')[0].appendChild(script);\n    };\n\n    payCardAppendJS();\n    /* 银行转账,线下支付，上传账单\r\n     * type：1-普通转账；2-西联银行转账\r\n     */\n\n    $scope.transferConfirmFun = function (type) {\n      var _payData;\n\n      var payData = (_payData = {\n        unit: type == 1 ? $scope.transferObj.unit : $scope.transferXLObj.unit,\n        tprice: type == 1 ? $scope.transferObj.amount : $scope.transferXLObj.amount,\n        message: type == 1 ? $scope.transferObj.message : $scope.transferXLObj.message,\n        price: type == 1 ? $scope.transferObj.price : $scope.transferXLObj.price,\n        orderNum: $scope.ordnumber,\n        showPrice: type == 1 ? $scope.transferObj.showPrice : $scope.transferXLObj.showPrice\n      }, _defineProperty(_payData, \"orderNum\", $scope.ordnumber), _defineProperty(_payData, \"code\", $scope.payCode), _defineProperty(_payData, \"type\", $scope.payType), _defineProperty(_payData, \"img\", $scope.imgArr + ''), _defineProperty(_payData, \"buy\", $scope.buy), _defineProperty(_payData, \"otype\", ordType == 'fba' ? '2' : ''), _defineProperty(_payData, \"orderType\", $scope.orderType ? $scope.orderType : ''), _defineProperty(_payData, \"orderFlag\", orderFlag), _defineProperty(_payData, \"awc\", dsp.getCookie(\"awc\") || ''), _payData);\n\n      if (payData.tprice < 0 || !payData.tprice || payData.tprice < payData.showPrice) {\n        layer.msg('The amount entered is less than the order amount.');\n        return;\n      } // if (payData.tprice < 0 || !payData.tprice) {\n      //   layer.msg('The amount entered is less than the order amount.');\n      //   return;\n      // }\n      // if ($scope.switchCheck) { // 欧元支付的时候，输入金额要在幅度值±2欧元\n      //   if (payData.tprice - payData.showPrice > 2 || payData.tprice - payData.showPrice < -2) {\n      //     layer.msg('Please enter the valid amount!');\n      //     return;\n      //   }\n      // } else if (payData.tprice < payData.showPrice) {\n      //   layer.msg('The amount entered is less than the order amount.');\n      //   return;\n      // }\n      //判断是否有上传图片\n\n\n      if ($scope.isimgflag == false) {\n        layer.msg('Please upload transfer slip!');\n        return;\n      }\n\n      $scope.transferObj.isShow = false; //隐藏当前转账凭证弹框\n\n      $scope.transferXLObj.isShow = false; //隐藏当前转账凭证弹框\n\n      if (type == 1) payData.paymentMethod = 0; // wire transfer\n\n      if (type == 2) payData.paymentMethod = 1; // western union\n\n      layer.load(2);\n      dsp.postFun('app/pay/pay', JSON.stringify(payData), function (data) {\n        layer.closeAll('loading');\n\n        if (data.data.result == true) {\n          awinJS();\n          imgHttpFun();\n          layer.msg('Payment Succeed');\n          $scope.imgArr = [];\n          type == 1 ? $scope.transferObj.isShowSucc = true : $scope.transferXLObj.isShowSucc = true;\n        } else {\n          layer.msg('Payment Failure');\n          var cancelUrl = !noNewOrderList.includes(ordType) ? fromPath : \"myCJ.html\".concat(fromPath);\n          location.href = cancelUrl;\n        }\n      }, function (data) {\n        layer.closeAll('loading');\n      });\n    };\n    /* 币种切换\r\n     * type:1-普通转账；2-西联银行转账\r\n     */\n\n\n    $scope.transferUnitChange = function (type) {\n      var ounit = type == 1 ? $scope.transferObj.unit : $scope.transferXLObj.unit;\n      var amount = $scope.ordmoney;\n\n      if (ounit != 'USD') {\n        layer.load(2);\n        dsp.postFun('cj/homePage/exchangeRate', {\n          toCode: type == 1 ? $scope.transferObj.unit : $scope.transferXLObj.unit\n        }, function (res) {\n          if (res.data.statusCode == '200') {\n            layer.closeAll();\n            $scope.exchangeRate = res.data.result;\n            amount = ($scope.ordmoney * $scope.exchangeRate).toFixed(2);\n            type == 1 ? $scope.transferObj.price = amount : $scope.transferXLObj.price = amount;\n          } else {\n            console.warn('获取汇率失败', res);\n          }\n        }, function (err) {\n          layer.closeAll();\n          console.log(\"get error\");\n        });\n      } else {\n        type == 1 ? $scope.transferObj.price = amount : $scope.transferXLObj.price = amount;\n      }\n    }; //转账的取消按钮\n\n\n    $scope.transferSuccNoFun = function () {\n      $scope.transferObj.isShowSucc = false;\n      $scope.transferXLObj.isShowSucc = false;\n      var cancelUrl = !noNewOrderList.includes(ordType) ? fromPath : \"myCJ.html\".concat(fromPath);\n      location.href = cancelUrl;\n    }; //转账成功后的去充值按钮\n\n\n    $scope.transferChargeFun = function () {\n      location.href = \"#/myCJWallet\";\n    }; //上传转账支付凭证的图片\n\n\n    $scope.isphoto = false; //判断如果不是图片的弹框\n\n    $scope.isimgflag = false; //判断是否上传图片\n\n    $scope.upLoadImg4 = function (files) {\n      $scope.imgArrType = [];\n      var data = new FormData();\n\n      for (var i = 0; i < files.length; i++) {\n        data.append('file', files[i]);\n      }\n\n      layer.load(2);\n\n      function con(n) {\n        layer.closeAll(\"loading\");\n        var obj = JSON.parse(n.data.result);\n\n        for (var _i = 0; _i < obj.length; _i++) {\n          var srcList = obj[_i].split('.');\n\n          $scope.imgArrType.push(srcList[srcList.length - 1]);\n\n          for (var k = 0; k < $scope.imgArrType.length; k++) {\n            if ($scope.imgArrType[k] == 'png' || $scope.imgArrType[k] == 'jpg' || $scope.imgArrType[k] == 'jpeg' || $scope.imgArrType[k] == 'gif' || $scope.imgArrType[k] == 'pdf') {\n              $scope.imgArr = obj;\n              $scope.headimg = 'https://' + obj[0];\n              $scope.isimgflag = true; //判断是否上传图片\n            } else {\n              $scope.isphoto = true; //判断如果不是图片的弹框  显示\n\n              $scope.isimgflag = false; //判断是否上传图片\n\n              return;\n            }\n          }\n        }\n      }\n\n      function err(n) {\n        console.log(n);\n        layer.closeAll(\"loading\");\n      }\n\n      dsp.upLoadImgPost('app/ajax/upload', data, con, err);\n    };\n\n    function imgHttpFun() {\n      var awcText = dsp.getCookie('awc');\n      var utmSource = localStorage.getItem('utmSource');\n\n      if (awcText && utmSource == 'awin') {\n        //有awin的awc值 并且登录平台来源是awin\n        var orderCountMoney = $scope.ordmoney.toFixed(2);\n        var BasketImage = new Image(1, 1);\n        BasketImage.src = \"https://www.awin1.com/sread.img?tt=ns&tv=2&merchant=21578&amount=\".concat(orderCountMoney, \"&ch=aw&parts=DEFAULT:\").concat(orderCountMoney, \"&cr=USD&ref=\").concat($scope.ordnumber, \"&tesmode=\").concat(awinTesMode);\n      }\n    } //是否用余额支付\n\n\n    $scope.agreePayFun = function () {\n      $scope.storeCreditObj.isShow = false;\n      var payData = {\n        orderNum: $scope.ordnumber,\n        price: $scope.ordmoney,\n        code: $scope.payWalletCode,\n        type: $scope.payType,\n        buy: $scope.buy,\n        otype: ordType == 'fba' ? '2' : '',\n        orderFlag: orderFlag,\n        awc: dsp.getCookie(\"awc\") || ''\n      };\n\n      if ($scope.storeCreditObj.balance < $scope.ordmoney) {\n        layer.msg('Lack of balance.');\n        return;\n      }\n\n      layer.load(2);\n      dsp.postFun('app/pay/pay', JSON.stringify(payData), function (data) {\n        layer.closeAll('loading');\n\n        if (data.data.result == true) {\n          imgHttpFun(); // location.href = successPath;\n\n          awinJS(successPath);\n          layer.msg('Payment Succeed');\n        } else {\n          layer.msg('Payment Failure');\n          var cancelUrl = !noNewOrderList.includes(ordType) ? fromPath : \"myCJ.html\".concat(fromPath);\n          location.href = cancelUrl;\n          console.log(\"支付失败\");\n        }\n      }, function (data) {\n        layer.closeAll('loading');\n      });\n    };\n    /*\r\n     * payoneer 支付\r\n     * */\n\n\n    $scope.isAuthorize = null; //  1 选择账户 2 未授权登录注册 3 已授权付款\n\n    $scope.isShowPaynnerDia = false; // 是否打开弹窗\n\n    $scope.isGetCode = false; // 是否再次获取验证码\n\n    $scope.num = 60; // 获取验证码倒计时\n\n    $scope.currencyType = null; // 账户类型  0 美元 1 欧元\n    //是否授权\n\n    var isAuth = function isAuth() {\n      var parms = {\n        currencyType: $scope.currencyType\n      };\n      layer.load(2);\n      dsp.postFun('cj/payoneer/isAuth', parms, function (res) {\n        layer.closeAll('loading');\n\n        if (res.data.statusCode == '200') {\n          $scope.isShowPaynnerDia = true;\n          $scope.isAuthorize = res.data.result.isAuth ? 3 : 2;\n          $scope.payoneerEmail = res.data.result.email;\n          $scope.rate = res.data.result.rate;\n          $scope.payAmount = $scope.currencyType === 0 ? 'Pay US$' + ($scope.ordmoney * $scope.rate).toFixed(2) : 'Pay EUR€' + ($scope.ordmoney * $scope.rate).toFixed(2);\n        }\n      }, function (err) {\n        layer.closeAll('loading');\n      });\n    }; //派安盈支付\n\n\n    $scope.payoneerPay = function () {\n      $scope.isShowPaynnerDia = true;\n      $scope.isAuthorize = 1;\n      $scope.currencyType = null;\n      $scope.payoneerEmail = '';\n    }; // 派安盈支付-新 --用户正常点击流程\n    // 获取欧元汇率\n\n\n    function getEurRate() {\n      layer.load(2);\n      dsp.postFun('cj/homePage/exchangeRate', {\n        toCode: 'EUR'\n      }, function (res) {\n        layer.closeAll();\n        var result = res.data.result;\n        if (!result) return;\n        $scope.payoneerEurRate = result * 1;\n      });\n    } // 预先获取欧元汇率\n\n\n    getEurRate();\n    $scope.payoneerData = {\n      authUrl: '',\n      usdPayMoney: $scope.ordmoney,\n      eurPayMoney: ''\n    }; // 点击授权\n\n    $scope.authClick = function () {\n      // 接下来用户就要去授权了，在这之前保存当前地址作为中间页跳转回来地址\n      localStorage.setItem(\"_p_\".concat($scope.ordnumber), JSON.stringify({\n        href: location.href,\n        isAuth: true\n      })); // 跳转授权地址\n\n      location.href = $scope.payoneerData.authUrl;\n    };\n\n    $scope.payoneerPayNew = function () {\n      // 是否须授权   postFun没有返回值，用不了 async 啊啊\n      layer.load(2);\n      dsp.postFun('app/payoneer/authorize', {}, function (res) {\n        layer.closeAll('loading'); // authFlag 为false需要授权\n\n        var _data = (res.data || {}).data || {};\n\n        var authFlag = _data.authFlag,\n            _data$balanceList = _data.balanceList,\n            balanceList = _data$balanceList === void 0 ? [] : _data$balanceList;\n        console.log('authFlag', authFlag);\n\n        if (!authFlag) {\n          $scope.payoneerOrder = false; // 已授权\n\n          /* 没有授权，获取授权地址，显示授权引导 */\n\n          var _params = {\n            returnId: \"\".concat($scope.ordnumber),\n            redirectUrl: \"\".concat(location.origin, \"/payoneer-auth.html\")\n          }; // returnId 传给后台，回调时传过来   redirectUrl 前端重定向页面\n\n          dsp.postFun('app/payoneer/authorizeLink', _params, function (_res) {\n            var _data = (_res.data || {}).data || {};\n\n            var authorizeUrl = _data.authorizeUrl;\n\n            if (!authorizeUrl) {\n              layer.msg(NETERROR);\n            } // 不写else更准确一些\n\n\n            if (authorizeUrl) {\n              // 显示授权引导\n              $scope.payoneerData.authUrl = authorizeUrl;\n              $scope.isShowNewPaynnerDia = true; // 基础弹窗\n\n              $scope.payoneerAuth = true; // 授权引导\n            }\n          }, function (err) {\n            console.log('err', err);\n            layer.msg(NETERROR);\n          });\n        } else {\n          /* 授权成功，显示已授权 */\n          $scope.isShowNewPaynnerDia = true; // 基础弹窗\n\n          $scope.payoneerOrder = true; // 已授权\n          // 判断钱包余额是否够用- 这里在判断一下汇率有没拿到，没拿到不让用欧元支付\n\n          var _rate = {\n            0: 1,\n            1: $scope.payoneerEurRate || 0\n          }; // 判断当前payoneer可支付的币种是否存在===balanceList是null或空数组\n\n          if (!balanceList || balanceList.length === 0) {\n            $scope.nextAshFlag = true; // 置灰next按钮\n            // layer.msg('You need to activate your Payoneer USD or EUR account to process the transaction.')\n          } else {\n            balanceList.forEach(function (v) {\n              // 转换成美元进行比较\n              v.afterRateMoney = _rate[v.currencyType] ? v.balanceAmount / _rate[v.currencyType] : 0;\n              v.disabled = v.afterRateMoney < $scope.ordmoney;\n            });\n          } // 数据绑定\n\n\n          console.log('payoneerData', $scope.payoneerAuthData);\n          $scope.payoneerAuthData = _data;\n        }\n      }, function (err) {\n        layer.msg(NETERROR);\n      });\n    }; // 切换授权账号\n\n\n    $scope.switchPayoneerAuth = function () {\n      /* 没有授权，获取授权地址，显示授权引导 */\n      var _params = {\n        returnId: \"\".concat($scope.ordnumber),\n        redirectUrl: \"\".concat(location.origin, \"/payoneer-auth.html\")\n      }; // returnId 传给后台，回调时传过来   redirectUrl 前端重定向页面\n\n      layer.load(2);\n      dsp.postFun('app/payoneer/authorizeLink', _params, function (_res) {\n        var _data = (_res.data || {}).data || {};\n\n        var authorizeUrl = _data.authorizeUrl;\n\n        if (!authorizeUrl) {\n          layer.msg(NETERROR);\n        } else {\n          $scope.payoneerData.authUrl = authorizeUrl;\n          $scope.authClick();\n        }\n\n        layer.closeAll('loading');\n      }, function (err) {\n        console.log('err', err);\n        layer.msg(NETERROR);\n      });\n    }; // 选择支付账户-单选\n\n\n    $scope.payoneerBalanceClick = function (item) {\n      // 检查是否获取到欧元汇率，获取不到不给选。 item  => currencyType- 0/美元  1/欧元\n      if (!$scope.payoneerEurRate && item.currencyType === 1) {\n        getEurRate();\n        return;\n      }\n\n      ($scope.payoneerAuthData.balanceList || []).forEach(function (v) {\n        return v.selected = false;\n      });\n      item.selected = true;\n      $scope.nextAshFlag = false; // 选择币种后取消置灰\n\n      if (item.selected) {\n        // 设置付款货币类型\n        $scope.payoneerPayCurrency = item.currency;\n        $scope.payoneerPayBalance = item;\n      }\n\n      console.log('item', $scope.payoneerPayBalance);\n    }; // 订单确认\n\n\n    $scope.payoneerConfirmClick = function () {\n      // 当next按钮置灰，则不进行后面的代码\n      if ($scope.nextAshFlag) {\n        return;\n      }\n\n      if (!$scope.payoneerPayCurrency) {\n        layer.msg('Please select the currency first.');\n        return;\n      } // 单位欧元，转换货币\n\n\n      if ($scope.payoneerPayBalance.currencyType === 1) {\n        // 确认订单前，在检查一遍汇率\n        if (!$scope.payoneerEurRate) {\n          //layer.msg('未获取到欧元汇率');\n          return;\n        }\n\n        $scope.payoneerData.eurPayMoney = parseFloat($scope.ordmoney * $scope.payoneerEurRate).toFixed(2);\n      }\n\n      $scope.payoneerOrder = false; // 已授权\n\n      $scope.payoneerConfirm = true; // 确认支付\n    }; // 订单取消\n\n\n    $scope.payoneerOrderCancel = function () {\n      $scope.isShowNewPaynnerDia = false; // 基础弹窗\n\n      $scope.payoneerAuth = false; // 授权\n\n      $scope.payoneerOrder = false; // 已授权\n\n      $scope.payoneerConfirm = false; // 确认支付\n\n      $scope.payoneerPayCurrency = ''; // 置空已选钱包\n    }; // 确认支付\n\n\n    $scope.payoneerConfirmPayClick = function () {\n      if ($scope.payoneerPaying) {\n        return;\n      } // 要付款了\n\n\n      var params = {\n        orderNum: $scope.ordnumber,\n        // 订单号\n        price: $scope.ordmoney,\n        // 原金额\n        code: $scope.payoneerCode,\n        // 订单来源标识 直发/代发\n        buy: $scope.buy,\n        // from taobao\n        //mailCode: $scope.verificationCode,    // ...\n        currencyType: $scope.payoneerPayBalance.currencyType,\n        // 货币类型\n        payPrice: $scope.payoneerPayBalance.currencyType === 0 ? $scope.ordmoney : $scope.payoneerData.eurPayMoney,\n        // 实际金额\n        otype: ordType == 'fba' ? '2' : '',\n        // 订单类型                           // ...\n        balanceId: $scope.payoneerPayBalance.balanceId,\n        // 钱包id 余额\n        redirectUrl: \"\".concat(location.origin, \"/payoneer-auth.html\"),\n        //前端重定向页面\n        type: $scope.payType,\n        orderFlag: orderFlag,\n        awc: dsp.getCookie(\"awc\") || ''\n      };\n      layer.load(2);\n      $scope.payoneerPaying = true;\n      dsp.postFun('app/pay/pay', params, function (res) {\n        var _successUrl = orderversion === '2' ? payoneerSuccessPath : \"/myCJ.html\".concat(payoneerSuccessPath);\n\n        var data = res.data,\n            _res$data = res.data;\n        _res$data = _res$data === void 0 ? {} : _res$data;\n        var result = _res$data.result,\n            message = _res$data.message,\n            payUrl = _res$data.payUrl,\n            returnId = _res$data.returnId;\n        console.log('_res', JSON.stringify(data));\n\n        if (result) {\n          layer.msg('Payment Successful!');\n          imgHttpFun(); //正常模式下 付款成功直接调用回调\n\n          awinJS(_successUrl); // 先都返回待支付页\n          // setTimeout(() => { location.href = '/myCJ.html#/dropshipping-orders'; }, 2)\n          // setTimeout(() => { location.href = _successUrl }, 2)\n        } else if (payUrl) {\n          // 挑战模式认证前，存储returnid,没有returnid即便授权也回不来了。\n          //{payUrl: \"https://auth.sandbox.payoneer.com/#?t=03fb9b90ac064f828124f85d9f94c891\", returnId: \"03fb9b90ac064f828124f85d9f94c891\", result: false}\n          console.log(returnId);\n\n          if (!returnId) {\n            layer.msg(NETERROR);\n            $scope.payoneerPaying = false;\n            layer.closeAll('loading');\n            return;\n          } // imgHttpFun()  掉支付的时候会走这里 未支付成功  需要到支付成功页面去拿\n          // localStorage.setItem(`_p_${returnId}`, JSON.stringify({ href: location.href, isPay: true, successHref: `/myCJ.html${payoneerSuccessPath}` }))\n          //存储AWIN需要的参数\n\n\n          localStorage.setItem(\"_awin_\".concat(returnId), JSON.stringify({\n            awinAmount: $scope.ordmoney,\n            awinRef: $scope.ordnumber\n          }));\n          localStorage.setItem(\"_p_\".concat(returnId), JSON.stringify({\n            href: location.href,\n            isPay: true,\n            successHref: _successUrl\n          })); // 挑战模式，继续认证\n\n          location.href = payUrl;\n        } else {\n          layer.msg(message || NETERROR);\n        }\n\n        $scope.payoneerPaying = false;\n        layer.closeAll('loading');\n      }, function (err) {\n        $scope.payoneerPaying = false;\n        layer.msg(NETERROR);\n      });\n    }; // 取消支付-返回上一步\n\n\n    $scope.payoneerPayCancel = function () {\n      $scope.isShowNewPaynnerDia = true; // 基础弹窗\n\n      $scope.payoneerAuth = false; // 授权\n\n      $scope.payoneerOrder = true; // 已授权\n\n      $scope.payoneerConfirm = false; // 确认支付\n    }; // 关闭弹窗\n\n\n    $scope.closeShowNewPaynnerDia = function () {\n      $scope.isShowNewPaynnerDia = false;\n      $scope.isShowNewPaynnerDia = false; // 基础弹窗\n\n      $scope.payoneerAuth = false; // 授权\n\n      $scope.payoneerOrder = true; // 已授权\n\n      $scope.payoneerConfirm = false; // 确认支付\n\n      $scope.payoneerPayCurrency = ''; // 置空已选钱包\n    }; // 授权回调回来逻辑\n\n\n    function fromAuthRedirect() {\n      // 每次进入页面都检查\n      console.log('检查授权回调');\n      var isAuthR = localStorage.getItem(\"_r_auth_\".concat($scope.ordnumber)) === 'true';\n\n      if (isAuthR) {\n        $scope.payIndexType = 'paynner'; // 重走一遍验证流程\n\n        $scope.payoneerPayNew(); // 置空缓存，只走一次。之后页面刷新用户手动操作\n\n        localStorage.removeItem(\"_p_\".concat($scope.ordnumber));\n        localStorage.removeItem(\"_r_auth_\".concat($scope.ordnumber));\n      }\n    }\n\n    fromAuthRedirect(); // 派安盈支付-新 结束\n    //选择账户\n\n    $scope.selectAccount = function (t) {\n      clearInterval(timer);\n      $scope.num = 60;\n      $scope.isGetCode = false;\n      $scope.currencyType = t;\n      isAuth();\n    }; //返回\n\n\n    $scope.payonnerBack = function () {\n      $scope.isAuthorize = 1;\n    }; //\n\n\n    $scope.signInOrRegister = function (linkType) {\n      var parms = {\n        currencyType: $scope.currencyType,\n        linkType: linkType,\n        redirectUrl: location.href\n      };\n      layer.load(2);\n      dsp.postFun('cj/payoneer/getLink', parms, function (res) {\n        layer.closeAll('loading');\n\n        if (res.data.statusCode == '200') {\n          location.href = res.data.result;\n        } else {\n          layer.msg('The server is busy now, please try again later.');\n        }\n      }, function (err) {\n        layer.closeAll('loading');\n      });\n    }; //获取验证码\n\n\n    var timer;\n\n    $scope.getCode = function () {\n      if ($scope.isGetCode) {\n        return;\n      }\n\n      var parms = {\n        currencyType: $scope.currencyType,\n        money: ($scope.ordmoney * $scope.rate).toFixed(2)\n      };\n      layer.load(2);\n      dsp.postFun('cj/payoneer/getMailCode', parms, function (res) {\n        layer.closeAll('loading');\n\n        if (res.data.statusCode == '200') {\n          $scope.isGetCode = true;\n          layer.msg('Verification code sent to email.');\n          timer = setInterval(function () {\n            $scope.num--;\n\n            if ($scope.num == 0) {\n              clearInterval(timer);\n              $scope.num = 60;\n              $scope.isGetCode = false;\n            }\n\n            $scope.$apply();\n          }, 1000);\n        }\n      }, function (err) {\n        clearInterval(timer);\n        $scope.num = 60;\n        $scope.isGetCode = false;\n        layer.closeAll('loading');\n      });\n    }; //派安盈解绑\n\n\n    $scope.unbind = function () {\n      var parms = {\n        currencyType: $scope.currencyType\n      };\n      layer.load(2);\n      dsp.postFun('cj/payoneer/removeAuth', parms, function (res) {\n        layer.closeAll('loading');\n\n        if (res.data.statusCode == '200') {\n          layer.msg('Unbound successfully');\n          isAuth();\n        }\n      }, function (err) {\n        layer.closeAll('loading');\n      });\n    }; //派安盈支付\n\n\n    $scope.payoneer_Pay = function () {\n      if (!$scope.verificationCode) {\n        layer.msg('Please enter verification code');\n        return;\n      }\n\n      var parms = {};\n      parms.orderNum = $scope.ordnumber;\n      parms.price = $scope.ordmoney;\n      parms.code = $scope.payoneerCode;\n      parms.type = $scope.payType;\n      parms.buy = $scope.buy;\n      parms.mailCode = $scope.verificationCode;\n      parms.currencyType = $scope.currencyType;\n      parms.payPrice = ($scope.ordmoney * $scope.rate).toFixed(2);\n      parms.otype = ordType == 'fba' ? '2' : '';\n      parms.otype = ordType == 'fba' ? '2' : '';\n      parms.awc = dsp.getCookie(\"awc\") || '';\n      layer.load(2);\n      dsp.postFun('app/pay/pay', JSON.stringify(parms), function (res) {\n        layer.closeAll('loading');\n\n        if (res.data.result) {\n          location.href = successPath;\n          layer.msg('Payment Succeed');\n        } else {\n          if (res.data.message) {\n            layer.msg(res.data.message);\n          } else {\n            layer.msg('Payment Failure');\n            var cancelUrl = !noNewOrderList.includes(ordType) ? fromPath : \"myCJ.html\".concat(fromPath);\n            location.href = cancelUrl;\n          }\n        }\n      }, function (err) {\n        layer.closeAll('loading');\n        console.log(err);\n      });\n    }; // 更新账户信息\n\n\n    $scope.updateAccount = function () {\n      layer.load(2);\n      dsp.getFun('cj/payoneer/updateAuth?currencyType=' + $scope.currencyType, function (res) {\n        layer.closeAll('loading');\n\n        if (res.data.statusCode == '200') {\n          layer.msg('Update successfully');\n        }\n      }, function (err) {});\n    }; // payssion 支付方式\n\n\n    var payssionCountry = _paydata__WEBPACK_IMPORTED_MODULE_0__[\"countryL\"];\n    var countryList = [];\n\n    for (var key in payssionCountry) {\n      var obj = {\n        val: key.toLowerCase(),\n        name: payssionCountry[key]\n      };\n      countryList.push(obj);\n    }\n\n    var payssionShowFun = function payssionShowFun() {\n      var olanguage = navigator.language.indexOf('-') > 0 ? navigator.language.split('-')[1].toLowerCase() : '';\n      layer.load(2);\n      dsp.getFun('app/pay/payssionMethod', function (res) {\n        if (res.data) {\n          var payObj = res.data;\n          var payObjKeys = Object.keys(payObj);\n          layer.closeAll();\n          $scope.payssionCountryList = countryList.filter(function (item) {\n            if (payObjKeys.indexOf(item.val) >= 0) {\n              var payList = payObj[item.val].popular.split('|');\n              item.methods = payList;\n              item.isShow = true;\n              return item;\n            }\n          });\n\n          if (olanguage) {\n            //根据当前的浏览器语言默认选择\n            $scope.payssionCountryList.filter(function (item) {\n              if (item.val == olanguage) {\n                $scope.payssionObj.country = item;\n                $scope.payssionObj.methods = item.methods;\n              }\n            });\n          }\n        } else {\n          layer.msg('Hello, payment cannot be made due to the Payssion fail to obtain country information, please choose another payment method.');\n        }\n      }, function (err) {\n        layer.msg('Hello, payment cannot be made due to the Payssion fail to obtain country information, please choose another payment method.');\n      });\n    };\n    /* payssion选择支付国家 */\n\n\n    $scope.payssionCountryFun = function (item) {\n      $scope.payssionObj.country = item;\n      $scope.payssionObj.methods = item.methods;\n      $scope.payssionObj.payMethod = '';\n      $scope.payssionObj.showList = false;\n    };\n    /* payssion选择支付方式 */\n\n\n    $scope.payssionMethodFun = function (item) {\n      $scope.payssionObj.showList = false;\n      $scope.payssionObj.payMethod = item;\n    };\n    /* payssion搜索国家 */\n\n\n    $scope.payssionSearchFun = function () {\n      $scope.payssionCountryList.map(function (item) {\n        item.isShow = true;\n\n        if (item.name.indexOf($scope.payssionObj.search) == -1) {\n          item.isShow = false;\n        }\n      });\n    };\n    /* payssion确认支付 */\n\n\n    $scope.payssionConfirm = function () {\n      if (!$scope.payssionObj.payMethod) {\n        return layer.msg('Please select a payment method.');\n      }\n\n      var retUrl = orderversion === '2' ? 'newmycj/dropshipping/orderManage' : 'myCJ.html#/drop-proce';\n      layer.load(2);\n      dsp.postFun('app/pay/payssionUrl', {\n        orderNum: $scope.ordnumber,\n        price: $scope.ordmoney,\n        code: $scope.payssionCode,\n        pm_id: $scope.payssionObj.payMethod,\n        type: $scope.payType == 'paypal' ? '' : $scope.payType,\n        returnUrl: \"\".concat(location.origin, \"/\").concat(retUrl),\n        // 重定向页面地址\n        orderFlag: orderFlag\n      }, function (res) {\n        layer.closeAll();\n\n        if (res.data.href) {\n          imgHttpFun(); //正常模式下 付款成功直接调用回调\n\n          awinJS(res.data.href); // location.href = res.data.href;\n        } else {\n          layer.msg(res.data.message);\n        }\n      });\n    };\n\n    var midtransFun = function midtransFun() {\n      var retUrl = orderversion === '2' ? 'newmycj/dropshipping/orderManage' : 'myCJ.html#/drop-proce';\n      layer.load(2);\n      dsp.postFun('app/payMidTrans/generateUrl', {\n        orderNum: $scope.ordnumber,\n        price: $scope.ordmoney,\n        code: $scope.payssionCode,\n        type: $scope.payType == 'paypal' ? '' : $scope.payType,\n        returnUrl: \"\".concat(location.origin, \"/\").concat(retUrl),\n        // 重定向页面地址\n        orderFlag: orderFlag\n      }, function (res) {\n        layer.closeAll();\n        console.log(res.data);\n\n        if (res.data.result == 'true') {\n          imgHttpFun();\n          awinJS(res.data.redirect); // location.href = res.data.redirect;\n        } else {\n          layer.msg(res.data.message);\n        }\n      }, function (err) {\n        console.log(err);\n      });\n    }; //alipay支付\n\n\n    var checkout = window.checkoutAli || null;\n\n    var alipayReady = function alipayReady() {\n      if (!checkout) {\n        checkout = new AlipayConnectCheckout({\n          clientId: $scope.alipayObj.id,\n          intentPaymentAmount: {\n            //意向支付金额，用于获取可用的支付方式\n            value: ($scope.ordmoney * 100).toFixed(0),\n            currency: \"USD\"\n          },\n          locale: \"en_US\" //语言类型, 用于SDK 语言的渲染\n\n        });\n        window.checkoutAli = checkout;\n      }\n\n      checkout.getPaymentOptionsAndMethods().then(function (result) {\n        // result 为返回的支付方式列表信息\n        var paymentMethodsContainer = document.getElementById('paymentMethodsContainer'); // 若返回的支付方式列表为空，可以将页面的渠道列表置灰，表示暂时不可用\n\n        if (!result.length) {\n          paymentMethodsList.addAttribute('class', 'disabled');\n          return;\n        } // 渲染渠道列表\n\n\n        var methods = [];\n        result.forEach(function (item) {\n          methods.push('<li category=\"' + item.category + '\">');\n          methods.push('<div class=\"item\"></div>');\n          methods.push('<div id=\"' + item.category.toLowerCase() + '\"></div>');\n          methods.push('</li>');\n        });\n        paymentMethodsContainer.innerHTML = methods.join('');\n        creatCard('CARD');\n      }).catch(function (err) {\n        console.log('Try again');\n      });\n    };\n\n    var creatCard = function creatCard(category) {\n      var element = '#' + category.toLowerCase();\n      checkout.create('widget', {\n        element: element,\n        channelName: category,\n        styles: {\n          color: '#000000',\n          borderRadius: '2px',\n          fontFamily: ''\n        },\n        onHeightChange: function onHeightChange(res) {\n          console.log(res.height, 'height index');\n        },\n        onReady: function onReady() {// 商户可以在这里做收银台 ready 后的处理\n        },\n        onError: function onError(res) {// 商户可以在这里获取错误异常，并打印出来\n        }\n      });\n    };\n\n    $scope.checkoutRequest = function () {\n      checkout.confirmPay({\n        clientPaymentToken: $scope.alipayObj.token,\n        channelName: 'CARD'\n      }).catch(function (res) {\n        switch (res.errorCode) {\n          case 'FORM_VALID_FAILED':\n            // 这里处理表单校验失败\n            break;\n\n          case 'TIME_OUT':\n            // 这里处理网络超时\n            break;\n        }\n      });\n    };\n\n    var getAlipayToken = function getAlipayToken() {\n      layer.load(2);\n      dsp.postFun('app/pay/alipayToken', {\n        orderNum: $scope.ordnumber,\n        price: $scope.ordmoney,\n        code: $scope.alipayCode,\n        type: $scope.payType == 'paypal' ? '' : $scope.payType\n      }, function (_ref2) {\n        var data = _ref2.data;\n        layer.closeAll();\n\n        if (!!data.result) {\n          // resolve('')\n          // layer.msg(data.message)\n          $scope.alipayErrObj = {\n            showFlag: true,\n            errText: data.message\n          };\n        } else {\n          $scope.alipayObj.id = data.clientId;\n          $scope.alipayObj.token = data.clientPaymentToken;\n          alipayReady();\n        }\n      }, function (err) {\n        layer.msg(err.message);\n        layer.closeAll();\n      });\n    };\n\n    var getCNYRate = function getCNYRate() {\n      dsp.postFun('cj/homePage/exchangeRate', {\n        toCode: 'CNY'\n      }, function (res) {\n        var result = res.data.result;\n\n        if (!result) {\n          $scope.CNYRateFail = true;\n          return;\n        }\n\n        ;\n        $scope.CNYRate = result;\n        $scope.CNYRateFail = false;\n        $scope.showCNYmoney = Math.ceil($scope.ordmoney * result * 100) / 100;\n      });\n    }; // 获取stripe支付pk和sessionId 跳转到stripe支付页面\n\n\n    var getStripePk = function getStripePk() {\n      var successUrl = successPath;\n      var linkSuccessUrl;\n\n      if (ordType == 'problemPackage') {\n        linkSuccessUrl = \"\".concat(location.origin, \"/\").concat(successUrl, \"//\").concat($scope.ordnumber);\n      }\n\n      if (ordType !== 'problemPackage') {\n        linkSuccessUrl = \"\".concat(location.origin, \"/\").concat(successUrl, \"/\").concat($scope.ordnumber);\n      }\n\n      if (successPath == 'newmycj/dropshipping/orderManage') {\n        linkSuccessUrl = \"\".concat(location.origin, \"/\").concat(successUrl, \"?orderCode=\").concat($scope.ordnumber);\n      }\n\n      layer.load(2);\n      dsp.postFun('app/pay/stripePayment', {\n        orderNum: $scope.ordnumber,\n        price: $scope.ordmoney,\n        code: $scope.stripeCode,\n        type: $scope.payType,\n        orderFlag: orderFlag,\n        successUrl: linkSuccessUrl || \"\".concat(location.origin, \"/\").concat(successUrl),\n        cancelUrl: location.href\n      }, function (_ref3) {\n        var data = _ref3.data;\n        layer.closeAll();\n\n        if (!data.result) {\n          if ((data === null || data === void 0 ? void 0 : data.message) == 'The order does not belong to you and cannot be paid.') {\n            $scope.tokeFailFlag = true;\n            return;\n          }\n\n          layer.msg((data === null || data === void 0 ? void 0 : data.message) || 'Failed to obtain payment information from the seller. Please try again later.'); // window.location.reload();\n        } else {\n          $scope.stripeObj = {\n            orderId: data.orderId,\n            stripePk: data.stripePk,\n            sessionId: data.sessionId,\n            stripeCode: $scope.stripeCode,\n            payId: data.payId,\n            showOrdId: $scope.ordnumber,\n            paymentType: 'Stripe'\n          };\n          localStorage.setItem('stripeObj', base64.encode(JSON.stringify($scope.stripeObj)));\n          var stripe = Stripe(data.stripePk);\n          stripe.redirectToCheckout({\n            sessionId: data.sessionId\n          });\n        }\n      }, function (err) {\n        layer.msg(err.message);\n        layer.closeAll();\n      });\n    }; // 获取checkout支付的跳转链接\n\n\n    var getCheckoutLink = function getCheckoutLink() {\n      var successUrl = successPath;\n      layer.load(2);\n      dsp.postFun('app/pay/getCheckoutPayUrl', {\n        orderNum: $scope.ordnumber,\n        price: $scope.ordmoney,\n        code: $scope.stripeCode,\n        type: $scope.payType,\n        otype: ordType == 'fba' ? '2' : '',\n        orderFlag: orderFlag,\n        successUrl: \"\".concat(location.origin, \"/\").concat(successUrl),\n        failureUrl: \"\".concat(location.origin, \"/\").concat(failPath),\n        cancelUrl: location.href\n      }, function (_ref4) {\n        var data = _ref4.data;\n        layer.closeAll();\n\n        if (data.code == 200) {\n          $scope.checkoutObj = {\n            orderId: data.data.orderId,\n            showOrdId: $scope.ordnumber,\n            stripeCode: $scope.stripeCode,\n            payId: data.data.payId,\n            paymentType: 'Checkout'\n          };\n          localStorage.setItem('checkoutObj', base64.encode(JSON.stringify($scope.checkoutObj)));\n          window.location.href = data.data.href;\n        } else {\n          layer.msg((data === null || data === void 0 ? void 0 : data.message) || 'Oops, There is something wrong with this order, payment failed. Please contact your agent.');\n        }\n      }, function (err) {\n        layer.msg(err.message);\n        layer.closeAll();\n      });\n    }; // 判断当前客户是否是欧洲客户\n\n\n    function isEuoUser() {\n      layer.load(2);\n      dsp.postFun('payment/isEurope', {}, function (_ref5) {\n        var data = _ref5.data;\n        layer.closeAll('loading');\n        console.log(data);\n\n        if (data && data.code == 200) {\n          var _data$data;\n\n          // isEurope true为欧洲\n          if (data !== null && data !== void 0 && (_data$data = data.data) !== null && _data$data !== void 0 && _data$data.isEurope) {\n            getCheckoutLink();\n            return;\n          }\n\n          getStripePk();\n        } else {\n          layer.msg(data === null || data === void 0 ? void 0 : data.message);\n        }\n      }, function (data) {\n        layer.closeAll('loading');\n      });\n    }\n\n    getCNYRate(); // 退出登录\n\n    function logoutHandle() {\n      var token = base64.decode(localStorage.getItem('token') == undefined ? \"\" : localStorage.getItem('token'));\n      dsp.postFun('app/platform/quitLogin', {\n        \"token\": token\n      }, function (n) {\n        localStorage.removeItem('token');\n        localStorage.removeItem('noEncodeToken');\n        localStorage.removeItem('utmSource'); // 退出登录清除cookie中的email\n\n        console.log('退出在这儿，src/components/mycj-header/mycj-header.js');\n        localStorage.removeItem('emailVerifyStatus');\n        document.cookie = \"emailVerifyStatus=0; domain=\".concat(__root__domain);\n        localStorage.getItem('loginfromerp') && localStorage.removeItem('loginfromerp');\n        dsp.delCookie('cjLoginName');\n        dsp.delCookie('cjLoginToken');\n        dsp.delAwcCookie('awc');\n        location.href = \"login.html\"; // 去首页\n      });\n    }\n    /* 选择支付方式\r\n     * 0：转账，1:paypal；2：余额；4：派安盈；5：payssion；6：midrans；7：西联银行; 8: 支付宝； 9：微信\r\n     */\n\n\n    $scope.choosePayFun = function (item, index) {\n      dsp.postFun('app/pay/checkUserStatus', {}, function (_ref6) {\n        var data = _ref6.data;\n\n        if (data.code == 200) {\n          console.log('选择支付');\n          $scope.payIndexType = item.type;\n\n          if (item.type == 'paypal' && (!$scope.paypalObj.url || $scope.paypalObj.url.indexOf('https') < 0)) {\n            paypalFun();\n          } else if (item.type == 'card' && !$scope.widthCardObj.isGet) {// getStripePk();\n          } else if (item.type == 'alipay') {\n            if ($scope.alipayObj.token) {\n              alipayReady();\n            } else {\n              getAlipayToken();\n            }\n          } else if (item.type == 'newAlipay') {\n            getCNYRate(); // getQrCode()\n          } else if (item.type == 'wechat') {\n            getCNYRate(); // getQrCode()\n          }\n        } else {\n          layer.msg(data.msg || '');\n          logoutHandle();\n        }\n      });\n    }; // let getQrCode = () => {\n    //   dsp.postFun('app/pay/getQrCode', {}, function ({data}) {\n    //     if (data.code == 200) {\n    //       $scope.newAlipayObj.qrCode = data.data.alipayQrCode\n    //       $scope.wechatObj.qrCode = data.data.wechatQrCode\n    //     }\n    //   })\n    // }\n\n\n    $scope.getCNYRate = function () {\n      getCNYRate();\n    }; //获取url参数\n\n\n    function queryUrlParams(href) {\n      if (href && href.indexOf('?') != -1) {\n        var hrefParamsObj = {};\n        var queryStr = href.substr(1); //substr()方法返回从参数值开始到结束的字符串；\n\n        var queryStrs = queryStr.split('&');\n\n        for (var i = 0; i < queryStrs.length; i++) {\n          hrefParamsObj[queryStrs[i].split('=')[0]] = queryStrs[i].split('=')[1];\n        }\n\n        return hrefParamsObj;\n      }\n\n      return false;\n    }\n    /* 支付按钮\r\n     * 0：转账，1:paypal；2：余额；4：派安盈；5：payssion；6：midrans；7：西联银行\r\n     */\n\n\n    $scope.payFun = function () {\n      if ($scope.payIndexType && !$scope.selectTermsFlag) {\n        return layer.msg('For your interests, please read and agree the User Agreement, Privacy Policy and Refund, Resend and Returns Policy.');\n      }\n\n      if ($scope.payIndexType == 'wire') {\n        $scope.transferObj.isShow = true;\n      } else if ($scope.payIndexType == 'paypal') {\n        //未获取到paypal支付链接重新获取\n        if ($scope.paypalObj.url && $scope.paypalObj.url.indexOf('https') >= 0) {\n          var resHrefParams = queryUrlParams($scope.paypalObj.url);\n\n          if (resHrefParams && resHrefParams.token) {\n            localStorage.setItem(\"_paypal_\".concat(resHrefParams.token), JSON.stringify({\n              awinAmount: $scope.ordmoney,\n              awinRef: $scope.ordnumber\n            }));\n          }\n\n          location.href = $scope.paypalObj.url;\n        } else {\n          paypalFun();\n        }\n      } else if ($scope.payIndexType == 'credit') {\n        $scope.storeCreditObj.isShow = true;\n      } else if ($scope.payIndexType == 'card') {\n        isEuoUser();\n      } else if ($scope.payIndexType == 'paynner') {\n        // 派安盈支付\n        $scope.payoneerPayNew(); //$scope.payoneerPay()\n      } else if ($scope.payIndexType == 'payssion') {\n        $scope.payssionObj.isShow = true;\n        $scope.payssionObj.showList = false;\n        $scope.payssionObj.search = '';\n\n        if (Object.keys($scope.payssionObj.country).length == 0) {\n          payssionShowFun();\n        }\n      } else if ($scope.payIndexType == 'midtrans') {\n        midtransFun();\n      } else if ($scope.payIndexType == 'western') {\n        $scope.transferXLObj.isShow = true; //西联银行支付\n      } else if ($scope.payIndexType == 'alipay') {\n        if ($scope.alipayObj.token) {\n          alipayReady();\n        } else {\n          getAlipayToken();\n        }\n\n        $scope.alipayObj.isShow = true;\n      } else if ($scope.payIndexType == 'newAlipay') {\n        $scope.deTime = {\n          m: 15,\n          s: 0\n        };\n        $scope.newAlipayObj.isShow = true;\n        $scope.modalConfirmPay();\n      } else if ($scope.payIndexType == 'wechat') {\n        $scope.deTime = {\n          m: 15,\n          s: 0\n        };\n        $scope.wechatObj.isShow = true;\n        $scope.modalConfirmPay();\n      } else if (!$scope.payIndexType) {\n        layer.msg('Please choose a payment method first.');\n      }\n    };\n\n    $scope.cancelPay = function () {\n      $scope.newAlipayObj.isShow = false;\n      $scope.wechatObj.isShow = false;\n      document.getElementById('qrCode').innerHTML = '';\n      $scope.timers && clearInterval($scope.timers);\n      $scope.timeoutTimer && clearTimeout($scope.timeoutTimer);\n      $scope.deTime = {\n        m: 0,\n        s: 0\n      };\n    };\n\n    $scope.cancelSuccessPay = function () {\n      $scope.newAlipayObj.isShowSucc = false;\n      $scope.wechatObj.isShowSucc = false;\n    };\n\n    $scope.jumpToOther = function () {\n      location.href = successPath;\n    };\n\n    $scope.deletePic = function (event) {\n      event.stopPropagation();\n      event.preventDefault();\n      document.getElementById('document3').value = '';\n      $scope.headimg = \"\";\n      $scope.imgArr = [];\n    };\n\n    $scope.deTime = {\n      m: 15,\n      s: 0\n    };\n\n    $scope.loopPaySuccess = function () {\n      if ($scope.deTime.m + $scope.deTime.s == 0) {\n        return;\n      }\n\n      $scope.timeoutTimer && clearTimeout($scope.timeoutTimer);\n      $scope.timeoutTimer = setTimeout(function () {\n        dsp.postFun('app/pay/getPayResult', {\n          orderId: $scope.orderId,\n          awc: dsp.getCookie(\"awc\") || '',\n          price: $scope.ordmoney,\n          orderNum: $scope.ordnumber\n        }, function (_ref7) {\n          var data = _ref7.data;\n\n          if (data.data.status == 1) {\n            $scope.loopPaySuccess();\n          } else if (data.data.status == 2) {\n            layer.msg(data.data.returnMsg);\n          } else if (data.data.status == 3) {\n            layer.msg('Payment Succeed');\n            $scope.payStatus = data.data.status;\n            $scope.timers && clearInterval($scope.timers);\n            awinJS();\n            imgHttpFun(); //微信支付成功\n\n            setTimeout(function () {\n              $scope.jumpToOther();\n            }, 5000);\n          }\n        });\n      }, 3000);\n    };\n\n    $scope.refreshQrcode = function () {\n      $scope.deTime = {\n        m: 15,\n        s: 0\n      };\n      $scope.loopPaySuccess();\n      $scope.runTime();\n    };\n\n    $scope.runTime = function () {\n      $scope.timers = setInterval(function () {\n        if ($scope.deTime.s == 0 && $scope.deTime.m >= 1) {\n          $scope.deTime.s = 59;\n          $scope.deTime.m -= 1;\n        } else if ($scope.deTime.s + $scope.deTime.m == 0) {\n          clearInterval($scope.timers);\n        } else {\n          $scope.deTime.s -= 1;\n        }\n\n        $scope.$apply();\n      }, 1000);\n    };\n    /**支付宝，微信支付 */\n\n\n    $scope.modalConfirmPay = function () {\n      var payData = {\n        price: $scope.payIndexType == 'newAlipay' ? $scope.newAlipayObj.showAmount : $scope.wechatObj.showAmount,\n        orderNum: $scope.ordnumber,\n        code: $scope.payIndexType == 'newAlipay' ? $scope.newAlipayObj.payCode : $scope.wechatObj.payCode,\n        type: $scope.payType,\n        otype: ordType == 'fba' ? '2' : '',\n        orderType: $scope.orderType ? $scope.orderType : '',\n        payPrice: $scope.showCNYmoney,\n        // payPrice: 0.01,\n        tradeType: 1,\n        // 为native\n        currencyType: 0,\n        orderFlag: orderFlag\n      };\n      if ($scope.payIndexType == 'newAlipay') payData.paymentMethod = 2; // 支付宝\n\n      if ($scope.payIndexType == 'wechat') payData.paymentMethod = 3; // 微信\n\n      layer.load(2);\n      dsp.postFun('app/pay/pay', JSON.stringify(payData), function (data) {\n        layer.closeAll('loading');\n\n        if (!!data.data.payUrl && !!data.data.orderId) {\n          $scope.orderId = data.data.orderId;\n          $scope.qrcode = new window.QRCode('qrCode', {\n            text: data.data.payUrl,\n            width: 254,\n            height: 254,\n            colorDark: '#000000',\n            colorLight: '#ffffff',\n            correctLevel: QRCode.CorrectLevel.H\n          });\n          $scope.loopPaySuccess();\n          $scope.runTime();\n        } else {\n          layer.msg('Sorry, you cannot pay with WeChat. Please use other payment methods.  ');\n        }\n      }, function (data) {\n        layer.closeAll('loading');\n      });\n    }; // Switch 开关,type:1-普通转账；2-西联银行转账\n\n\n    $scope.switchClick = function ($event, type) {\n      var elm = $event.currentTarget;\n      var amount = $scope.ordmoney;\n\n      if (elm.children[0].checked) {\n        elm.children[0].checked = false;\n        elm.classList.remove(\"is-checked\");\n        $scope.switchCheck = false;\n        type == 1 ? $scope.transferObj.showPrice = amount : $scope.transferXLObj.showPrice = amount;\n        type == 1 ? $scope.transferObj.unit = 'USD' : $scope.transferXLObj.unit = 'USD';\n      } else {\n        layer.load(2);\n        dsp.postFun('cj/homePage/exchangeRate', {\n          toCode: 'EUR'\n        }, function (res) {\n          if (res.data.statusCode == '200') {\n            layer.closeAll();\n            elm.children[0].checked = true;\n            elm.classList.add(\"is-checked\");\n            $scope.switchCheck = true;\n            $scope.eurPayReminderModal.isShow = true;\n            $scope.exchangeRate = res.data.result;\n            amount = ($scope.ordmoney * $scope.exchangeRate).toFixed(2);\n            type == 1 ? $scope.transferObj.showPrice = amount : $scope.transferXLObj.showPrice = amount;\n            type == 1 ? $scope.transferObj.unit = 'EUR' : $scope.transferXLObj.unit = 'EUR';\n          } else {\n            console.warn('获取汇率失败', res);\n          }\n        }, function (err) {\n          layer.closeAll();\n          console.log(\"get error\");\n        });\n      }\n    }; //awin转换标签\n\n\n    function awinJS(successPageLink) {\n      var awcText = dsp.getCookie('awc');\n      var utmSource = localStorage.getItem('utmSource');\n\n      if (awcText && utmSource == 'awin') {\n        //有awin的awc值 并且登录平台来源是awin\n        var content = '<script >' + ' var AWIN = {};' + '  AWIN.Tracking = {};' + ' AWIN.Tracking.Sale = {};' + ' AWIN.Tracking.Sale.amount =' + $scope.ordmoney + ';' + ' AWIN.Tracking.Sale.orderRef =\"' + $scope.ordnumber + '\";' + ' AWIN.Tracking.Sale.parts  =\"' + \"DEFAULT:\" + $scope.ordmoney + '\";' + 'AWIN.Tracking.Sale.currency = \"USD\";' + ' AWIN.Tracking.Sale.test = \"' + awinTesMode + '\";' + 'AWIN.Tracking.Sale.channel = \"aw\";' + // ' AWIN.Tracking.Sale.click =\"' + awcText + '\";'+\n        +'<\\/script>';\n        $('body').append(content); // $.getScript(\"https://www.dwin1.com/21578.js\",function(res,status){\n        //   console.log(\"加载完毕\",res,status,'================');\n        // })\n\n        var osrc = 'https://www.dwin1.com/21578.js';\n        var script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.src = osrc;\n        document.getElementsByTagName('body')[0].appendChild(script);\n        script.addEventListener('load', function (e) {\n          if (successPageLink) {\n            setTimeout(function () {\n              location.href = successPageLink;\n            }, 1000);\n          }\n        });\n      } else {\n        if (successPageLink) {\n          location.href = successPageLink;\n        }\n      }\n    }\n\n    $scope.selectTermsFun = function () {\n      $scope.selectTermsFlag = !$scope.selectTermsFlag;\n    };\n  }]);\n  return app;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovcGF5bWVudC9wYXltZW50LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9wYWdlcy9teWNqL3BheW1lbnQvcGF5bWVudC5qcz85MWJjIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG4gIGltcG9ydCB7Y291bnRyeUx9IGZyb20gJy4vcGF5ZGF0YSc7XHJcbiAgaW1wb3J0IHsgTk9ERV9FTlYgfSBmcm9tICdAcm9vdF9lZ2cvZW52JztcclxuICBleHBvcnQgZnVuY3Rpb24gcGF5bWVudEZhY3RvcnkoYW5ndWxhcikge1xyXG4gIGNvbnN0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdwYXltZW50Lm1vZHVsZScsIFsnc2VydmljZSddKTsgXHJcbiAgY29uc29sZS5sb2coTk9ERV9FTlYsJz09PT09PT09PT0tLS0tLS0tLS0tLS0tLS0nKVxyXG4gIGNvbnN0IHN0cmlwZUtleSA9IFsndGVzdG5ldycsICdkZXZlbG9wbWVudCcsICd0ZXN0J10uaW5jbHVkZXMoTk9ERV9FTlYpID8gJ3BrX3Rlc3RfdzYydEFQV3F1RnBTUXNHRVA3OUxoczI1MDA4RmdiY1c4aicgOiAncGtfbGl2ZV9KOVY3TTlmWjJTUlFkSjUxbUJLQ05oZjcnLy/ljp/mnaXnmoRrZXnvvJpwa19saXZlXzQzRTh2NU9WSno2ZENlRHU4MlpETDVEdVxyXG4gIGNvbnN0IGF3aW5UZXNNb2RlID0gWyd0ZXN0bmV3JywgJ2RldmVsb3BtZW50JywgJ3Rlc3QnXS5pbmNsdWRlcyhOT0RFX0VOVikgPyAxIDogMDtcclxuICBjb25zdCBORVRFUlJPUiA9ICdUaGUgc2VydmVyIGlzIGJ1c3kgbm93LCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyLic7XHJcbiAgYXBwLmNvbnRyb2xsZXIoJ3BheW1lbnQuY3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdkc3AnLFxyXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBkc3ApIHtcclxuICAgICAgJHNjb3BlLm5leHRBc2hGbGFnID0gdHJ1ZTsgLy8gcGF5b25lZXIg55qEbmV4dOaMiemSriDnva7ngbDlvIDlhbNcclxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3N0cmlwZU9iaicpXHJcbiAgICAgICRzY29wZS5zZWxlY3RUZXJtc0ZsYWcgPSBmYWxzZTtcclxuICAgICAgbGV0IGJhc2U2NCA9IG5ldyBCYXNlNjQoKTtcclxuICAgICAgY29uc29sZS5sb2coJ3N0YXRlUGFyYW1zX19fX19fX19fXycsICRzdGF0ZVBhcmFtcylcclxuICAgICAgJHNjb3BlLnVzZXJJZCA9IGJhc2U2NC5kZWNvZGUobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpID09IHVuZGVmaW5lZCA/ICcnIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpKTtcclxuICAgICAgJHNjb3BlLm9yZG51bWJlciA9ICRzdGF0ZVBhcmFtcy5vcmRuID8gYmFzZTY0LmRlY29kZSgkc3RhdGVQYXJhbXMub3JkbikgOiAnJzsgLy/orqLljZXlj7dcclxuICAgICAgJHNjb3BlLm9yZG1vbmV5ID0gJHN0YXRlUGFyYW1zLm9yZG0gPyBwYXJzZUZsb2F0KChiYXNlNjQuZGVjb2RlKCRzdGF0ZVBhcmFtcy5vcmRtKSAtIDApLnRvRml4ZWQoMikpIDogJyc7IC8v6K6i5Y2V6YeR6aKdXHJcbiAgICAgICRzY29wZS5vcmRxdWFudGl0eSA9ICRzdGF0ZVBhcmFtcy5vcmRxID8gYmFzZTY0LmRlY29kZSgkc3RhdGVQYXJhbXMub3JkcSkgLSAwIDogJyc7IC8v6K6i5Y2V5pWw6YeP5bGV56S65L2/55SoXHJcbiAgICAgICRzY29wZS5wYXlJbmRleFR5cGUgPSAnJzsvL+aUr+S7mOaWueW8j1xyXG4gICAgICBsZXQgdmlkZW9JZCA9ICRzdGF0ZVBhcmFtcy52aWRlb0lkID8gYmFzZTY0LmRlY29kZSgkc3RhdGVQYXJhbXMudmlkZW9JZCkgOiAnJztcclxuICAgICAgbGV0IHByb0lkID0gJHN0YXRlUGFyYW1zLnBpZCA/IGJhc2U2NC5kZWNvZGUoJHN0YXRlUGFyYW1zLnBpZCkgOiAnJzsgLy/kuqflk4FpZFxyXG4gICAgICBsZXQgb3JkVHlwZSA9ICRzdGF0ZVBhcmFtcy5vcmRUeXBlOyAvL+iuouWNleexu+Wei1xyXG4gICAgICB2YXIgZnJvbVBhdGgsIHN1Y2Nlc3NQYXRoLCBwYXlvbmVlclN1Y2Nlc3NQYXRoLCBmYWlsUGF0aDtcclxuICAgICAgY29uc3Qgb3JkZXJ2ZXJzaW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ29yZGVydmVyc2lvbicpID8/ICcyJztcclxuICAgICAgY29uc3Qgbm9OZXdPcmRlckxpc3QgPSBbJ0RJUkVDVCcsICdGb3JtVGInLCAnZmJhJywgJ1ZJREVPRFRBJywgJ1ZJREVPSE9UJywgJ2Rpc3B1dGUnLCAncHJvYmxlbVBhY2thZ2UnXVxyXG4gICAgICBjb25zb2xlLmxvZygnb3JkVHlwZT09PT09PScgKyBvcmRUeXBlKVxyXG4gICAgICBsZXQgd2VjaGF0UGF5Q29kZSA9IDQ1XHJcbiAgICAgIGlmIChvcmRUeXBlID09ICdESVJFQ1QnKSB7IC8v55u05Y+R44CB5Luj5Y+R44CB6Ieq5a6a5LmJ5YyF6KOF6K6i5Y2VXHJcbiAgICAgICAgJHNjb3BlLnBheUNvZGUgPSA2O1xyXG4gICAgICAgICRzY29wZS5wYXllZXp5Q29kZSA9IDE0O1xyXG4gICAgICAgICRzY29wZS5zdHJpcGVDb2RlID0gNTtcclxuICAgICAgICAkc2NvcGUucGF5V2FsbGV0Q29kZSA9IDg7XHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyQ29kZSA9IDI1O1xyXG4gICAgICAgICRzY29wZS5wYXlzc2lvbkNvZGUgPSAyNjtcclxuICAgICAgICAkc2NvcGUuYWxpcGF5Q29kZSA9IDQxO1xyXG4gICAgICAgICRzY29wZS5wYXlUeXBlID0gJ2FjY291bnRCdXlQYXlwYWwnO1xyXG4gICAgICAgICRzY29wZS5vcmRlclR5cGUgPSAnQ0pQQVknO1xyXG4gICAgICAgIGZyb21QYXRoID0gJyMvcHVyY2hhc2UtaGlzdG9yeSc7XHJcbiAgICAgICAgZmFpbFBhdGggPSAnbXlDSi5odG1sIy9wdXJjaGFzZS1oaXN0b3J5J1xyXG4gICAgICAgIHN1Y2Nlc3NQYXRoID0gJ215Q0ouaHRtbCMvcHVyY2hhc2UtaGlzdG9yeSc7XHJcbiAgICAgICAgcGF5b25lZXJTdWNjZXNzUGF0aCA9ICcjL3B1cmNoYXNlLWhpc3RvcnknO1xyXG4gICAgICAgIHdlY2hhdFBheUNvZGUgPSA0NjtcclxuICAgICAgfSBlbHNlIGlmIChvcmRUeXBlID09ICdGb3JtVGInKSB7IC8v5LuO5reY5a6d6L+b5YWlXHJcbiAgICAgICAgJHNjb3BlLnBheUNvZGUgPSA2O1xyXG4gICAgICAgICRzY29wZS5wYXllZXp5Q29kZSA9IDE0O1xyXG4gICAgICAgICRzY29wZS5zdHJpcGVDb2RlID0gNTtcclxuICAgICAgICAkc2NvcGUucGF5V2FsbGV0Q29kZSA9IDg7XHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyQ29kZSA9IDI1O1xyXG4gICAgICAgICRzY29wZS5wYXlzc2lvbkNvZGUgPSAyNjtcclxuICAgICAgICAkc2NvcGUuYWxpcGF5Q29kZSA9IDQxO1xyXG4gICAgICAgICRzY29wZS5wYXlUeXBlID0gJ2FjY291bnRCdXlQYXlwYWwnO1xyXG4gICAgICAgICRzY29wZS5vcmRlclR5cGUgPSAnQ0pQQVknO1xyXG4gICAgICAgICRzY29wZS5wYXlmbGFnID0gJ1BUQic7XHJcbiAgICAgICAgJHNjb3BlLmJ1eSA9ICdGb3JtVGInO1xyXG4gICAgICAgIGZyb21QYXRoID0gJyMvcHVyY2hhc2UtVGFvYmFvJztcclxuICAgICAgICBmYWlsUGF0aCA9ICdteUNKLmh0bWwjL3B1cmNoYXNlLVRhb2JhbydcclxuICAgICAgICBzdWNjZXNzUGF0aCA9ICdteUNKLmh0bWwjL3B1cmNoYXNlLVRhb2Jhbyc7XHJcbiAgICAgICAgcGF5b25lZXJTdWNjZXNzUGF0aCA9ICcjL3B1cmNoYXNlLVRhb2Jhbyc7XHJcbiAgICAgIH0gZWxzZSBpZiAob3JkVHlwZSA9PSAnZmJhJykge1xyXG4gICAgICAgICRzY29wZS5wYXlDb2RlID0gNjtcclxuICAgICAgICAkc2NvcGUucGF5ZWV6eUNvZGUgPSAxNDtcclxuICAgICAgICAkc2NvcGUuc3RyaXBlQ29kZSA9IDU7XHJcbiAgICAgICAgJHNjb3BlLnBheVdhbGxldENvZGUgPSA4O1xyXG4gICAgICAgICRzY29wZS5wYXlvbmVlckNvZGUgPSAyNTtcclxuICAgICAgICAkc2NvcGUucGF5c3Npb25Db2RlID0gMjY7XHJcbiAgICAgICAgJHNjb3BlLmFsaXBheUNvZGUgPSA0MTtcclxuICAgICAgICAkc2NvcGUub3JkZXJUeXBlID0gJ0NKUEFZJztcclxuICAgICAgICAkc2NvcGUucGF5VHlwZSA9ICdhY2NvdW50QnV5UGF5cGFsJztcclxuICAgICAgICBmcm9tUGF0aCA9ICcjL215Q0otRkJBJztcclxuICAgICAgICBmYWlsUGF0aCA9ICdteUNKLmh0bWwjL215Q0otRkJBJ1xyXG4gICAgICAgIHN1Y2Nlc3NQYXRoID0gJ215Q0ouaHRtbCMvbXlDSi1GQkEnO1xyXG4gICAgICAgIHBheW9uZWVyU3VjY2Vzc1BhdGggPSAnIy9teUNKLUZCQSc7XHJcbiAgICAgIH0gZWxzZSBpZiAob3JkVHlwZSA9PSAnVklERU9EVEEnIHx8IG9yZFR5cGUgPT0gJ1ZJREVPSE9UJykgeyAvL3ZpZGVvXHJcbiAgICAgICAgJHNjb3BlLnBheUNvZGUgPSAxMTtcclxuICAgICAgICAkc2NvcGUucGF5ZWV6eUNvZGUgPSAxNTtcclxuICAgICAgICAkc2NvcGUuc3RyaXBlQ29kZSA9IDEwO1xyXG4gICAgICAgICRzY29wZS5wYXlXYWxsZXRDb2RlID0gMTI7XHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyQ29kZSA9IDI4O1xyXG4gICAgICAgICRzY29wZS5wYXlzc2lvbkNvZGUgPSAyOTtcclxuICAgICAgICAkc2NvcGUuYWxpcGF5Q29kZSA9IDQyO1xyXG4gICAgICAgICRzY29wZS5sb2NQcm9kdWN0SWQgPSBwcm9JZDtcclxuICAgICAgICAkc2NvcGUucGF5VHlwZSA9ICd2aWRlb0J1eVBheXBhbCc7XHJcbiAgICAgICAgZnJvbVBhdGggPSAnIy92aWRlby1oaXN0b3J5JztcclxuICAgICAgICBmYWlsUGF0aCA9IG9yZFR5cGUgPT0gJ1ZJREVPRFRBJyA/ICgncHJvZHVjdC1kZXRhaWwuaHRtbD9pZD0nICsgcHJvSWQgKyAnJnZpZGVvSWQ9JyArIHZpZGVvSWQpIDogJ215Q0ouaHRtbCMvdmlkZW8taGlzdG9yeSdcclxuICAgICAgICBzdWNjZXNzUGF0aCA9IG9yZFR5cGUgPT0gJ1ZJREVPRFRBJyA/ICgncHJvZHVjdC1kZXRhaWwuaHRtbD9pZD0nICsgcHJvSWQgKyAnJnZpZGVvSWQ9JyArIHZpZGVvSWQpIDogJ215Q0ouaHRtbCMvdmlkZW8taGlzdG9yeSc7XHJcbiAgICAgICAgcGF5b25lZXJTdWNjZXNzUGF0aCA9ICcjL3ZpZGVvLWhpc3RvcnknO1xyXG4gICAgICAgIHdlY2hhdFBheUNvZGUgPSA0NztcclxuICAgICAgfSBlbHNlIGlmIChvcmRUeXBlID09ICdkaXNwdXRlJykgey8vIOe6oOe6t1xyXG4gICAgICAgICRzY29wZS5wYXlDb2RlID0gMTg7XHJcbiAgICAgICAgJHNjb3BlLnBheWVlenlDb2RlID0gMjA7XHJcbiAgICAgICAgJHNjb3BlLnN0cmlwZUNvZGUgPSAxNztcclxuICAgICAgICAkc2NvcGUucGF5V2FsbGV0Q29kZSA9IDE5O1xyXG4gICAgICAgICRzY29wZS5wYXlvbmVlckNvZGUgPSAzMTtcclxuICAgICAgICAkc2NvcGUucGF5c3Npb25Db2RlID0gMzg7XHJcbiAgICAgICAgJHNjb3BlLmFsaXBheUNvZGUgPSA0MztcclxuICAgICAgICAkc2NvcGUucGF5VHlwZSA9ICdmcmVpZ2h0QnV5UGF5cGFsJztcclxuICAgICAgICBmcm9tUGF0aCA9ICcjL2FmdGVyLXNhbGUvLyc7XHJcbiAgICAgICAgZmFpbFBhdGggPSAnbXlDSi5odG1sIy9hZnRlci1zYWxlLy8nO1xyXG4gICAgICAgIHN1Y2Nlc3NQYXRoID0gJ215Q0ouaHRtbCMvYWZ0ZXItc2FsZS8vJztcclxuICAgICAgICBwYXlvbmVlclN1Y2Nlc3NQYXRoID0gJyMvYWZ0ZXItc2FsZS8vJztcclxuICAgICAgICB3ZWNoYXRQYXlDb2RlID0gNDhcclxuICAgICAgfSBlbHNlIGlmIChvcmRUeXBlID09ICdwcm9ibGVtUGFja2FnZScpIHtcclxuICAgICAgICAkc2NvcGUucGF5Q29kZSA9IDM3O1xyXG4gICAgICAgICRzY29wZS5wYXllZXp5Q29kZSA9IDMzO1xyXG4gICAgICAgICRzY29wZS5zdHJpcGVDb2RlID0gMzY7XHJcbiAgICAgICAgJHNjb3BlLnBheVdhbGxldENvZGUgPSAzMjtcclxuICAgICAgICAkc2NvcGUucGF5b25lZXJDb2RlID0gMzQ7XHJcbiAgICAgICAgJHNjb3BlLnBheXNzaW9uQ29kZSA9IDM5O1xyXG4gICAgICAgICRzY29wZS5hbGlwYXlDb2RlID0gNDQ7XHJcbiAgICAgICAgJHNjb3BlLnBheVR5cGUgPSAncHJvYmxlbVBhY2thZ2UnO1xyXG4gICAgICAgIGZyb21QYXRoID0gJyMvcHJvYmxlbS1wYWNrYWdlJztcclxuICAgICAgICBmYWlsUGF0aCA9ICdteUNKLmh0bWwjL3Byb2JsZW0tcGFja2FnZS8nO1xyXG4gICAgICAgIHN1Y2Nlc3NQYXRoID0gJ215Q0ouaHRtbCMvcHJvYmxlbS1wYWNrYWdlLzInO1xyXG4gICAgICAgIHBheW9uZWVyU3VjY2Vzc1BhdGggPSAnIy9wcm9ibGVtLXBhY2thZ2UvMic7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHNjb3BlLnBheUNvZGUgPSAzO1xyXG4gICAgICAgICRzY29wZS5zdHJpcGVDb2RlID0gMjtcclxuICAgICAgICAkc2NvcGUucGF5V2FsbGV0Q29kZSA9IDc7XHJcbiAgICAgICAgJHNjb3BlLnBheWVlenlDb2RlID0gMTM7XHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyQ29kZSA9IDIxO1xyXG4gICAgICAgICRzY29wZS5wYXlzc2lvbkNvZGUgPSAyMjtcclxuICAgICAgICAkc2NvcGUuYWxpcGF5Q29kZSA9IDI0O1xyXG4gICAgICAgICRzY29wZS5wYXlUeXBlID0gJ3BheXBhbCc7XHJcbiAgICAgICAgJHNjb3BlLmRyb3BzaGlwT3JkZXIgPSB0cnVlO1xyXG4gICAgICAgIGZyb21QYXRoID0gb3JkZXJ2ZXJzaW9uID09ICcyJz8gJ25ld215Y2ovZHJvcHNoaXBwaW5nL29yZGVyTWFuYWdlJzonIy9kcm9wc2hpcHBpbmctb3JkZXJzJztcclxuICAgICAgICBmYWlsUGF0aCA9IG9yZGVydmVyc2lvbiA9PSAnMic/ICduZXdteWNqL2Ryb3BzaGlwcGluZy9vcmRlck1hbmFnZSc6J215Q0ouaHRtbCMvZHJvcHNoaXBwaW5nLW9yZGVycyc7XHJcbiAgICAgICAgc3VjY2Vzc1BhdGggPSBvcmRlcnZlcnNpb24gPT0gJzInPyAnbmV3bXljai9kcm9wc2hpcHBpbmcvb3JkZXJNYW5hZ2UnOidteUNKLmh0bWwjL2Ryb3AtcHJvY2UnO1xyXG4gICAgICAgIHBheW9uZWVyU3VjY2Vzc1BhdGggPSBvcmRlcnZlcnNpb24gPT0gJzInPyAnbmV3bXljai9kcm9wc2hpcHBpbmcvb3JkZXJNYW5hZ2UnOicjL2Ryb3BzaGlwcGluZy1vcmRlcnMnO1xyXG4gICAgICAgIHdlY2hhdFBheUNvZGUgPSA0NTtcclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgIC8v5pSv5LuY5pa55byP5YiX6KGoIC0tIOWIpOaWremhtemdouaYr+WQpuaYr+adpeiHqnByb2JsZW1QYWNrYWdlLCB0cnVl77ya6ZqQ6JeP5o6J6K+l5pSv5LuY5pa55byPIGZhbHNlOiDmraPluLjmmL7npLpcclxuICAgICAgJHNjb3BlLnBheVR5cGVMaXN0ID0gW1xyXG4gICAgICAgIHtpbWc6ICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy9wYXlwYWwucG5nJywgdHlwZTogJ3BheXBhbCcsbmFtZTonUGF5UGFsJyB9LFxyXG4gICAgICAgIHtpbWc6ICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy93aXJlLnBuZycsIHR5cGU6ICd3aXJlJyxuYW1lOidXaXJlIFRyYW5zZmVyJywgaXNIaWRlOiAkc2NvcGUucGF5VHlwZSA9PSAncHJvYmxlbVBhY2thZ2UnfSxcclxuICAgICAgICB7dGV4dDogJ1BheSBXaXRoIENhcmQnLCB0eXBlOiAnY2FyZCcsbmFtZTonUGF5IHdpdGggQ2FyZCcgfSxcclxuICAgICAgICB7dGV4dDogJ1BheSB3aXRoIENKIFdhbGxldCcsIHNob3dNb25leTogdHJ1ZSwgdHlwZTogJ2NyZWRpdCcsbmFtZTonUGF5IHdpdGggQ0ogV2FsbGV0JyB9LFxyXG4gICAgICAgIHtpbWc6ICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy9wYXlubmVyMS5wbmcnLCB0eXBlOiAncGF5bm5lcicsbmFtZTonUGF5b25lZXInIH0sXHJcbiAgICAgICAge2ltZzogJ3N0YXRpYy9pbWFnZS9wdWJsaWMtaW1nL3BheXNzaW9uLnBuZycsIHR5cGU6ICdwYXlzc2lvbicgLG5hbWU6J1BheXNzaW9uJ30sXHJcbiAgICAgICAgLy8ge2ltZzogJ3N0YXRpYy9pbWFnZS9wdWJsaWMtaW1nL21pZHRyYW5zLnBuZycsIHR5cGU6ICdtaWR0cmFucycsbmFtZTonTWlkdHJhbnMnIH0sXHJcbiAgICAgICAge2ltZzogJ3N0YXRpYy9pbWFnZS9wdWJsaWMtaW1nL3dlc3Rlcm4ucG5nJywgdHlwZTogJ3dlc3Rlcm4nLG5hbWU6J1dlc3Rlcm4gVW5pb24nLCBpc0hpZGU6ICRzY29wZS5wYXlUeXBlID09ICdwcm9ibGVtUGFja2FnZSd9LFxyXG4gICAgICAgIC8qIHtpbWc6ICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy93ZXN0ZXJuLnBuZycsIHR5cGU6ICdhbGlwYXknLG5hbWU6J1Zpc2EvTWFzdGVyY2FyZCcsIH0gKi9cclxuICAgICAgICAvLyB7dHlwZTogJ25ld0FsaXBheScsbmFtZTonQWxpcGF5IFRyYW5zZmVyJyB9LFxyXG4gICAgICAgIC8vIHt0eXBlOiAnd2VjaGF0JyxuYW1lOidXZWNoYXQgVHJhbnNmZXInIH0sXHJcbiAgICAgIF1cclxuICAgICAgaWYoJHNjb3BlLnBheVR5cGUgPT0gJ3Byb2JsZW1QYWNrYWdlJyl7XHJcbiAgICAgICAgJHNjb3BlLnBheVR5cGVMaXN0LmZvckVhY2goaXRlbT0+e1xyXG4gICAgICAgICAgaWYoaXRlbS50eXBlPT0nd2lyZSd8fGl0ZW0udHlwZT09J3dlc3Rlcm4nKSBpdGVtLmlzSGlkZSA9IHRydWU7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBvcmRlckZsYWcgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCduZXdwYXknKSB8fCAxOy8vMeiAgeS4muWKoSAgMuaWsOS4muWKoVxyXG4gICAgICAvLyBjb25zdCBpc0FsaVBheSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpc0FsaVBheScpID09ICcxJ1xyXG4gICAgICBjb25zdCBpc1dlY2hhdFBheSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpc1dlY2hhdFBheScpID09ICcxJ1xyXG4gICAgICAvLyBpZihpc0FsaVBheSkge1xyXG4gICAgICAvLyAgICRzY29wZS5wYXlUeXBlTGlzdC5wdXNoKHt0eXBlOiAnbmV3QWxpcGF5JyxuYW1lOidBbGlwYXknIH0pXHJcbiAgICAgIC8vIH1cclxuICAgICAgaWYoaXNXZWNoYXRQYXkpIHtcclxuICAgICAgICAkc2NvcGUucGF5VHlwZUxpc3QucHVzaCh7dHlwZTogJ3dlY2hhdCcsbmFtZTonV2VjaGF0IFBheScgfSlcclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgICRzY29wZS4kb24oXCIkZGVzdHJveVwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyDlhbPpl63pobXpnaLml7bopoHlgZrnmoTkuotcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCduZXdwYXknKVxyXG4gICAgICB9KVxyXG4gICAgICAvL+W4geenjeW8gOWFs1xyXG4gICAgICAkc2NvcGUuc3dpdGNoQ2hlY2sgPSBmYWxzZSAvLyBmYWxzZTrnvo7lhYPvvIx0cnVlOuasp+WFg1xyXG4gICAgICAvLyDmrKflhYPmlK/ku5jmj5DnpLrlvLnnqpdcclxuICAgICAgJHNjb3BlLmV1clBheVJlbWluZGVyTW9kYWwgPSB7XHJcbiAgICAgICAgaXNTaG93OiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5iYW5rSW5mb0RhdGEgPSB7fVxyXG4gICAgICBmdW5jdGlvbiBnZXRCYW5rSW5mb0RhdGEoKSB7XHJcbiAgICAgICAgbGF5ZXIubG9hZCgyKVxyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvd2FsbGV0L2dldEJhbmtJbmZvJywge30sIChyZXMpID0+IHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCk7XHJcbiAgICAgICAgICBjb25zdCBpbmZvRGF0YSA9IHJlcy5kYXRhXHJcbiAgICAgICAgICBjb25zdCB7d2VzdGVyblVuaW9uLCB3aXJlVHJhbnN9ID0gaW5mb0RhdGEuZGF0YVxyXG4gICAgICAgICAgJHNjb3BlLmJhbmtJbmZvRGF0YSA9IHtcclxuICAgICAgICAgICAgd2VzdGVyblVuaW9uOiB7XHJcbiAgICAgICAgICAgICAgZXVyOiB3ZXN0ZXJuVW5pb24uRVVSLnNwbGl0KCclJyksXHJcbiAgICAgICAgICAgICAgdXNkOiB3ZXN0ZXJuVW5pb24uVVNELnNwbGl0KCclJyksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHdpcmVUcmFuczoge1xyXG4gICAgICAgICAgICAgIGV1cjogd2lyZVRyYW5zLkVVUi5zcGxpdCgnJScpLFxyXG4gICAgICAgICAgICAgIHVzZDogd2lyZVRyYW5zLlVTRC5zcGxpdCgnJScpLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBnZXRCYW5rSW5mb0RhdGEoKVxyXG4gICAgICAvL+mTtuihjOi9rOi0plxyXG4gICAgICAkc2NvcGUudHJhbnNmZXJPYmogPSB7XHJcbiAgICAgICAgaXNTaG93OiBmYWxzZSwgLy/mmK/lkKbmmL7npLpcclxuICAgICAgICB1bml0OiAnVVNEJywgLy/ph5Hpop3ljZXkvY1cclxuICAgICAgICBhbW91bnQ6ICcnLCAvL+i9rOi0pumHkeminVxyXG4gICAgICAgIG1lc3NhZ2U6ICcnLCAvL+i9rOi0puS/oeaBr1xyXG4gICAgICAgIGlzU2hvd1N1Y2M6IGZhbHNlLCAvL+aIkOWKn+aPkOmGklxyXG4gICAgICAgIHByaWNlOiAkc2NvcGUub3JkbW9uZXksXHJcbiAgICAgICAgc2hvd1ByaWNlOiAkc2NvcGUub3JkbW9uZXlcclxuICAgICAgfVxyXG4gICAgICAvL+ilv+iBlOmTtuihjFxyXG4gICAgICAkc2NvcGUudHJhbnNmZXJYTE9iaiA9IHtcclxuICAgICAgICBpc1Nob3c6IGZhbHNlLCAvL+aYr+WQpuaYvuekulxyXG4gICAgICAgIHVuaXQ6ICdVU0QnLCAvL+mHkemineWNleS9jVxyXG4gICAgICAgIGFtb3VudDogJycsIC8v6L2s6LSm6YeR6aKdXHJcbiAgICAgICAgbWVzc2FnZTogJycsIC8v6L2s6LSm5L+h5oGvXHJcbiAgICAgICAgaXNTaG93U3VjYzogZmFsc2UsIC8v5oiQ5Yqf5o+Q6YaSXHJcbiAgICAgICAgcHJpY2U6ICRzY29wZS5vcmRtb25leSxcclxuICAgICAgICBzaG93UHJpY2U6ICRzY29wZS5vcmRtb25leVxyXG4gICAgICB9XHJcbiAgICAgIC8vcGF5cGFs5pSv5LuYXHJcbiAgICAgICRzY29wZS5wYXlwYWxPYmogPSB7XHJcbiAgICAgICAgdXJsOiAnJyxcclxuICAgICAgICBzaG93RXJyb3I6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yTXNnOiAnJ1xyXG4gICAgICB9XHJcbiAgICAgIC8vcGF5IHdpdGggQ2FyZFxyXG4gICAgICAkc2NvcGUud2lkdGhDYXJkT2JqID0ge1xyXG4gICAgICAgIGlzR2V0OiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICAgIC8v5L2Z6aKd5pSv5LuYIHN0b3JlIENyZWRpdFxyXG4gICAgICAkc2NvcGUuc3RvcmVDcmVkaXRPYmogPSB7XHJcbiAgICAgICAgaXNTaG93OiBmYWxzZSxcclxuICAgICAgICBiYWxhbmNlOiAnJy8v5b2T5YmN5L2Z6aKdXHJcbiAgICAgIH1cclxuICAgICAgLy9wYXlzc2lvbuaUr+S7mFxyXG4gICAgICAkc2NvcGUucGF5c3Npb25PYmogPSB7XHJcbiAgICAgICAgaXNTaG93OiBmYWxzZSxcclxuICAgICAgICBjb3VudHJ5OiB7fSxcclxuICAgICAgICBzaG93TGlzdDogZmFsc2UsXHJcbiAgICAgICAgcGF5TWV0aG9kOiAnJyxcclxuICAgICAgICBzZWFyY2g6ICcnLFxyXG4gICAgICAgIG1ldGhvZHM6IFtdXHJcbiAgICAgIH1cclxuICAgICAgLy9hbGlwYXnmlK/ku5hcclxuICAgICAgJHNjb3BlLmFsaXBheU9iaiA9IHtcclxuICAgICAgICBpc1Nob3c6IGZhbHNlLFxyXG4gICAgICAgIGlkOicnLFxyXG4gICAgICAgIHRva2VuOicnXHJcbiAgICAgIH1cclxuICAgICAgLy8g5pSv5LuY5a6d5pSv5LuYXHJcbiAgICAgICRzY29wZS5uZXdBbGlwYXlPYmogPSB7XHJcbiAgICAgICAgaXNTaG93OiBmYWxzZSwgLy/mmK/lkKbmmL7npLpcclxuICAgICAgICB1bml0OiAnVVNEJywgLy/ph5Hpop3ljZXkvY1cclxuICAgICAgICBhbW91bnQ6ICcnLCAvL+i9rOi0pumHkeminVxyXG4gICAgICAgIG1lc3NhZ2U6ICcnLCAvL+i9rOi0puS/oeaBr1xyXG4gICAgICAgIGlzU2hvd1N1Y2M6IGZhbHNlLCAvL+aIkOWKn+aPkOmGklxyXG4gICAgICAgIHNob3dBbW91bnQ6ICRzY29wZS5vcmRtb25leSxcclxuICAgICAgICBwYXlDb2RlOiB3ZWNoYXRQYXlDb2RlLFxyXG4gICAgICB9XHJcbiAgICAgIC8vIOW+ruS/oeaUr+S7mFxyXG4gICAgICAkc2NvcGUud2VjaGF0T2JqID0ge1xyXG4gICAgICAgIGlzU2hvdzogZmFsc2UsIC8v5piv5ZCm5pi+56S6XHJcbiAgICAgICAgdW5pdDogJ1VTRCcsIC8v6YeR6aKd5Y2V5L2NXHJcbiAgICAgICAgYW1vdW50OiAnJywgLy/ovazotKbph5Hpop1cclxuICAgICAgICBtZXNzYWdlOiAnJywgLy/ovazotKbkv6Hmga9cclxuICAgICAgICBpc1Nob3dTdWNjOiBmYWxzZSwgLy/miJDlip/mj5DphpJcclxuICAgICAgICBzaG93QW1vdW50OiAkc2NvcGUub3JkbW9uZXksXHJcbiAgICAgICAgcGF5Q29kZTogd2VjaGF0UGF5Q29kZVxyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5vdmVyVGltZSA9IGZhbHNlIC8vIOW+ruS/oeaUr+S7mOi2heaXtueKtuaAgVxyXG4gICAgICAkc2NvcGUucGF5U3RhdHVzID0gMCAvLyDlvq7kv6HorqLljZXmlK/ku5jnirbmgIEgMTrmlK/ku5jkuK0gMjrmlK/ku5jlpLHotKUgMzrmlK/ku5jmiJDlip9cclxuICAgICAgJHNjb3BlLmFjY2VwdExpc3QgPSBbJ3Zpc2EuanBnJywnbWFzdGVyLnBuZycsJ2Ftby5wbmcnLCdKQ0IucG5nJywnZGlzY292ZXIucG5nJywnd2lyZS5wbmcnLCdzdHJpcGUucG5nJywncGF5cGFsLnBuZycsJ3BheW5uZXIxLnBuZycsJ3BheXNzaW9uLnBuZycsJ3dlc3Rlcm4ucG5nJ107XHJcbiAgICAgIGxldCBtaWR0cmFuc0FwcGVuZEpTPSgpPT4ge1xyXG4gICAgICAgIGxldCBvc3JjID0gJyc7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5lbnZpcm9ubWVudCA9PSAndGVzdCcgfHwgd2luZG93LmVudmlyb25tZW50ID09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgICAgICAgIG9zcmMgPSAnaHR0cHM6Ly9hcHAuc2FuZGJveC5taWR0cmFucy5jb20vc25hcC9zbmFwLmpzJ1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBvc3JjID0gJ2h0dHBzOi8vYXBwLm1pZHRyYW5zLmNvbS9zbmFwL3NuYXAuanMnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuICAgICAgICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xyXG4gICAgICAgIHNjcmlwdC5zcmMgPSBvc3JjO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuICAgICAgfVxyXG4gICAgICBtaWR0cmFuc0FwcGVuZEpTKCk7XHJcbiAgICAgIC8v6I635Y+W5L2Z6aKdXHJcbiAgICAgIGxldCBnZXRZZU1vbmV5PSgpPT4ge1xyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvd2FsbGV0L2dldEJhbGFuY2UnLCAne30nLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgJHNjb3BlLnN0b3JlQ3JlZGl0T2JqLmJhbGFuY2UgPSBkYXRhLmRhdGEuYmFsYW5jZTtcclxuICAgICAgICB9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgZ2V0WWVNb25leSgpO1xyXG5cclxuICAgICAgLy/ov5Tlm57kuovku7ZcclxuICAgICAgJHNjb3BlLmdvQmFjayA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBjYW5jZWxVcmwgPSAhbm9OZXdPcmRlckxpc3QuaW5jbHVkZXMob3JkVHlwZSkgPyBmcm9tUGF0aCA6IGBteUNKLmh0bWwke2Zyb21QYXRofWBcclxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gY2FuY2VsVXJsO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ25ld3BheScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL3BheXBhbOS4jeWPr+aUr+S7mOiuouWNleeahOehruWumuaMiemSrlxyXG4gICAgICAkc2NvcGUubGlua0Z1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBjYW5jZWxVcmwgPSAhbm9OZXdPcmRlckxpc3QuaW5jbHVkZXMob3JkVHlwZSkgPyBmcm9tUGF0aCA6IGBteUNKLmh0bWwke2Zyb21QYXRofWBcclxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gIGNhbmNlbFVybDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIOi3s+WbnummlumhteeahOehruWumuaMiemSrlxyXG4gICAgICAkc2NvcGUuYmFja1BhZ2VGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9ICBsb2NhdGlvbi5vcmlnaW47XHJcbiAgICAgIH07XHJcbiAgICAgXHJcbiAgICAgIC8vIOaYr+WQpuWPr+S9v+eUqFBheVBhbOaUr+S7mFxyXG4gICAgICAoZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgY29uc3QgcGFybWFzID0ge1xyXG4gICAgICAgICAgJ3NoaXBJZCc6ICRzY29wZS5vcmRudW1iZXJcclxuICAgICAgICB9XHJcbiAgICAgICAgbGF5ZXIubG9hZCgyKVxyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdjai9mYmFPcmRlci9nZXRIb21lVHlwZScsIHBhcm1hcywgKHtkYXRhfSkgPT57XHJcbiAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpXHJcbiAgICAgICAgICBpZiAoZGF0YS5zdGF0dXNDb2RlID09PSAnMjAwJyl7XHJcbiAgICAgICAgICAgICRzY29wZS5pc05vUGF5UGFsID0gZGF0YS5yZXN1bHQgPT09ICcwJyB8fCBkYXRhLnJlc3VsdCA9PT0gJzInOyAvLyDmmK/lkKblj69QYXlQYWzmlK/ku5hcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCBlcnIgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KVxyXG4gICAgICB9KCkpXHJcblxyXG4gICAgICAvL+ivt+axgnBheXBlbOeahOaUr+S7mOmTvuaOpVxyXG4gICAgICBsZXQgcGF5cGFsRnVuPSgpPT4ge1xyXG4gICAgICAgIGNvbnN0IG9yZGVydmVyc2lvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcmRlcnZlcnNpb24nKSA/PyAnMic7XHJcbiAgICAgICAgY29uc3QgcmV0dXJuVXJsID0gIHN1Y2Nlc3NQYXRoXHJcbiAgICAgICAgY29uc3QgY2FuY2VsVXJsID0gb3JkZXJ2ZXJzaW9uID09PSAnMicgPyBmcm9tUGF0aCA6IGBteUNKLmh0bWwke2Zyb21QYXRofWBcclxuICAgICAgICBsZXQgcGF5RGF0YSA9IHtcclxuICAgICAgICAgIG9yZGVyTnVtOiAkc2NvcGUub3JkbnVtYmVyLFxyXG4gICAgICAgICAgcHJpY2U6ICRzY29wZS5vcmRtb25leSxcclxuICAgICAgICAgIHR5cGU6ICRzY29wZS5wYXlUeXBlICsgJyxwYXllZXp5JyxcclxuICAgICAgICAgIG90eXBlOiBvcmRUeXBlID09ICdmYmEnID8gJzInIDogJycsXHJcbiAgICAgICAgICBsb2NQcm9kdWN0SWQ6ICRzY29wZS5sb2NQcm9kdWN0SWQsXHJcbiAgICAgICAgICBwYXlmbGFnOiAkc2NvcGUucGF5ZmxhZyxcclxuICAgICAgICAgIG9yZGVyRmxhZyxcclxuICAgICAgICAgIHJldHVyblVybDogYCR7bG9jYXRpb24ub3JpZ2lufS8ke3JldHVyblVybH1gLFxyXG4gICAgICAgICAgY2FuY2VsVXJsOiBgJHtsb2NhdGlvbi5vcmlnaW59LyR7Y2FuY2VsVXJsfWBcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5wYXlwYWxPYmoudXJsID0gJyc7XHJcbiAgICAgICAgbGF5ZXIubG9hZCgyKTtcclxuICAgICAgICBkc3AucG9zdEZ1bignYXBwL3BheS9nZXRQYXlVcmwnLCBKU09OLnN0cmluZ2lmeShwYXlEYXRhKSwgKGRhdGEpID0+IHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKFwibG9hZGluZ1wiKTtcclxuICAgICAgICAgIGxldCBvbGlzdCA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgIG9saXN0LmZpbHRlcihpdGVtID0+IHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PSAkc2NvcGUucGF5VHlwZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5wYXlwYWxPYmoudXJsID0gaXRlbS5ocmVmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgaWYgKCRzY29wZS5wYXlwYWxPYmoudXJsLmluZGV4T2YoJ2h0dHBzJykgPCAwKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5wYXlwYWxPYmouc2hvd0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgJHNjb3BlLnBheXBhbE9iai5lcnJvck1zZyA9ICdPb3BzLCBUaGVyZSBpcyBzb21ldGhpbmcgd3Jvbmcgd2l0aCB0aGlzIG9yZGVyLCBwYXltZW50IGZhaWxlZC4gUGxlYXNlIGNvbnRhY3QgeW91ciBhZ2VudC4nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g5re75YqgU3RyaXBlLmpzXHJcbiAgICAgIGxldCBwYXlDYXJkQXBwZW5kSlMgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XHJcbiAgICAgICAgc2NyaXB0LnNyYyA9ICdodHRwczovL2pzLnN0cmlwZS5jb20vdjMvJztcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiAgICAgIH1cclxuICAgICAgcGF5Q2FyZEFwcGVuZEpTKCk7XHJcbiAgICAgIC8qIOmTtuihjOi9rOi0piznur/kuIvmlK/ku5jvvIzkuIrkvKDotKbljZVcclxuICAgICAgICogdHlwZe+8mjEt5pmu6YCa6L2s6LSm77ybMi3opb/ogZTpk7booYzovazotKZcclxuICAgICAgICovXHJcbiAgICAgICRzY29wZS50cmFuc2ZlckNvbmZpcm1GdW4gPSAodHlwZSkgPT4ge1xyXG4gICAgICAgIGxldCBwYXlEYXRhID0ge1xyXG4gICAgICAgICAgdW5pdDogdHlwZSA9PSAxID8gJHNjb3BlLnRyYW5zZmVyT2JqLnVuaXQgOiAkc2NvcGUudHJhbnNmZXJYTE9iai51bml0LFxyXG4gICAgICAgICAgdHByaWNlOiB0eXBlID09IDEgPyAkc2NvcGUudHJhbnNmZXJPYmouYW1vdW50IDogJHNjb3BlLnRyYW5zZmVyWExPYmouYW1vdW50LFxyXG4gICAgICAgICAgbWVzc2FnZTogdHlwZSA9PSAxID8gJHNjb3BlLnRyYW5zZmVyT2JqLm1lc3NhZ2UgOiAkc2NvcGUudHJhbnNmZXJYTE9iai5tZXNzYWdlLFxyXG4gICAgICAgICAgcHJpY2U6IHR5cGUgPT0gMSA/ICRzY29wZS50cmFuc2Zlck9iai5wcmljZSA6ICRzY29wZS50cmFuc2ZlclhMT2JqLnByaWNlLFxyXG4gICAgICAgICAgb3JkZXJOdW06ICRzY29wZS5vcmRudW1iZXIsXHJcbiAgICAgICAgICBzaG93UHJpY2U6IHR5cGUgPT0gMSA/ICRzY29wZS50cmFuc2Zlck9iai5zaG93UHJpY2UgOiAkc2NvcGUudHJhbnNmZXJYTE9iai5zaG93UHJpY2UsXHJcbiAgICAgICAgICBvcmRlck51bTogJHNjb3BlLm9yZG51bWJlcixcclxuICAgICAgICAgIGNvZGU6ICRzY29wZS5wYXlDb2RlLFxyXG4gICAgICAgICAgdHlwZTogJHNjb3BlLnBheVR5cGUsXHJcbiAgICAgICAgICBpbWc6ICRzY29wZS5pbWdBcnIgKyAnJyxcclxuICAgICAgICAgIGJ1eTogJHNjb3BlLmJ1eSxcclxuICAgICAgICAgIG90eXBlOiAob3JkVHlwZSA9PSAnZmJhJykgPyAnMicgOiAnJyxcclxuICAgICAgICAgIG9yZGVyVHlwZTogJHNjb3BlLm9yZGVyVHlwZSA/ICRzY29wZS5vcmRlclR5cGUgOiAnJyxcclxuICAgICAgICAgIG9yZGVyRmxhZyxcclxuICAgICAgICAgIGF3YzogZHNwLmdldENvb2tpZShcImF3Y1wiKSB8fCAnJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHBheURhdGEudHByaWNlIDwgMCB8fCAhcGF5RGF0YS50cHJpY2UgfHwgcGF5RGF0YS50cHJpY2UgPCBwYXlEYXRhLnNob3dQcmljZSkge1xyXG4gICAgICAgICAgbGF5ZXIubXNnKCdUaGUgYW1vdW50IGVudGVyZWQgaXMgbGVzcyB0aGFuIHRoZSBvcmRlciBhbW91bnQuJyk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIChwYXlEYXRhLnRwcmljZSA8IDAgfHwgIXBheURhdGEudHByaWNlKSB7XHJcbiAgICAgICAgLy8gICBsYXllci5tc2coJ1RoZSBhbW91bnQgZW50ZXJlZCBpcyBsZXNzIHRoYW4gdGhlIG9yZGVyIGFtb3VudC4nKTtcclxuICAgICAgICAvLyAgIHJldHVybjtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gaWYgKCRzY29wZS5zd2l0Y2hDaGVjaykgeyAvLyDmrKflhYPmlK/ku5jnmoTml7blgJnvvIzovpPlhaXph5Hpop3opoHlnKjluYXluqblgLzCsTLmrKflhYNcclxuICAgICAgICAvLyAgIGlmIChwYXlEYXRhLnRwcmljZSAtIHBheURhdGEuc2hvd1ByaWNlID4gMiB8fCBwYXlEYXRhLnRwcmljZSAtIHBheURhdGEuc2hvd1ByaWNlIDwgLTIpIHtcclxuICAgICAgICAvLyAgICAgbGF5ZXIubXNnKCdQbGVhc2UgZW50ZXIgdGhlIHZhbGlkIGFtb3VudCEnKTtcclxuICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vICAgfVxyXG4gICAgICAgIC8vIH0gZWxzZSBpZiAocGF5RGF0YS50cHJpY2UgPCBwYXlEYXRhLnNob3dQcmljZSkge1xyXG4gICAgICAgIC8vICAgbGF5ZXIubXNnKCdUaGUgYW1vdW50IGVudGVyZWQgaXMgbGVzcyB0aGFuIHRoZSBvcmRlciBhbW91bnQuJyk7XHJcbiAgICAgICAgLy8gICByZXR1cm47XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8v5Yik5pat5piv5ZCm5pyJ5LiK5Lyg5Zu+54mHXHJcbiAgICAgICAgaWYgKCRzY29wZS5pc2ltZ2ZsYWcgPT0gZmFsc2UpIHtcclxuICAgICAgICAgIGxheWVyLm1zZygnUGxlYXNlIHVwbG9hZCB0cmFuc2ZlciBzbGlwIScpXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS50cmFuc2Zlck9iai5pc1Nob3cgPSBmYWxzZTsgLy/pmpDol4/lvZPliY3ovazotKblh63or4HlvLnmoYZcclxuICAgICAgICAkc2NvcGUudHJhbnNmZXJYTE9iai5pc1Nob3cgPSBmYWxzZTsgLy/pmpDol4/lvZPliY3ovazotKblh63or4HlvLnmoYZcclxuXHJcbiAgICAgICAgaWYodHlwZSA9PSAxKSBwYXlEYXRhLnBheW1lbnRNZXRob2QgPSAwIC8vIHdpcmUgdHJhbnNmZXJcclxuICAgICAgICBpZih0eXBlID09IDIpIHBheURhdGEucGF5bWVudE1ldGhvZCA9IDEgLy8gd2VzdGVybiB1bmlvblxyXG5cclxuICAgICAgICBsYXllci5sb2FkKDIpXHJcbiAgICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9wYXkvcGF5JywgSlNPTi5zdHJpbmdpZnkocGF5RGF0YSksIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgICAgaWYgKGRhdGEuZGF0YS5yZXN1bHQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBhd2luSlMoKTtcclxuICAgICAgICAgICAgaW1nSHR0cEZ1bigpO1xyXG4gICAgICAgICAgICBsYXllci5tc2coJ1BheW1lbnQgU3VjY2VlZCcpXHJcbiAgICAgICAgICAgICRzY29wZS5pbWdBcnIgPSBbXTtcclxuICAgICAgICAgICAgdHlwZSA9PSAxID8gJHNjb3BlLnRyYW5zZmVyT2JqLmlzU2hvd1N1Y2MgPSB0cnVlIDogJHNjb3BlLnRyYW5zZmVyWExPYmouaXNTaG93U3VjYyA9IHRydWU7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsYXllci5tc2coJ1BheW1lbnQgRmFpbHVyZScpXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbFVybCA9ICFub05ld09yZGVyTGlzdC5pbmNsdWRlcyhvcmRUeXBlKSA/IGZyb21QYXRoIDogYG15Q0ouaHRtbCR7ZnJvbVBhdGh9YFxyXG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gIGNhbmNlbFVybDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoJ2xvYWRpbmcnKTtcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvKiDluIHnp43liIfmjaJcclxuICAgICAgICogdHlwZToxLeaZrumAmui9rOi0pu+8mzIt6KW/6IGU6ZO26KGM6L2s6LSmXHJcbiAgICAgICAqL1xyXG4gICAgICAkc2NvcGUudHJhbnNmZXJVbml0Q2hhbmdlID0gKHR5cGUpID0+IHtcclxuICAgICAgICBsZXQgb3VuaXQgPSB0eXBlID09IDEgPyAkc2NvcGUudHJhbnNmZXJPYmoudW5pdCA6ICRzY29wZS50cmFuc2ZlclhMT2JqLnVuaXQ7XHJcbiAgICAgICAgbGV0IGFtb3VudCA9ICRzY29wZS5vcmRtb25leTtcclxuICAgICAgICBpZiAob3VuaXQgIT0gJ1VTRCcpIHtcclxuICAgICAgICAgIGxheWVyLmxvYWQoMik7XHJcbiAgICAgICAgICBkc3AucG9zdEZ1bignY2ovaG9tZVBhZ2UvZXhjaGFuZ2VSYXRlJywge1xyXG4gICAgICAgICAgICB0b0NvZGU6IHR5cGUgPT0gMSA/ICRzY29wZS50cmFuc2Zlck9iai51bml0IDogJHNjb3BlLnRyYW5zZmVyWExPYmoudW5pdFxyXG4gICAgICAgICAgfSwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PSAnMjAwJykge1xyXG4gICAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCk7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmV4Y2hhbmdlUmF0ZSA9IHJlcy5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICBhbW91bnQgPSAoJHNjb3BlLm9yZG1vbmV5ICogJHNjb3BlLmV4Y2hhbmdlUmF0ZSkudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgICB0eXBlID09IDEgPyAkc2NvcGUudHJhbnNmZXJPYmoucHJpY2UgPSBhbW91bnQgOiAkc2NvcGUudHJhbnNmZXJYTE9iai5wcmljZSA9IGFtb3VudDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+iOt+WPluaxh+eOh+Wksei0pScsIHJlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJnZXQgZXJyb3JcIilcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0eXBlID09IDEgPyAkc2NvcGUudHJhbnNmZXJPYmoucHJpY2UgPSBhbW91bnQgOiAkc2NvcGUudHJhbnNmZXJYTE9iai5wcmljZSA9IGFtb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy/ovazotKbnmoTlj5bmtojmjInpkq5cclxuICAgICAgJHNjb3BlLnRyYW5zZmVyU3VjY05vRnVuID0gKCkgPT4ge1xyXG4gICAgICAgICRzY29wZS50cmFuc2Zlck9iai5pc1Nob3dTdWNjID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLnRyYW5zZmVyWExPYmouaXNTaG93U3VjYyA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IGNhbmNlbFVybCA9ICFub05ld09yZGVyTGlzdC5pbmNsdWRlcyhvcmRUeXBlKSA/IGZyb21QYXRoIDogYG15Q0ouaHRtbCR7ZnJvbVBhdGh9YFxyXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSAgY2FuY2VsVXJsO1xyXG4gICAgICB9XHJcbiAgICAgIC8v6L2s6LSm5oiQ5Yqf5ZCO55qE5Y675YWF5YC85oyJ6ZKuXHJcbiAgICAgICRzY29wZS50cmFuc2ZlckNoYXJnZUZ1biA9ICgpID0+IHtcclxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gXCIjL215Q0pXYWxsZXRcIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy/kuIrkvKDovazotKbmlK/ku5jlh63or4HnmoTlm77niYdcclxuICAgICAgJHNjb3BlLmlzcGhvdG8gPSBmYWxzZTsgLy/liKTmlq3lpoLmnpzkuI3mmK/lm77niYfnmoTlvLnmoYZcclxuICAgICAgJHNjb3BlLmlzaW1nZmxhZyA9IGZhbHNlOyAvL+WIpOaWreaYr+WQpuS4iuS8oOWbvueJh1xyXG4gICAgICAkc2NvcGUudXBMb2FkSW1nNCA9IGZ1bmN0aW9uIChmaWxlcykge1xyXG4gICAgICAgICRzY29wZS5pbWdBcnJUeXBlID0gW107XHJcbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBkYXRhLmFwcGVuZCgnZmlsZScsIGZpbGVzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGF5ZXIubG9hZCgyKVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjb24obikge1xyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcbiAgICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShuLmRhdGEucmVzdWx0KVxyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHNyY0xpc3QgPSBvYmpbaV0uc3BsaXQoJy4nKTtcclxuICAgICAgICAgICAgJHNjb3BlLmltZ0FyclR5cGUucHVzaChzcmNMaXN0W3NyY0xpc3QubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8ICRzY29wZS5pbWdBcnJUeXBlLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5pbWdBcnJUeXBlW2tdID09ICdwbmcnIHx8ICRzY29wZS5pbWdBcnJUeXBlW2tdID09ICdqcGcnIHx8ICRzY29wZS5pbWdBcnJUeXBlW2tdID09ICdqcGVnJyB8fCAkc2NvcGUuaW1nQXJyVHlwZVtrXSA9PSAnZ2lmJyB8fCAkc2NvcGUuaW1nQXJyVHlwZVtrXSA9PSAncGRmJykge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmltZ0FyciA9IG9iajtcclxuICAgICAgICAgICAgICAgICRzY29wZS5oZWFkaW1nID0gJ2h0dHBzOi8vJyArIG9ialswXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pc2ltZ2ZsYWcgPSB0cnVlOyAvL+WIpOaWreaYr+WQpuS4iuS8oOWbvueJh1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNwaG90byA9IHRydWU7IC8v5Yik5pat5aaC5p6c5LiN5piv5Zu+54mH55qE5by55qGGICDmmL7npLpcclxuICAgICAgICAgICAgICAgICRzY29wZS5pc2ltZ2ZsYWcgPSBmYWxzZTsgLy/liKTmlq3mmK/lkKbkuIrkvKDlm77niYdcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGVycihuKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhuKVxyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRzcC51cExvYWRJbWdQb3N0KCdhcHAvYWpheC91cGxvYWQnLCBkYXRhLCBjb24sIGVycilcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaW1nSHR0cEZ1bigpe1xyXG4gICAgICAgIGxldCBhd2NUZXh0ID0gZHNwLmdldENvb2tpZSgnYXdjJylcclxuICAgICAgICBsZXQgdXRtU291cmNlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3V0bVNvdXJjZScpO1xyXG4gICAgICAgIGlmKGF3Y1RleHQgJiYgdXRtU291cmNlID09ICdhd2luJyl7Ly/mnIlhd2lu55qEYXdj5YC8IOW5tuS4lOeZu+W9leW5s+WPsOadpea6kOaYr2F3aW5cclxuICAgICAgICAgIGxldCBvcmRlckNvdW50TW9uZXkgPSAkc2NvcGUub3JkbW9uZXkudG9GaXhlZCgyKVxyXG4gICAgICAgICAgbGV0IEJhc2tldEltYWdlID0gbmV3IEltYWdlKDEsMSk7XHJcbiAgICAgICAgICBCYXNrZXRJbWFnZS5zcmMgPSBgaHR0cHM6Ly93d3cuYXdpbjEuY29tL3NyZWFkLmltZz90dD1ucyZ0dj0yJm1lcmNoYW50PTIxNTc4JmFtb3VudD0ke29yZGVyQ291bnRNb25leX0mY2g9YXcmcGFydHM9REVGQVVMVDoke29yZGVyQ291bnRNb25leX0mY3I9VVNEJnJlZj0keyRzY29wZS5vcmRudW1iZXJ9JnRlc21vZGU9JHthd2luVGVzTW9kZX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvL+aYr+WQpueUqOS9memineaUr+S7mFxyXG4gICAgICAkc2NvcGUuYWdyZWVQYXlGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHNjb3BlLnN0b3JlQ3JlZGl0T2JqLmlzU2hvdyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBwYXlEYXRhID0ge1xyXG4gICAgICAgICAgb3JkZXJOdW06ICRzY29wZS5vcmRudW1iZXIsXHJcbiAgICAgICAgICBwcmljZTogJHNjb3BlLm9yZG1vbmV5LFxyXG4gICAgICAgICAgY29kZTogJHNjb3BlLnBheVdhbGxldENvZGUsXHJcbiAgICAgICAgICB0eXBlOiAkc2NvcGUucGF5VHlwZSxcclxuICAgICAgICAgIGJ1eTogJHNjb3BlLmJ1eSxcclxuICAgICAgICAgIG90eXBlOiBvcmRUeXBlID09ICdmYmEnID8gJzInIDogJycsXHJcbiAgICAgICAgICBvcmRlckZsYWcsXHJcbiAgICAgICAgICBhd2M6IGRzcC5nZXRDb29raWUoXCJhd2NcIikgfHwgJydcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICgkc2NvcGUuc3RvcmVDcmVkaXRPYmouYmFsYW5jZSA8ICRzY29wZS5vcmRtb25leSkge1xyXG4gICAgICAgICAgbGF5ZXIubXNnKCdMYWNrIG9mIGJhbGFuY2UuJyk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxheWVyLmxvYWQoMik7XHJcbiAgICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9wYXkvcGF5JywgSlNPTi5zdHJpbmdpZnkocGF5RGF0YSksIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgICAgaWYgKGRhdGEuZGF0YS5yZXN1bHQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpbWdIdHRwRnVuKClcclxuICAgICAgICAgICAgLy8gbG9jYXRpb24uaHJlZiA9IHN1Y2Nlc3NQYXRoO1xyXG4gICAgICAgICAgICBhd2luSlMoc3VjY2Vzc1BhdGgpO1xyXG4gICAgICAgICAgICBsYXllci5tc2coJ1BheW1lbnQgU3VjY2VlZCcpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGF5ZXIubXNnKCdQYXltZW50IEZhaWx1cmUnKTtcclxuICAgICAgICAgICAgY29uc3QgY2FuY2VsVXJsID0gIW5vTmV3T3JkZXJMaXN0LmluY2x1ZGVzKG9yZFR5cGUpID8gZnJvbVBhdGggOiBgbXlDSi5odG1sJHtmcm9tUGF0aH1gXHJcbiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAgY2FuY2VsVXJsO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaUr+S7mOWksei0pVwiKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKlxyXG4gICAgICAgKiBwYXlvbmVlciDmlK/ku5hcclxuICAgICAgICogKi9cclxuXHJcbiAgICAgICRzY29wZS5pc0F1dGhvcml6ZSA9IG51bGw7IC8vICAxIOmAieaLqei0puaItyAyIOacquaOiOadg+eZu+W9leazqOWGjCAzIOW3suaOiOadg+S7mOasvlxyXG4gICAgICAkc2NvcGUuaXNTaG93UGF5bm5lckRpYSA9IGZhbHNlOyAvLyDmmK/lkKbmiZPlvIDlvLnnqpdcclxuICAgICAgJHNjb3BlLmlzR2V0Q29kZSA9IGZhbHNlOyAvLyDmmK/lkKblho3mrKHojrflj5bpqozor4HnoIFcclxuICAgICAgJHNjb3BlLm51bSA9IDYwOyAvLyDojrflj5bpqozor4HnoIHlgJLorqHml7ZcclxuICAgICAgJHNjb3BlLmN1cnJlbmN5VHlwZSA9IG51bGw7IC8vIOi0puaIt+exu+WeiyAgMCDnvo7lhYMgMSDmrKflhYNcclxuXHJcbiAgICAgIC8v5piv5ZCm5o6I5p2DXHJcbiAgICAgIGxldCBpc0F1dGg9KCk9PiB7XHJcbiAgICAgICAgbGV0IHBhcm1zID0ge1xyXG4gICAgICAgICAgY3VycmVuY3lUeXBlOiAkc2NvcGUuY3VycmVuY3lUeXBlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxheWVyLmxvYWQoMilcclxuICAgICAgICBkc3AucG9zdEZ1bignY2ovcGF5b25lZXIvaXNBdXRoJywgcGFybXMsIChyZXMpID0+IHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PSAnMjAwJykge1xyXG4gICAgICAgICAgICAkc2NvcGUuaXNTaG93UGF5bm5lckRpYSA9IHRydWU7XHJcbiAgICAgICAgICAgICRzY29wZS5pc0F1dGhvcml6ZSA9IHJlcy5kYXRhLnJlc3VsdC5pc0F1dGggPyAzIDogMjtcclxuICAgICAgICAgICAgJHNjb3BlLnBheW9uZWVyRW1haWwgPSByZXMuZGF0YS5yZXN1bHQuZW1haWw7XHJcbiAgICAgICAgICAgICRzY29wZS5yYXRlID0gcmVzLmRhdGEucmVzdWx0LnJhdGU7XHJcbiAgICAgICAgICAgICRzY29wZS5wYXlBbW91bnQgPSAkc2NvcGUuY3VycmVuY3lUeXBlID09PSAwID8gJ1BheSBVUyQnICsgKCRzY29wZS5vcmRtb25leSAqICRzY29wZS5yYXRlKS50b0ZpeGVkKDIpIDogJ1BheSBFVVLigqwnICsgKCRzY29wZS5vcmRtb25leSAqICRzY29wZS5yYXRlKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICAvL+a0vuWuieebiOaUr+S7mFxyXG4gICAgICAkc2NvcGUucGF5b25lZXJQYXkgPSAoKSA9PiB7XHJcbiAgICAgICAgJHNjb3BlLmlzU2hvd1BheW5uZXJEaWEgPSB0cnVlO1xyXG4gICAgICAgICRzY29wZS5pc0F1dGhvcml6ZSA9IDE7XHJcbiAgICAgICAgJHNjb3BlLmN1cnJlbmN5VHlwZSA9IG51bGw7XHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyRW1haWwgPSAnJztcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIOa0vuWuieebiOaUr+S7mC3mlrAgLS3nlKjmiLfmraPluLjngrnlh7vmtYHnqItcclxuICAgICAgLy8g6I635Y+W5qyn5YWD5rGH546HXHJcbiAgICAgIGZ1bmN0aW9uIGdldEV1clJhdGUoKSB7XHJcbiAgICAgICAgbGF5ZXIubG9hZCgyKVxyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdjai9ob21lUGFnZS9leGNoYW5nZVJhdGUnLCB7IHRvQ29kZTogJ0VVUicgfSwgcmVzID0+IHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCk7XHJcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IHsgcmVzdWx0IH0gfSA9IHJlcztcclxuICAgICAgICAgIGlmICghcmVzdWx0KSByZXR1cm47XHJcbiAgICAgICAgICAkc2NvcGUucGF5b25lZXJFdXJSYXRlID0gcmVzdWx0KjE7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICAvLyDpooTlhYjojrflj5bmrKflhYPmsYfnjodcclxuICAgICAgZ2V0RXVyUmF0ZSgpO1xyXG4gICAgICAkc2NvcGUucGF5b25lZXJEYXRhID0ge1xyXG4gICAgICAgIGF1dGhVcmw6ICcnLFxyXG4gICAgICAgIHVzZFBheU1vbmV5OiAkc2NvcGUub3JkbW9uZXksXHJcbiAgICAgICAgZXVyUGF5TW9uZXk6ICcnLFxyXG4gICAgICB9O1xyXG4gICAgICAvLyDngrnlh7vmjojmnYNcclxuICAgICAgJHNjb3BlLmF1dGhDbGljayA9ICgpID0+IHtcclxuICAgICAgICAvLyDmjqXkuIvmnaXnlKjmiLflsLHopoHljrvmjojmnYPkuobvvIzlnKjov5nkuYvliY3kv53lrZjlvZPliY3lnLDlnYDkvZzkuLrkuK3pl7TpobXot7Povazlm57mnaXlnLDlnYBcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgX3BfJHskc2NvcGUub3JkbnVtYmVyfWAsIEpTT04uc3RyaW5naWZ5KHsgaHJlZjogbG9jYXRpb24uaHJlZiwgaXNBdXRoOiB0cnVlIH0pKVxyXG4gICAgICAgIC8vIOi3s+i9rOaOiOadg+WcsOWdgFxyXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSAkc2NvcGUucGF5b25lZXJEYXRhLmF1dGhVcmw7XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLnBheW9uZWVyUGF5TmV3ID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIOaYr+WQpumhu+aOiOadgyAgIHBvc3RGdW7msqHmnInov5Tlm57lgLzvvIznlKjkuI3kuoYgYXN5bmMg5ZWK5ZWKXHJcbiAgICAgICAgbGF5ZXIubG9hZCgyKTtcclxuICAgICAgICBkc3AucG9zdEZ1bignYXBwL3BheW9uZWVyL2F1dGhvcml6ZScsIHt9LCByZXMgPT4ge1xyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoJ2xvYWRpbmcnKVxyXG4gICAgICAgICAgLy8gYXV0aEZsYWcg5Li6ZmFsc2XpnIDopoHmjojmnYNcclxuICAgICAgICAgIGNvbnN0IF9kYXRhID0gKHJlcy5kYXRhIHx8IHt9KS5kYXRhIHx8IHt9O1xyXG4gICAgICAgICAgY29uc3QgeyBhdXRoRmxhZywgYmFsYW5jZUxpc3QgPSBbXSB9ID0gX2RhdGFcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdhdXRoRmxhZycsIGF1dGhGbGFnKTtcclxuICAgICAgICAgIGlmICghYXV0aEZsYWcpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnBheW9uZWVyT3JkZXIgPSBmYWxzZTsgICAvLyDlt7LmjojmnYNcclxuICAgICAgICAgICAgLyog5rKh5pyJ5o6I5p2D77yM6I635Y+W5o6I5p2D5Zyw5Z2A77yM5pi+56S65o6I5p2D5byV5a+8ICovXHJcbiAgICAgICAgICAgIGNvbnN0IF9wYXJhbXMgPSB7IHJldHVybklkOiBgJHskc2NvcGUub3JkbnVtYmVyfWAsICByZWRpcmVjdFVybDogYCR7bG9jYXRpb24ub3JpZ2lufS9wYXlvbmVlci1hdXRoLmh0bWxgICB9ICAvLyByZXR1cm5JZCDkvKDnu5nlkI7lj7DvvIzlm57osIPml7bkvKDov4fmnaUgICByZWRpcmVjdFVybCDliY3nq6/ph43lrprlkJHpobXpnaJcclxuXHJcbiAgICAgICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvcGF5b25lZXIvYXV0aG9yaXplTGluaycsIF9wYXJhbXMsIF9yZXMgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IF9kYXRhID0gKF9yZXMuZGF0YSB8fCB7fSkuZGF0YSB8fCB7fTtcclxuICAgICAgICAgICAgICBjb25zdCB7IGF1dGhvcml6ZVVybCB9ID0gX2RhdGFcclxuICAgICAgICAgICAgICBpZiAoIWF1dGhvcml6ZVVybCkge1xyXG4gICAgICAgICAgICAgICAgbGF5ZXIubXNnKE5FVEVSUk9SKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAvLyDkuI3lhpllbHNl5pu05YeG56Gu5LiA5LqbXHJcbiAgICAgICAgICAgICAgaWYoYXV0aG9yaXplVXJsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDmmL7npLrmjojmnYPlvJXlr7xcclxuICAgICAgICAgICAgICAgICRzY29wZS5wYXlvbmVlckRhdGEuYXV0aFVybCA9IGF1dGhvcml6ZVVybDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pc1Nob3dOZXdQYXlubmVyRGlhID0gdHJ1ZTsgICAgLy8g5Z+656GA5by556qXXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGF5b25lZXJBdXRoID0gdHJ1ZTsgICAgICAgICAgIC8vIOaOiOadg+W8leWvvFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgZXJyID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyJywgZXJyKVxyXG4gICAgICAgICAgICAgIGxheWVyLm1zZyhORVRFUlJPUilcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8qIOaOiOadg+aIkOWKn++8jOaYvuekuuW3suaOiOadgyAqL1xyXG4gICAgICAgICAgICAkc2NvcGUuaXNTaG93TmV3UGF5bm5lckRpYSA9IHRydWU7ICAgIC8vIOWfuuehgOW8ueeql1xyXG4gICAgICAgICAgICAkc2NvcGUucGF5b25lZXJPcmRlciA9IHRydWU7ICAgLy8g5bey5o6I5p2DXHJcbiAgICAgICAgICAgIC8vIOWIpOaWremSseWMheS9memineaYr+WQpuWkn+eUqC0g6L+Z6YeM5Zyo5Yik5pat5LiA5LiL5rGH546H5pyJ5rKh5ou/5Yiw77yM5rKh5ou/5Yiw5LiN6K6p55So5qyn5YWD5pSv5LuYXHJcbiAgICAgICAgICAgIGxldCBfcmF0ZSA9IHtcclxuICAgICAgICAgICAgICAwOiAxLFxyXG4gICAgICAgICAgICAgIDE6ICRzY29wZS5wYXlvbmVlckV1clJhdGUgfHwgMCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDliKTmlq3lvZPliY1wYXlvbmVlcuWPr+aUr+S7mOeahOW4geenjeaYr+WQpuWtmOWcqD09PWJhbGFuY2VMaXN05pivbnVsbOaIluepuuaVsOe7hFxyXG4gICAgICAgICAgICBpZighYmFsYW5jZUxpc3QgfHwgYmFsYW5jZUxpc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm5leHRBc2hGbGFnID0gdHJ1ZTsgLy8g572u54GwbmV4dOaMiemSrlxyXG4gICAgICAgICAgICAgIC8vIGxheWVyLm1zZygnWW91IG5lZWQgdG8gYWN0aXZhdGUgeW91ciBQYXlvbmVlciBVU0Qgb3IgRVVSIGFjY291bnQgdG8gcHJvY2VzcyB0aGUgdHJhbnNhY3Rpb24uJylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBiYWxhbmNlTGlzdC5mb3JFYWNoKHYgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g6L2s5o2i5oiQ576O5YWD6L+b6KGM5q+U6L6DXHJcbiAgICAgICAgICAgICAgICB2LmFmdGVyUmF0ZU1vbmV5ID0gX3JhdGVbdi5jdXJyZW5jeVR5cGVdID8gdi5iYWxhbmNlQW1vdW50IC8gX3JhdGVbdi5jdXJyZW5jeVR5cGVdIDogMDtcclxuICAgICAgICAgICAgICAgIHYuZGlzYWJsZWQgPSB2LmFmdGVyUmF0ZU1vbmV5IDwgJHNjb3BlLm9yZG1vbmV5O1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g5pWw5o2u57uR5a6aXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwYXlvbmVlckRhdGEnLCAkc2NvcGUucGF5b25lZXJBdXRoRGF0YSk7XHJcbiAgICAgICAgICAgICRzY29wZS5wYXlvbmVlckF1dGhEYXRhID0gX2RhdGE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZXJyID0+IHtcclxuICAgICAgICAgIGxheWVyLm1zZyhORVRFUlJPUik7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICAvLyDliIfmjaLmjojmnYPotKblj7dcclxuICAgICAgJHNjb3BlLnN3aXRjaFBheW9uZWVyQXV0aCA9ICgpID0+IHtcclxuICAgICAgICAvKiDmsqHmnInmjojmnYPvvIzojrflj5bmjojmnYPlnLDlnYDvvIzmmL7npLrmjojmnYPlvJXlr7wgKi9cclxuICAgICAgICBjb25zdCBfcGFyYW1zID0geyByZXR1cm5JZDogYCR7JHNjb3BlLm9yZG51bWJlcn1gLCAgcmVkaXJlY3RVcmw6IGAke2xvY2F0aW9uLm9yaWdpbn0vcGF5b25lZXItYXV0aC5odG1sYCB9ICAvLyByZXR1cm5JZCDkvKDnu5nlkI7lj7DvvIzlm57osIPml7bkvKDov4fmnaUgICByZWRpcmVjdFVybCDliY3nq6/ph43lrprlkJHpobXpnaJcclxuICAgICAgICBsYXllci5sb2FkKDIpO1xyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvcGF5b25lZXIvYXV0aG9yaXplTGluaycsIF9wYXJhbXMsIF9yZXMgPT4ge1xyXG4gICAgICAgICAgY29uc3QgX2RhdGEgPSAoX3Jlcy5kYXRhIHx8IHt9KS5kYXRhIHx8IHt9O1xyXG4gICAgICAgICAgY29uc3QgeyBhdXRob3JpemVVcmwgfSA9IF9kYXRhXHJcbiAgICAgICAgICBpZiAoIWF1dGhvcml6ZVVybCkge1xyXG4gICAgICAgICAgICBsYXllci5tc2coTkVURVJST1IpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUucGF5b25lZXJEYXRhLmF1dGhVcmwgPSBhdXRob3JpemVVcmw7XHJcbiAgICAgICAgICAgICRzY29wZS5hdXRoQ2xpY2soKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoJ2xvYWRpbmcnKVxyXG4gICAgICAgIH0sIGVyciA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyJywgZXJyKVxyXG4gICAgICAgICAgbGF5ZXIubXNnKE5FVEVSUk9SKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgLy8g6YCJ5oup5pSv5LuY6LSm5oi3LeWNlemAiVxyXG4gICAgICAkc2NvcGUucGF5b25lZXJCYWxhbmNlQ2xpY2sgPSAoaXRlbSkgPT4ge1xyXG4gICAgICAgIC8vIOajgOafpeaYr+WQpuiOt+WPluWIsOasp+WFg+axh+eOh++8jOiOt+WPluS4jeWIsOS4jee7memAieOAgiBpdGVtICA9PiBjdXJyZW5jeVR5cGUtIDAv576O5YWDICAxL+asp+WFg1xyXG4gICAgICAgIGlmKCEkc2NvcGUucGF5b25lZXJFdXJSYXRlICYmIGl0ZW0uY3VycmVuY3lUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICBnZXRFdXJSYXRlKCk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICgkc2NvcGUucGF5b25lZXJBdXRoRGF0YS5iYWxhbmNlTGlzdCB8fCBbXSkuZm9yRWFjaCh2ID0+IHYuc2VsZWN0ZWQgPSBmYWxzZSlcclxuICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUubmV4dEFzaEZsYWcgPSBmYWxzZTsgLy8g6YCJ5oup5biB56eN5ZCO5Y+W5raI572u54GwXHJcbiAgICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWQpIHtcclxuICAgICAgICAgIC8vIOiuvue9ruS7mOasvui0p+W4geexu+Wei1xyXG4gICAgICAgICAgJHNjb3BlLnBheW9uZWVyUGF5Q3VycmVuY3kgPSBpdGVtLmN1cnJlbmN5O1xyXG4gICAgICAgICAgJHNjb3BlLnBheW9uZWVyUGF5QmFsYW5jZSA9IGl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdpdGVtJywgJHNjb3BlLnBheW9uZWVyUGF5QmFsYW5jZSlcclxuICAgICAgfVxyXG4gICAgICAvLyDorqLljZXnoa7orqRcclxuICAgICAgJHNjb3BlLnBheW9uZWVyQ29uZmlybUNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIOW9k25leHTmjInpkq7nva7ngbDvvIzliJnkuI3ov5vooYzlkI7pnaLnmoTku6PnoIFcclxuICAgICAgICBpZiAoJHNjb3BlLm5leHRBc2hGbGFnKSB7XHJcbiAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCEkc2NvcGUucGF5b25lZXJQYXlDdXJyZW5jeSkge1xyXG4gICAgICAgICAgbGF5ZXIubXNnKCdQbGVhc2Ugc2VsZWN0IHRoZSBjdXJyZW5jeSBmaXJzdC4nKTtcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDljZXkvY3mrKflhYPvvIzovazmjaLotKfluIFcclxuICAgICAgICBpZigkc2NvcGUucGF5b25lZXJQYXlCYWxhbmNlLmN1cnJlbmN5VHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgLy8g56Gu6K6k6K6i5Y2V5YmN77yM5Zyo5qOA5p+l5LiA6YGN5rGH546HXHJcbiAgICAgICAgICBpZiAoISRzY29wZS5wYXlvbmVlckV1clJhdGUpIHtcclxuICAgICAgICAgICAgLy9sYXllci5tc2coJ+acquiOt+WPluWIsOasp+WFg+axh+eOhycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAkc2NvcGUucGF5b25lZXJEYXRhLmV1clBheU1vbmV5ID0gcGFyc2VGbG9hdCgkc2NvcGUub3JkbW9uZXkqJHNjb3BlLnBheW9uZWVyRXVyUmF0ZSkudG9GaXhlZCgyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyT3JkZXIgPSBmYWxzZTsgICAvLyDlt7LmjojmnYNcclxuICAgICAgICAkc2NvcGUucGF5b25lZXJDb25maXJtID0gdHJ1ZTsgIC8vIOehruiupOaUr+S7mFxyXG4gICAgICB9XHJcbiAgICAgIC8vIOiuouWNleWPlua2iFxyXG4gICAgICAkc2NvcGUucGF5b25lZXJPcmRlckNhbmNlbCA9ICgpID0+IHtcclxuICAgICAgICAkc2NvcGUuaXNTaG93TmV3UGF5bm5lckRpYSA9IGZhbHNlOyAgICAvLyDln7rnoYDlvLnnqpdcclxuICAgICAgICAkc2NvcGUucGF5b25lZXJBdXRoID0gZmFsc2U7ICAgIC8vIOaOiOadg1xyXG4gICAgICAgICRzY29wZS5wYXlvbmVlck9yZGVyID0gZmFsc2U7ICAgLy8g5bey5o6I5p2DXHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyQ29uZmlybSA9IGZhbHNlOyAgLy8g56Gu6K6k5pSv5LuYXHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyUGF5Q3VycmVuY3kgPSAnJztcdC8vIOe9ruepuuW3sumAiemSseWMhVxyXG4gICAgICB9XHJcbiAgICAgIC8vIOehruiupOaUr+S7mFxyXG4gICAgICAkc2NvcGUucGF5b25lZXJDb25maXJtUGF5Q2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCRzY29wZS5wYXlvbmVlclBheWluZykge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDopoHku5jmrL7kuoZcclxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XHJcbiAgICAgICAgICBvcmRlck51bTogJHNjb3BlLm9yZG51bWJlciwgICAgICAgICAgIC8vIOiuouWNleWPt1xyXG4gICAgICAgICAgcHJpY2U6ICRzY29wZS5vcmRtb25leSwgICAgICAgICAgICAgICAvLyDljp/ph5Hpop1cclxuICAgICAgICAgIGNvZGU6ICRzY29wZS5wYXlvbmVlckNvZGUsICAgICAgICAgICAgLy8g6K6i5Y2V5p2l5rqQ5qCH6K+GIOebtOWPkS/ku6Plj5FcclxuICAgICAgICAgIGJ1eTogJHNjb3BlLmJ1eSwgICAgICAgICAgICAgICAgICAgICAgLy8gZnJvbSB0YW9iYW9cclxuICAgICAgICAgIC8vbWFpbENvZGU6ICRzY29wZS52ZXJpZmljYXRpb25Db2RlLCAgICAvLyAuLi5cclxuICAgICAgICAgIGN1cnJlbmN5VHlwZTogJHNjb3BlLnBheW9uZWVyUGF5QmFsYW5jZS5jdXJyZW5jeVR5cGUsICAgLy8g6LSn5biB57G75Z6LXHJcbiAgICAgICAgICBwYXlQcmljZTogKCRzY29wZS5wYXlvbmVlclBheUJhbGFuY2UuY3VycmVuY3lUeXBlID09PSAwID8gJHNjb3BlLm9yZG1vbmV5IDogJHNjb3BlLnBheW9uZWVyRGF0YS5ldXJQYXlNb25leSksICAgIC8vIOWunumZhemHkeminVxyXG4gICAgICAgICAgb3R5cGU6IChvcmRUeXBlID09ICdmYmEnKSA/ICcyJyA6ICcnLCAvLyDorqLljZXnsbvlnosgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5cclxuICAgICAgICAgIGJhbGFuY2VJZDogJHNjb3BlLnBheW9uZWVyUGF5QmFsYW5jZS5iYWxhbmNlSWQsICAgLy8g6ZKx5YyFaWQg5L2Z6aKdXHJcbiAgICAgICAgICByZWRpcmVjdFVybDogYCR7bG9jYXRpb24ub3JpZ2lufS9wYXlvbmVlci1hdXRoLmh0bWxgLCAgLy/liY3nq6/ph43lrprlkJHpobXpnaJcclxuICAgICAgICAgIHR5cGU6JHNjb3BlLnBheVR5cGUsXHJcbiAgICAgICAgICBvcmRlckZsYWcsXHJcbiAgICAgICAgICBhd2M6IGRzcC5nZXRDb29raWUoXCJhd2NcIikgfHwgJydcclxuICAgICAgICB9XHJcbiAgICAgICAgbGF5ZXIubG9hZCgyKTtcclxuICAgICAgICAkc2NvcGUucGF5b25lZXJQYXlpbmcgPSB0cnVlO1xyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvcGF5L3BheScsIHBhcmFtcywgcmVzID0+IHtcclxuICAgICAgICAgIGNvbnN0IF9zdWNjZXNzVXJsID0gb3JkZXJ2ZXJzaW9uID09PSAnMicgPyBwYXlvbmVlclN1Y2Nlc3NQYXRoIDogYC9teUNKLmh0bWwke3BheW9uZWVyU3VjY2Vzc1BhdGh9YFxyXG4gICAgICAgICAgY29uc3QgeyBkYXRhLCBkYXRhOiB7IHJlc3VsdCwgbWVzc2FnZSwgcGF5VXJsLCByZXR1cm5JZCB9ID0ge30gfSA9IHJlcztcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdfcmVzJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpXHJcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGxheWVyLm1zZygnUGF5bWVudCBTdWNjZXNzZnVsIScpO1xyXG4gICAgICAgICAgICBpbWdIdHRwRnVuKCkvL+ato+W4uOaooeW8j+S4iyDku5jmrL7miJDlip/nm7TmjqXosIPnlKjlm57osINcclxuICAgICAgICAgICAgYXdpbkpTKF9zdWNjZXNzVXJsKTtcclxuICAgICAgICAgICAgLy8g5YWI6YO96L+U5Zue5b6F5pSv5LuY6aG1XHJcbiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4geyBsb2NhdGlvbi5ocmVmID0gJy9teUNKLmh0bWwjL2Ryb3BzaGlwcGluZy1vcmRlcnMnOyB9LCAyKVxyXG4gICAgICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsgbG9jYXRpb24uaHJlZiA9IF9zdWNjZXNzVXJsIH0sIDIpXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHBheVVybCkge1xyXG4gICAgICAgICAgICAvLyDmjJHmiJjmqKHlvI/orqTor4HliY3vvIzlrZjlgqhyZXR1cm5pZCzmsqHmnIlyZXR1cm5pZOWNs+S+v+aOiOadg+S5n+WbnuS4jeadpeS6huOAglxyXG4gICAgICAgICAgICAvL3twYXlVcmw6IFwiaHR0cHM6Ly9hdXRoLnNhbmRib3gucGF5b25lZXIuY29tLyM/dD0wM2ZiOWI5MGFjMDY0ZjgyODEyNGY4NWQ5Zjk0Yzg5MVwiLCByZXR1cm5JZDogXCIwM2ZiOWI5MGFjMDY0ZjgyODEyNGY4NWQ5Zjk0Yzg5MVwiLCByZXN1bHQ6IGZhbHNlfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXR1cm5JZClcclxuICAgICAgICAgICAgaWYoIXJldHVybklkKSB7XHJcbiAgICAgICAgICAgICAgbGF5ZXIubXNnKE5FVEVSUk9SKTtcclxuICAgICAgICAgICAgICAkc2NvcGUucGF5b25lZXJQYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpXHJcbiAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaW1nSHR0cEZ1bigpICDmjonmlK/ku5jnmoTml7blgJnkvJrotbDov5nph4wg5pyq5pSv5LuY5oiQ5YqfICDpnIDopoHliLDmlK/ku5jmiJDlip/pobXpnaLljrvmi79cclxuICAgICAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oYF9wXyR7cmV0dXJuSWR9YCwgSlNPTi5zdHJpbmdpZnkoeyBocmVmOiBsb2NhdGlvbi5ocmVmLCBpc1BheTogdHJ1ZSwgc3VjY2Vzc0hyZWY6IGAvbXlDSi5odG1sJHtwYXlvbmVlclN1Y2Nlc3NQYXRofWAgfSkpXHJcbiAgICAgICAgICAgIC8v5a2Y5YKoQVdJTumcgOimgeeahOWPguaVsFxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgX2F3aW5fJHtyZXR1cm5JZH1gLCBKU09OLnN0cmluZ2lmeSh7YXdpbkFtb3VudDokc2NvcGUub3JkbW9uZXksYXdpblJlZjokc2NvcGUub3JkbnVtYmVyfSkpXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGBfcF8ke3JldHVybklkfWAsIEpTT04uc3RyaW5naWZ5KHsgaHJlZjogbG9jYXRpb24uaHJlZiwgaXNQYXk6IHRydWUsIHN1Y2Nlc3NIcmVmOiBfc3VjY2Vzc1VybCB9KSlcclxuICAgICAgICAgICAgLy8g5oyR5oiY5qih5byP77yM57un57ut6K6k6K+BXHJcbiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBwYXlVcmw7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsYXllci5tc2cobWVzc2FnZSB8fCBORVRFUlJPUilcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICRzY29wZS5wYXlvbmVlclBheWluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoJ2xvYWRpbmcnKVxyXG4gICAgICAgIH0sIGVyciA9PiB7XHJcbiAgICAgICAgICAkc2NvcGUucGF5b25lZXJQYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICAgIGxheWVyLm1zZyhORVRFUlJPUilcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIC8vIOWPlua2iOaUr+S7mC3ov5Tlm57kuIrkuIDmraVcclxuICAgICAgJHNjb3BlLnBheW9uZWVyUGF5Q2FuY2VsID0gKCkgPT4ge1xyXG4gICAgICAgICRzY29wZS5pc1Nob3dOZXdQYXlubmVyRGlhID0gdHJ1ZTsgICAgLy8g5Z+656GA5by556qXXHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyQXV0aCA9IGZhbHNlOyAgICAvLyDmjojmnYNcclxuICAgICAgICAkc2NvcGUucGF5b25lZXJPcmRlciA9IHRydWU7ICAgLy8g5bey5o6I5p2DXHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyQ29uZmlybSA9IGZhbHNlOyAgLy8g56Gu6K6k5pSv5LuYXHJcbiAgICAgIH1cclxuICAgICAgLy8g5YWz6Zet5by556qXXHJcbiAgICAgICRzY29wZS5jbG9zZVNob3dOZXdQYXlubmVyRGlhID0gKCkgPT4ge1xyXG4gICAgICAgICRzY29wZS5pc1Nob3dOZXdQYXlubmVyRGlhID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLmlzU2hvd05ld1BheW5uZXJEaWEgPSBmYWxzZTsgICAgLy8g5Z+656GA5by556qXXHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyQXV0aCA9IGZhbHNlOyAgICAvLyDmjojmnYNcclxuICAgICAgICAkc2NvcGUucGF5b25lZXJPcmRlciA9IHRydWU7ICAgLy8g5bey5o6I5p2DXHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyQ29uZmlybSA9IGZhbHNlOyAgLy8g56Gu6K6k5pSv5LuYXHJcbiAgICAgICAgJHNjb3BlLnBheW9uZWVyUGF5Q3VycmVuY3kgPSAnJztcdC8vIOe9ruepuuW3sumAiemSseWMhVxyXG4gICAgICB9XHJcbiAgICAgIC8vIOaOiOadg+Wbnuiwg+WbnuadpemAu+i+kVxyXG4gICAgICBmdW5jdGlvbiBmcm9tQXV0aFJlZGlyZWN0KCkge1xyXG4gICAgICAgIC8vIOavj+asoei/m+WFpemhtemdoumDveajgOafpVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCfmo4Dmn6XmjojmnYPlm57osIMnKTtcclxuICAgICAgICBjb25zdCBpc0F1dGhSID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYF9yX2F1dGhfJHskc2NvcGUub3JkbnVtYmVyfWApID09PSAndHJ1ZSc7XHJcbiAgICAgICAgaWYgKGlzQXV0aFIpIHtcclxuICAgICAgICAgICRzY29wZS5wYXlJbmRleFR5cGUgPSAncGF5bm5lcic7XHJcbiAgICAgICAgICAvLyDph43otbDkuIDpgY3pqozor4HmtYHnqItcclxuICAgICAgICAgICRzY29wZS5wYXlvbmVlclBheU5ldygpO1xyXG4gICAgICAgICAgLy8g572u56m657yT5a2Y77yM5Y+q6LWw5LiA5qyh44CC5LmL5ZCO6aG16Z2i5Yi35paw55So5oi35omL5Yqo5pON5L2cXHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgX3BfJHskc2NvcGUub3JkbnVtYmVyfWApXHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgX3JfYXV0aF8keyRzY29wZS5vcmRudW1iZXJ9YClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZnJvbUF1dGhSZWRpcmVjdCgpO1xyXG4gICAgICAvLyDmtL7lronnm4jmlK/ku5gt5pawIOe7k+adn1xyXG4gICAgICAvL+mAieaLqei0puaIt1xyXG4gICAgICAkc2NvcGUuc2VsZWN0QWNjb3VudCA9ICh0KSA9PiB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICAgICAgJHNjb3BlLm51bSA9IDYwO1xyXG4gICAgICAgICRzY29wZS5pc0dldENvZGUgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUuY3VycmVuY3lUeXBlID0gdDtcclxuICAgICAgICBpc0F1dGgoKVxyXG4gICAgICB9O1xyXG4gICAgICAvL+i/lOWbnlxyXG4gICAgICAkc2NvcGUucGF5b25uZXJCYWNrID0gKCkgPT4ge1xyXG4gICAgICAgICRzY29wZS5pc0F1dGhvcml6ZSA9IDE7XHJcbiAgICAgIH1cclxuICAgICAgLy9cclxuICAgICAgJHNjb3BlLnNpZ25Jbk9yUmVnaXN0ZXIgPSAobGlua1R5cGUpID0+IHtcclxuICAgICAgICBsZXQgcGFybXMgPSB7XHJcbiAgICAgICAgICBjdXJyZW5jeVR5cGU6ICRzY29wZS5jdXJyZW5jeVR5cGUsXHJcbiAgICAgICAgICBsaW5rVHlwZTogbGlua1R5cGUsXHJcbiAgICAgICAgICByZWRpcmVjdFVybDogbG9jYXRpb24uaHJlZlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGF5ZXIubG9hZCgyKVxyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdjai9wYXlvbmVlci9nZXRMaW5rJywgcGFybXMsIChyZXMpID0+IHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PSAnMjAwJykge1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gcmVzLmRhdGEucmVzdWx0XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsYXllci5tc2coJ1RoZSBzZXJ2ZXIgaXMgYnVzeSBub3csIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJylcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgLy/ojrflj5bpqozor4HnoIFcclxuICAgICAgbGV0IHRpbWVyO1xyXG4gICAgICAkc2NvcGUuZ2V0Q29kZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoJHNjb3BlLmlzR2V0Q29kZSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcGFybXMgPSB7XHJcbiAgICAgICAgICBjdXJyZW5jeVR5cGU6ICRzY29wZS5jdXJyZW5jeVR5cGUsXHJcbiAgICAgICAgICBtb25leTogKCRzY29wZS5vcmRtb25leSAqICRzY29wZS5yYXRlKS50b0ZpeGVkKDIpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGF5ZXIubG9hZCgyKVxyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdjai9wYXlvbmVlci9nZXRNYWlsQ29kZScsIHBhcm1zLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT0gJzIwMCcpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmlzR2V0Q29kZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGxheWVyLm1zZygnVmVyaWZpY2F0aW9uIGNvZGUgc2VudCB0byBlbWFpbC4nKVxyXG4gICAgICAgICAgICB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAkc2NvcGUubnVtLS07XHJcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5udW0gPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubnVtID0gNjA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNHZXRDb2RlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKVxyXG4gICAgICAgICAgICB9LCAxMDAwKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xyXG4gICAgICAgICAgJHNjb3BlLm51bSA9IDYwO1xyXG4gICAgICAgICAgJHNjb3BlLmlzR2V0Q29kZSA9IGZhbHNlO1xyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoJ2xvYWRpbmcnKTtcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIC8v5rS+5a6J55uI6Kej57uRXHJcbiAgICAgICRzY29wZS51bmJpbmQgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHBhcm1zID0ge1xyXG4gICAgICAgICAgY3VycmVuY3lUeXBlOiAkc2NvcGUuY3VycmVuY3lUeXBlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGF5ZXIubG9hZCgyKVxyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdjai9wYXlvbmVlci9yZW1vdmVBdXRoJywgcGFybXMsIChyZXMpID0+IHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PSAnMjAwJykge1xyXG4gICAgICAgICAgICBsYXllci5tc2coJ1VuYm91bmQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICAgIGlzQXV0aCgpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoJ2xvYWRpbmcnKTtcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIC8v5rS+5a6J55uI5pSv5LuYXHJcbiAgICAgICRzY29wZS5wYXlvbmVlcl9QYXkgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCEkc2NvcGUudmVyaWZpY2F0aW9uQ29kZSkge1xyXG4gICAgICAgICAgbGF5ZXIubXNnKCdQbGVhc2UgZW50ZXIgdmVyaWZpY2F0aW9uIGNvZGUnKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHBhcm1zID0ge307XHJcbiAgICAgICAgcGFybXMub3JkZXJOdW0gPSAkc2NvcGUub3JkbnVtYmVyO1xyXG4gICAgICAgIHBhcm1zLnByaWNlID0gJHNjb3BlLm9yZG1vbmV5O1xyXG4gICAgICAgIHBhcm1zLmNvZGUgPSAkc2NvcGUucGF5b25lZXJDb2RlO1xyXG4gICAgICAgIHBhcm1zLnR5cGUgPSAkc2NvcGUucGF5VHlwZTtcclxuICAgICAgICBwYXJtcy5idXkgPSAkc2NvcGUuYnV5O1xyXG4gICAgICAgIHBhcm1zLm1haWxDb2RlID0gJHNjb3BlLnZlcmlmaWNhdGlvbkNvZGU7XHJcbiAgICAgICAgcGFybXMuY3VycmVuY3lUeXBlID0gJHNjb3BlLmN1cnJlbmN5VHlwZTtcclxuICAgICAgICBwYXJtcy5wYXlQcmljZSA9ICgkc2NvcGUub3JkbW9uZXkgKiAkc2NvcGUucmF0ZSkudG9GaXhlZCgyKTtcclxuICAgICAgICBwYXJtcy5vdHlwZSA9IChvcmRUeXBlID09ICdmYmEnKSA/ICcyJyA6ICcnO1xyXG4gICAgICAgIHBhcm1zLm90eXBlID0gKG9yZFR5cGUgPT0gJ2ZiYScpID8gJzInIDogJyc7XHJcbiAgICAgICAgcGFybXMuYXdjPSBkc3AuZ2V0Q29va2llKFwiYXdjXCIpIHx8ICcnO1xyXG4gICAgICAgIGxheWVyLmxvYWQoMilcclxuICAgICAgICBkc3AucG9zdEZ1bignYXBwL3BheS9wYXknLCBKU09OLnN0cmluZ2lmeShwYXJtcyksIGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICBpZiAocmVzLmRhdGEucmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBzdWNjZXNzUGF0aDtcclxuICAgICAgICAgICAgbGF5ZXIubXNnKCdQYXltZW50IFN1Y2NlZWQnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgbGF5ZXIubXNnKHJlcy5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGxheWVyLm1zZygnUGF5bWVudCBGYWlsdXJlJyk7XHJcbiAgICAgICAgICAgICAgY29uc3QgY2FuY2VsVXJsID0gIW5vTmV3T3JkZXJMaXN0LmluY2x1ZGVzKG9yZFR5cGUpID8gZnJvbVBhdGggOiBgbXlDSi5odG1sJHtmcm9tUGF0aH1gXHJcbiAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGNhbmNlbFVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgfSlcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIOabtOaWsOi0puaIt+S/oeaBr1xyXG4gICAgICAkc2NvcGUudXBkYXRlQWNjb3VudCA9ICgpID0+IHtcclxuICAgICAgICBsYXllci5sb2FkKDIpXHJcbiAgICAgICAgZHNwLmdldEZ1bignY2ovcGF5b25lZXIvdXBkYXRlQXV0aD9jdXJyZW5jeVR5cGU9JyArICRzY29wZS5jdXJyZW5jeVR5cGUsIChyZXMpID0+IHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PSAnMjAwJykge1xyXG4gICAgICAgICAgICBsYXllci5tc2coJ1VwZGF0ZSBzdWNjZXNzZnVsbHknKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIChlcnIpID0+IHtcclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gcGF5c3Npb24g5pSv5LuY5pa55byPXHJcblxyXG4gICAgICBsZXQgcGF5c3Npb25Db3VudHJ5ID0gY291bnRyeUw7XHJcbiAgICAgIGxldCBjb3VudHJ5TGlzdCA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBrZXkgaW4gcGF5c3Npb25Db3VudHJ5KSB7XHJcbiAgICAgICAgbGV0IG9iaiA9IHtcclxuICAgICAgICAgIHZhbDoga2V5LnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgICBuYW1lOiBwYXlzc2lvbkNvdW50cnlba2V5XVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb3VudHJ5TGlzdC5wdXNoKG9iaik7XHJcbiAgICAgIH1cclxuICAgICAgbGV0IHBheXNzaW9uU2hvd0Z1bj0oKT0+IHtcclxuICAgICAgICBsZXQgb2xhbmd1YWdlID0gbmF2aWdhdG9yLmxhbmd1YWdlLmluZGV4T2YoJy0nKSA+IDAgPyAobmF2aWdhdG9yLmxhbmd1YWdlLnNwbGl0KCctJylbMV0pLnRvTG93ZXJDYXNlKCkgOiAnJztcclxuICAgICAgICBsYXllci5sb2FkKDIpXHJcbiAgICAgICAgZHNwLmdldEZ1bignYXBwL3BheS9wYXlzc2lvbk1ldGhvZCcsIChyZXMpID0+IHtcclxuICAgICAgICAgIGlmIChyZXMuZGF0YSkge1xyXG4gICAgICAgICAgICBsZXQgcGF5T2JqID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgIGxldCBwYXlPYmpLZXlzID0gT2JqZWN0LmtleXMocGF5T2JqKTtcclxuICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoKTtcclxuICAgICAgICAgICAgJHNjb3BlLnBheXNzaW9uQ291bnRyeUxpc3QgPSBjb3VudHJ5TGlzdC5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKHBheU9iaktleXMuaW5kZXhPZihpdGVtLnZhbCkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBheUxpc3QgPSAocGF5T2JqW2l0ZW0udmFsXS5wb3B1bGFyKS5zcGxpdCgnfCcpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5tZXRob2RzID0gcGF5TGlzdDtcclxuICAgICAgICAgICAgICAgIGl0ZW0uaXNTaG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYgKG9sYW5ndWFnZSkgey8v5qC55o2u5b2T5YmN55qE5rWP6KeI5Zmo6K+t6KiA6buY6K6k6YCJ5oupXHJcbiAgICAgICAgICAgICAgJHNjb3BlLnBheXNzaW9uQ291bnRyeUxpc3QuZmlsdGVyKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udmFsID09IG9sYW5ndWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUucGF5c3Npb25PYmouY291bnRyeSA9IGl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5wYXlzc2lvbk9iai5tZXRob2RzID0gaXRlbS5tZXRob2RzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxheWVyLm1zZygnSGVsbG8sIHBheW1lbnQgY2Fubm90IGJlIG1hZGUgZHVlIHRvIHRoZSBQYXlzc2lvbiBmYWlsIHRvIG9idGFpbiBjb3VudHJ5IGluZm9ybWF0aW9uLCBwbGVhc2UgY2hvb3NlIGFub3RoZXIgcGF5bWVudCBtZXRob2QuJylcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICBsYXllci5tc2coJ0hlbGxvLCBwYXltZW50IGNhbm5vdCBiZSBtYWRlIGR1ZSB0byB0aGUgUGF5c3Npb24gZmFpbCB0byBvYnRhaW4gY291bnRyeSBpbmZvcm1hdGlvbiwgcGxlYXNlIGNob29zZSBhbm90aGVyIHBheW1lbnQgbWV0aG9kLicpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLyogcGF5c3Npb27pgInmi6nmlK/ku5jlm73lrrYgKi9cclxuICAgICAgJHNjb3BlLnBheXNzaW9uQ291bnRyeUZ1biA9IGl0ZW0gPT4ge1xyXG4gICAgICAgICRzY29wZS5wYXlzc2lvbk9iai5jb3VudHJ5ID0gaXRlbTtcclxuICAgICAgICAkc2NvcGUucGF5c3Npb25PYmoubWV0aG9kcyA9IGl0ZW0ubWV0aG9kcztcclxuICAgICAgICAkc2NvcGUucGF5c3Npb25PYmoucGF5TWV0aG9kID0gJyc7XHJcbiAgICAgICAgJHNjb3BlLnBheXNzaW9uT2JqLnNob3dMaXN0ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qIHBheXNzaW9u6YCJ5oup5pSv5LuY5pa55byPICovXHJcbiAgICAgICRzY29wZS5wYXlzc2lvbk1ldGhvZEZ1biA9IGl0ZW0gPT4ge1xyXG4gICAgICAgICRzY29wZS5wYXlzc2lvbk9iai5zaG93TGlzdCA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5wYXlzc2lvbk9iai5wYXlNZXRob2QgPSBpdGVtO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKiBwYXlzc2lvbuaQnOe0ouWbveWutiAqL1xyXG4gICAgICAkc2NvcGUucGF5c3Npb25TZWFyY2hGdW4gPSAoKSA9PiB7XHJcbiAgICAgICAgJHNjb3BlLnBheXNzaW9uQ291bnRyeUxpc3QubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgaXRlbS5pc1Nob3cgPSB0cnVlO1xyXG4gICAgICAgICAgaWYgKGl0ZW0ubmFtZS5pbmRleE9mKCRzY29wZS5wYXlzc2lvbk9iai5zZWFyY2gpID09IC0xKSB7XHJcbiAgICAgICAgICAgIGl0ZW0uaXNTaG93ID0gZmFsc2VcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIC8qIHBheXNzaW9u56Gu6K6k5pSv5LuYICovXHJcbiAgICAgICRzY29wZS5wYXlzc2lvbkNvbmZpcm0gPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCEkc2NvcGUucGF5c3Npb25PYmoucGF5TWV0aG9kKSB7XHJcbiAgICAgICAgICByZXR1cm4gbGF5ZXIubXNnKCdQbGVhc2Ugc2VsZWN0IGEgcGF5bWVudCBtZXRob2QuJylcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmV0VXJsID0gb3JkZXJ2ZXJzaW9uID09PSAnMicgPyAnbmV3bXljai9kcm9wc2hpcHBpbmcvb3JkZXJNYW5hZ2UnIDogJ215Q0ouaHRtbCMvZHJvcC1wcm9jZSdcclxuICAgICAgICBsYXllci5sb2FkKDIpO1xyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvcGF5L3BheXNzaW9uVXJsJywge1xyXG4gICAgICAgICAgb3JkZXJOdW06ICRzY29wZS5vcmRudW1iZXIsXHJcbiAgICAgICAgICBwcmljZTogJHNjb3BlLm9yZG1vbmV5LFxyXG4gICAgICAgICAgY29kZTogJHNjb3BlLnBheXNzaW9uQ29kZSxcclxuICAgICAgICAgIHBtX2lkOiAkc2NvcGUucGF5c3Npb25PYmoucGF5TWV0aG9kLFxyXG4gICAgICAgICAgdHlwZTogJHNjb3BlLnBheVR5cGUgPT0gJ3BheXBhbCcgPyAnJyA6ICRzY29wZS5wYXlUeXBlLFxyXG4gICAgICAgICAgcmV0dXJuVXJsOiBgJHtsb2NhdGlvbi5vcmlnaW59LyR7cmV0VXJsfWAsIC8vIOmHjeWumuWQkemhtemdouWcsOWdgFxyXG4gICAgICAgICAgb3JkZXJGbGFnXHJcbiAgICAgICAgfSwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoKTtcclxuICAgICAgICAgIGlmIChyZXMuZGF0YS5ocmVmKSB7XHJcbiAgICAgICAgICAgIGltZ0h0dHBGdW4oKS8v5q2j5bi45qih5byP5LiLIOS7mOasvuaIkOWKn+ebtOaOpeiwg+eUqOWbnuiwg1xyXG4gICAgICAgICAgICBhd2luSlMocmVzLmRhdGEuaHJlZik7XHJcbiAgICAgICAgICAgIC8vIGxvY2F0aW9uLmhyZWYgPSByZXMuZGF0YS5ocmVmO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGF5ZXIubXNnKHJlcy5kYXRhLm1lc3NhZ2UpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBsZXQgbWlkdHJhbnNGdW49KCk9PiB7XHJcbiAgICAgICAgY29uc3QgcmV0VXJsID0gb3JkZXJ2ZXJzaW9uID09PSAnMicgPyAnbmV3bXljai9kcm9wc2hpcHBpbmcvb3JkZXJNYW5hZ2UnIDogJ215Q0ouaHRtbCMvZHJvcC1wcm9jZSdcclxuICAgICAgICBsYXllci5sb2FkKDIpO1xyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvcGF5TWlkVHJhbnMvZ2VuZXJhdGVVcmwnLCB7XHJcbiAgICAgICAgICBvcmRlck51bTogJHNjb3BlLm9yZG51bWJlcixcclxuICAgICAgICAgIHByaWNlOiAkc2NvcGUub3JkbW9uZXksXHJcbiAgICAgICAgICBjb2RlOiAkc2NvcGUucGF5c3Npb25Db2RlLFxyXG4gICAgICAgICAgdHlwZTogJHNjb3BlLnBheVR5cGUgPT0gJ3BheXBhbCcgPyAnJyA6ICRzY29wZS5wYXlUeXBlLFxyXG4gICAgICAgICAgcmV0dXJuVXJsOiBgJHtsb2NhdGlvbi5vcmlnaW59LyR7cmV0VXJsfWAsIC8vIOmHjeWumuWQkemhtemdouWcsOWdgFxyXG4gICAgICAgICAgb3JkZXJGbGFnXHJcbiAgICAgICAgfSwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKVxyXG4gICAgICAgICAgaWYgKHJlcy5kYXRhLnJlc3VsdD09J3RydWUnKSB7XHJcbiAgICAgICAgICAgIGltZ0h0dHBGdW4oKVxyXG4gICAgICAgICAgICBhd2luSlMocmVzLmRhdGEucmVkaXJlY3QpO1xyXG4gICAgICAgICAgICAvLyBsb2NhdGlvbi5ocmVmID0gcmVzLmRhdGEucmVkaXJlY3Q7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsYXllci5tc2cocmVzLmRhdGEubWVzc2FnZSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCBlcnIgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgLy9hbGlwYXnmlK/ku5hcclxuICAgICAgbGV0IGNoZWNrb3V0ID0gd2luZG93LmNoZWNrb3V0QWxpIHx8IG51bGxcclxuICAgICAgXHJcbiAgICAgIGxldCBhbGlwYXlSZWFkeT0oKT0+e1xyXG4gICAgICAgIGlmKCFjaGVja291dCl7XHJcbiAgICAgICAgICBjaGVja291dCA9IG5ldyBBbGlwYXlDb25uZWN0Q2hlY2tvdXQoe1xyXG4gICAgICAgICAgICBjbGllbnRJZDokc2NvcGUuYWxpcGF5T2JqLmlkLFxyXG4gICAgICAgICAgICBpbnRlbnRQYXltZW50QW1vdW50OnsgLy/mhI/lkJHmlK/ku5jph5Hpop3vvIznlKjkuo7ojrflj5blj6/nlKjnmoTmlK/ku5jmlrnlvI9cclxuICAgICAgICAgICAgICB2YWx1ZTogKCRzY29wZS5vcmRtb25leSoxMDApLnRvRml4ZWQoMCksXHJcbiAgICAgICAgICAgICAgY3VycmVuY3k6XCJVU0RcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb2NhbGU6IFwiZW5fVVNcIiwgLy/or63oqIDnsbvlnossIOeUqOS6jlNESyDor63oqIDnmoTmuLLmn5NcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICB3aW5kb3cuY2hlY2tvdXRBbGkgPSBjaGVja291dFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjaGVja291dC5nZXRQYXltZW50T3B0aW9uc0FuZE1ldGhvZHMoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICAgICAgLy8gcmVzdWx0IOS4uui/lOWbnueahOaUr+S7mOaWueW8j+WIl+ihqOS/oeaBr1xyXG4gICAgICAgICAgdmFyIHBheW1lbnRNZXRob2RzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BheW1lbnRNZXRob2RzQ29udGFpbmVyJylcclxuICAgICAgICAgIC8vIOiLpei/lOWbnueahOaUr+S7mOaWueW8j+WIl+ihqOS4uuepuu+8jOWPr+S7peWwhumhtemdoueahOa4oOmBk+WIl+ihqOe9rueBsO+8jOihqOekuuaaguaXtuS4jeWPr+eUqFxyXG4gICAgICAgICAgaWYgKCFyZXN1bHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHBheW1lbnRNZXRob2RzTGlzdC5hZGRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2Rpc2FibGVkJylcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyDmuLLmn5PmuKDpgZPliJfooahcclxuICAgICAgICAgIHZhciBtZXRob2RzID0gW11cclxuICAgICAgICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIG1ldGhvZHMucHVzaCgnPGxpIGNhdGVnb3J5PVwiJyArIGl0ZW0uY2F0ZWdvcnkgKyAnXCI+JylcclxuICAgICAgICAgICAgbWV0aG9kcy5wdXNoKCc8ZGl2IGNsYXNzPVwiaXRlbVwiPjwvZGl2PicpXHJcbiAgICAgICAgICAgIG1ldGhvZHMucHVzaCgnPGRpdiBpZD1cIicgKyBpdGVtLmNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgKyAnXCI+PC9kaXY+JylcclxuICAgICAgICAgICAgbWV0aG9kcy5wdXNoKCc8L2xpPicpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgcGF5bWVudE1ldGhvZHNDb250YWluZXIuaW5uZXJIVE1MID0gbWV0aG9kcy5qb2luKCcnKTtcclxuICAgICAgICAgIGNyZWF0Q2FyZCgnQ0FSRCcpXHJcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1RyeSBhZ2FpbicpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICB2YXIgY3JlYXRDYXJkID0gIChjYXRlZ29yeSk9PiB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSAnIycgKyBjYXRlZ29yeS50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgY2hlY2tvdXQuY3JlYXRlKCd3aWRnZXQnLCB7XHJcbiAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxyXG4gICAgICAgICAgY2hhbm5lbE5hbWU6IGNhdGVnb3J5LFxyXG4gICAgICAgICAgc3R5bGVzOiB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzJweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICcnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG9uSGVpZ2h0Q2hhbmdlOiBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5oZWlnaHQsICdoZWlnaHQgaW5kZXgnKVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8g5ZWG5oi35Y+v5Lul5Zyo6L+Z6YeM5YGa5pS26ZO25Y+wIHJlYWR5IOWQjueahOWkhOeQhlxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgLy8g5ZWG5oi35Y+v5Lul5Zyo6L+Z6YeM6I635Y+W6ZSZ6K+v5byC5bi477yM5bm25omT5Y2w5Ye65p2lXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUuY2hlY2tvdXRSZXF1ZXN0PSAoKSA9PntcclxuICAgICAgICBjaGVja291dC5jb25maXJtUGF5KHtcclxuICAgICAgICAgIGNsaWVudFBheW1lbnRUb2tlbjogJHNjb3BlLmFsaXBheU9iai50b2tlbixcclxuICAgICAgICAgIGNoYW5uZWxOYW1lOiAnQ0FSRCcsXHJcbiAgICAgICAgfSkuY2F0Y2gocmVzID0+IHtcclxuICAgICAgICAgIHN3aXRjaCAocmVzLmVycm9yQ29kZSkge1xyXG4gICAgICAgICAgICBjYXNlICdGT1JNX1ZBTElEX0ZBSUxFRCc6XHJcbiAgICAgICAgICAgICAgLy8g6L+Z6YeM5aSE55CG6KGo5Y2V5qCh6aqM5aSx6LSlXHJcbiAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgY2FzZSAnVElNRV9PVVQnOlxyXG4gICAgICAgICAgICAgIC8vIOi/memHjOWkhOeQhue9kee7nOi2heaXtlxyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBsZXQgZ2V0QWxpcGF5VG9rZW49KCk9PntcclxuICAgICAgICBsYXllci5sb2FkKDIpXHJcbiAgICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9wYXkvYWxpcGF5VG9rZW4nLCB7XHJcbiAgICAgICAgICBvcmRlck51bTogJHNjb3BlLm9yZG51bWJlcixcclxuICAgICAgICAgIHByaWNlOiAkc2NvcGUub3JkbW9uZXksXHJcbiAgICAgICAgICBjb2RlOiAkc2NvcGUuYWxpcGF5Q29kZSxcclxuICAgICAgICAgIHR5cGU6ICRzY29wZS5wYXlUeXBlID09ICdwYXlwYWwnID8gJycgOiAkc2NvcGUucGF5VHlwZVxyXG4gICAgICAgIH0sICh7ZGF0YX0pID0+IHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCk7XHJcbiAgICAgICAgICBpZighIWRhdGEucmVzdWx0KXtcclxuICAgICAgICAgICAgLy8gcmVzb2x2ZSgnJylcclxuICAgICAgICAgICAgLy8gbGF5ZXIubXNnKGRhdGEubWVzc2FnZSlcclxuICAgICAgICAgICAgJHNjb3BlLmFsaXBheUVyck9iaiA9IHtcclxuICAgICAgICAgICAgICBzaG93RmxhZzogdHJ1ZSxcclxuICAgICAgICAgICAgICBlcnJUZXh0OiBkYXRhLm1lc3NhZ2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGlwYXlPYmouaWQ9ZGF0YS5jbGllbnRJZDtcclxuICAgICAgICAgICAgJHNjb3BlLmFsaXBheU9iai50b2tlbj1kYXRhLmNsaWVudFBheW1lbnRUb2tlbjtcclxuICAgICAgICAgICAgYWxpcGF5UmVhZHkoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LGVycj0+e1xyXG4gICAgICAgICAgbGF5ZXIubXNnKGVyci5tZXNzYWdlKVxyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoKTtcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgZ2V0Q05ZUmF0ZSA9ICgpID0+IHtcclxuICAgICAgICBkc3AucG9zdEZ1bignY2ovaG9tZVBhZ2UvZXhjaGFuZ2VSYXRlJywgeyB0b0NvZGU6ICdDTlknIH0sIHJlcyA9PiB7XHJcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IHsgcmVzdWx0IH0gfSA9IHJlcztcclxuICAgICAgICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICRzY29wZS5DTllSYXRlRmFpbCA9IHRydWVcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgJHNjb3BlLkNOWVJhdGUgPSByZXN1bHQ7XHJcbiAgICAgICAgICAkc2NvcGUuQ05ZUmF0ZUZhaWwgPSBmYWxzZVxyXG4gICAgICAgICAgJHNjb3BlLnNob3dDTlltb25leSA9IE1hdGguY2VpbCgkc2NvcGUub3JkbW9uZXkgKiByZXN1bHQgKiAxMDApIC8gMTAwXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g6I635Y+Wc3RyaXBl5pSv5LuYcGvlkoxzZXNzaW9uSWQg6Lez6L2s5Yiwc3RyaXBl5pSv5LuY6aG16Z2iXHJcbiAgICAgIGxldCBnZXRTdHJpcGVQayA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBzdWNjZXNzVXJsID0gIHN1Y2Nlc3NQYXRoXHJcbiAgICAgICAgbGV0IGxpbmtTdWNjZXNzVXJsO1xyXG4gICAgICAgIGlmIChvcmRUeXBlID09ICdwcm9ibGVtUGFja2FnZScpIHtcclxuICAgICAgICAgIGxpbmtTdWNjZXNzVXJsID0gYCR7bG9jYXRpb24ub3JpZ2lufS8ke3N1Y2Nlc3NVcmx9Ly8keyRzY29wZS5vcmRudW1iZXJ9YFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3JkVHlwZSAhPT0gJ3Byb2JsZW1QYWNrYWdlJyApIHtcclxuICAgICAgICAgIGxpbmtTdWNjZXNzVXJsID0gYCR7bG9jYXRpb24ub3JpZ2lufS8ke3N1Y2Nlc3NVcmx9LyR7JHNjb3BlLm9yZG51bWJlcn1gXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdWNjZXNzUGF0aCA9PSAnbmV3bXljai9kcm9wc2hpcHBpbmcvb3JkZXJNYW5hZ2UnKSB7XHJcbiAgICAgICAgICBsaW5rU3VjY2Vzc1VybCA9IGAke2xvY2F0aW9uLm9yaWdpbn0vJHtzdWNjZXNzVXJsfT9vcmRlckNvZGU9JHskc2NvcGUub3JkbnVtYmVyfWBcclxuICAgICAgICB9XHJcbiAgICAgICAgbGF5ZXIubG9hZCgyKVxyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvcGF5L3N0cmlwZVBheW1lbnQnLCB7XHJcbiAgICAgICAgICBvcmRlck51bTogJHNjb3BlLm9yZG51bWJlcixcclxuICAgICAgICAgIHByaWNlOiAkc2NvcGUub3JkbW9uZXksXHJcbiAgICAgICAgICBjb2RlOiAkc2NvcGUuc3RyaXBlQ29kZSxcclxuICAgICAgICAgIHR5cGU6ICRzY29wZS5wYXlUeXBlLFxyXG4gICAgICAgICAgb3JkZXJGbGFnLFxyXG4gICAgICAgICAgc3VjY2Vzc1VybDogbGlua1N1Y2Nlc3NVcmwgfHwgYCR7bG9jYXRpb24ub3JpZ2lufS8ke3N1Y2Nlc3NVcmx9YCxcclxuICAgICAgICAgIGNhbmNlbFVybDogbG9jYXRpb24uaHJlZixcclxuICAgICAgICB9LCAoe2RhdGF9KSA9PiB7XHJcbiAgICAgICAgICBsYXllci5jbG9zZUFsbCgpO1xyXG4gICAgICAgICAgaWYoIWRhdGEucmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmKGRhdGE/Lm1lc3NhZ2UgPT0gJ1RoZSBvcmRlciBkb2VzIG5vdCBiZWxvbmcgdG8geW91IGFuZCBjYW5ub3QgYmUgcGFpZC4nKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnRva2VGYWlsRmxhZyA9IHRydWVcclxuICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYXllci5tc2coZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIG9idGFpbiBwYXltZW50IGluZm9ybWF0aW9uIGZyb20gdGhlIHNlbGxlci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKVxyXG4gICAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RyaXBlT2JqID0ge1xyXG4gICAgICAgICAgICAgIG9yZGVySWQ6IGRhdGEub3JkZXJJZCxcclxuICAgICAgICAgICAgICBzdHJpcGVQazogZGF0YS5zdHJpcGVQayxcclxuICAgICAgICAgICAgICBzZXNzaW9uSWQ6IGRhdGEuc2Vzc2lvbklkLFxyXG4gICAgICAgICAgICAgIHN0cmlwZUNvZGU6ICRzY29wZS5zdHJpcGVDb2RlLFxyXG4gICAgICAgICAgICAgIHBheUlkOiBkYXRhLnBheUlkLFxyXG4gICAgICAgICAgICAgIHNob3dPcmRJZDogJHNjb3BlLm9yZG51bWJlcixcclxuICAgICAgICAgICAgICBwYXltZW50VHlwZTogJ1N0cmlwZScsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3N0cmlwZU9iaicsIGJhc2U2NC5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoJHNjb3BlLnN0cmlwZU9iaikpKTtcclxuICAgICAgICAgICAgbGV0IHN0cmlwZSA9IFN0cmlwZShkYXRhLnN0cmlwZVBrKTtcclxuICAgICAgICAgICAgc3RyaXBlLnJlZGlyZWN0VG9DaGVja291dCh7IHNlc3Npb25JZDogZGF0YS5zZXNzaW9uSWQgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxlcnI9PntcclxuICAgICAgICAgIGxheWVyLm1zZyhlcnIubWVzc2FnZSlcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g6I635Y+WY2hlY2tvdXTmlK/ku5jnmoTot7Povazpk77mjqVcclxuICAgICAgbGV0IGdldENoZWNrb3V0TGluayA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBzdWNjZXNzVXJsID0gIHN1Y2Nlc3NQYXRoXHJcbiAgICAgICAgbGF5ZXIubG9hZCgyKVxyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvcGF5L2dldENoZWNrb3V0UGF5VXJsJywge1xyXG4gICAgICAgICAgb3JkZXJOdW06ICRzY29wZS5vcmRudW1iZXIsXHJcbiAgICAgICAgICBwcmljZTogJHNjb3BlLm9yZG1vbmV5LFxyXG4gICAgICAgICAgY29kZTogJHNjb3BlLnN0cmlwZUNvZGUsXHJcbiAgICAgICAgICB0eXBlOiAkc2NvcGUucGF5VHlwZSxcclxuICAgICAgICAgIG90eXBlOiBvcmRUeXBlID09ICdmYmEnID8gJzInIDogJycsXHJcbiAgICAgICAgICBvcmRlckZsYWcsXHJcbiAgICAgICAgICBzdWNjZXNzVXJsOiBgJHtsb2NhdGlvbi5vcmlnaW59LyR7c3VjY2Vzc1VybH1gLFxyXG4gICAgICAgICAgZmFpbHVyZVVybDogYCR7bG9jYXRpb24ub3JpZ2lufS8ke2ZhaWxQYXRofWAsXHJcbiAgICAgICAgICBjYW5jZWxVcmw6IGxvY2F0aW9uLmhyZWYsXHJcbiAgICAgICAgfSwgKHtkYXRhfSkgPT4ge1xyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoKTtcclxuICAgICAgICAgIGlmKGRhdGEuY29kZSA9PSAyMDApIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNoZWNrb3V0T2JqID0ge1xyXG4gICAgICAgICAgICAgIG9yZGVySWQ6IGRhdGEuZGF0YS5vcmRlcklkLFxyXG4gICAgICAgICAgICAgIHNob3dPcmRJZDogJHNjb3BlLm9yZG51bWJlcixcclxuICAgICAgICAgICAgICBzdHJpcGVDb2RlOiAkc2NvcGUuc3RyaXBlQ29kZSxcclxuICAgICAgICAgICAgICBwYXlJZDogZGF0YS5kYXRhLnBheUlkLFxyXG4gICAgICAgICAgICAgIHBheW1lbnRUeXBlOiAnQ2hlY2tvdXQnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjaGVja291dE9iaicsIGJhc2U2NC5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmNoZWNrb3V0T2JqKSkpO1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGRhdGEuZGF0YS5ocmVmXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsYXllci5tc2coZGF0YT8ubWVzc2FnZSB8fCAnT29wcywgVGhlcmUgaXMgc29tZXRoaW5nIHdyb25nIHdpdGggdGhpcyBvcmRlciwgcGF5bWVudCBmYWlsZWQuIFBsZWFzZSBjb250YWN0IHlvdXIgYWdlbnQuJylcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LGVycj0+e1xyXG4gICAgICAgICAgbGF5ZXIubXNnKGVyci5tZXNzYWdlKVxyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoKTtcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDliKTmlq3lvZPliY3lrqLmiLfmmK/lkKbmmK/mrKfmtLLlrqLmiLdcclxuICAgICAgZnVuY3Rpb24gaXNFdW9Vc2VyKCkge1xyXG4gICAgICAgIGxheWVyLmxvYWQoMik7XHJcbiAgICAgICAgZHNwLnBvc3RGdW4oJ3BheW1lbnQvaXNFdXJvcGUnLCB7fSwgZnVuY3Rpb24gKHtkYXRhfSkge1xyXG4gICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoJ2xvYWRpbmcnKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICBpZihkYXRhJiZkYXRhLmNvZGUgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgIC8vIGlzRXVyb3BlIHRydWXkuLrmrKfmtLJcclxuICAgICAgICAgICBpZihkYXRhPy5kYXRhPy5pc0V1cm9wZSkge1xyXG4gICAgICAgICAgICBnZXRDaGVja291dExpbmsoKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICB9XHJcbiAgICAgICAgICAgZ2V0U3RyaXBlUGsoKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGF5ZXIubXNnKGRhdGE/Lm1lc3NhZ2UpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgZ2V0Q05ZUmF0ZSgpXHJcblxyXG4gICAgICAvLyDpgIDlh7rnmbvlvZVcclxuICAgICAgZnVuY3Rpb24gbG9nb3V0SGFuZGxlKCkge1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gYmFzZTY0LmRlY29kZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSA9PSB1bmRlZmluZWQgPyBcIlwiIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykpO1xyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvcGxhdGZvcm0vcXVpdExvZ2luJywgeyBcInRva2VuXCI6IHRva2VuIH0sIGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdub0VuY29kZVRva2VuJyk7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXRtU291cmNlJyk7XHJcbiAgICAgICAgICAvLyDpgIDlh7rnmbvlvZXmuIXpmaRjb29raWXkuK3nmoRlbWFpbFxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ+mAgOWHuuWcqOi/meWEv++8jHNyYy9jb21wb25lbnRzL215Y2otaGVhZGVyL215Y2otaGVhZGVyLmpzJyk7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZW1haWxWZXJpZnlTdGF0dXMnKTtcclxuICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGBlbWFpbFZlcmlmeVN0YXR1cz0wOyBkb21haW49JHtfX3Jvb3RfX2RvbWFpbn1gO1xyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2luZnJvbWVycCcpICYmIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdsb2dpbmZyb21lcnAnKTtcclxuICAgICAgICAgIGRzcC5kZWxDb29raWUoJ2NqTG9naW5OYW1lJyk7XHJcbiAgICAgICAgICBkc3AuZGVsQ29va2llKCdjakxvZ2luVG9rZW4nKTtcclxuICAgICAgICAgIGRzcC5kZWxBd2NDb29raWUoJ2F3YycpO1xyXG4gICAgICAgICAgbG9jYXRpb24uaHJlZiA9IFwibG9naW4uaHRtbFwiOyAvLyDljrvpppbpobVcclxuICAgICAgICB9KVxyXG4gICAgICB9IFxyXG4gICAgICAvKiDpgInmi6nmlK/ku5jmlrnlvI9cclxuICAgICAgICogMO+8mui9rOi0pu+8jDE6cGF5cGFs77ybMu+8muS9memine+8mzTvvJrmtL7lronnm4jvvJs177yacGF5c3Npb27vvJs277yabWlkcmFuc++8mzfvvJropb/ogZTpk7booYw7IDg6IOaUr+S7mOWune+8myA577ya5b6u5L+hXHJcbiAgICAgICAqL1xyXG4gICAgICAkc2NvcGUuY2hvb3NlUGF5RnVuID0gKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9wYXkvY2hlY2tVc2VyU3RhdHVzJyx7fSwoe2RhdGF9KT0+e1xyXG4gICAgICAgICAgaWYoZGF0YS5jb2RlID09MjAwKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+mAieaLqeaUr+S7mCcpO1xyXG4gICAgICAgICAgICAkc2NvcGUucGF5SW5kZXhUeXBlID0gaXRlbS50eXBlO1xyXG4gICAgICAgICAgICBpZiAoaXRlbS50eXBlID09ICdwYXlwYWwnICYmICghJHNjb3BlLnBheXBhbE9iai51cmwgfHwgJHNjb3BlLnBheXBhbE9iai51cmwuaW5kZXhPZignaHR0cHMnKSA8IDApKSB7XHJcbiAgICAgICAgICAgICAgcGF5cGFsRnVuKCk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmIChpdGVtLnR5cGUgPT0gJ2NhcmQnICYmICEkc2NvcGUud2lkdGhDYXJkT2JqLmlzR2V0KSB7XHJcbiAgICAgICAgICAgICAgLy8gZ2V0U3RyaXBlUGsoKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYoaXRlbS50eXBlPT0nYWxpcGF5Jyl7XHJcbiAgICAgICAgICAgICAgaWYoJHNjb3BlLmFsaXBheU9iai50b2tlbil7XHJcbiAgICAgICAgICAgICAgICBhbGlwYXlSZWFkeSgpO1xyXG4gICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgZ2V0QWxpcGF5VG9rZW4oKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlPT0nbmV3QWxpcGF5Jykge1xyXG4gICAgICAgICAgICAgIGdldENOWVJhdGUoKVxyXG4gICAgICAgICAgICAgIC8vIGdldFFyQ29kZSgpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlPT0nd2VjaGF0Jykge1xyXG4gICAgICAgICAgICAgIGdldENOWVJhdGUoKVxyXG4gICAgICAgICAgICAgIC8vIGdldFFyQ29kZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBsYXllci5tc2coZGF0YS5tc2cgfHwgJycpXHJcbiAgICAgICAgICAgIGxvZ291dEhhbmRsZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBsZXQgZ2V0UXJDb2RlID0gKCkgPT4ge1xyXG4gICAgICAvLyAgIGRzcC5wb3N0RnVuKCdhcHAvcGF5L2dldFFyQ29kZScsIHt9LCBmdW5jdGlvbiAoe2RhdGF9KSB7XHJcbiAgICAgIC8vICAgICBpZiAoZGF0YS5jb2RlID09IDIwMCkge1xyXG4gICAgICAvLyAgICAgICAkc2NvcGUubmV3QWxpcGF5T2JqLnFyQ29kZSA9IGRhdGEuZGF0YS5hbGlwYXlRckNvZGVcclxuICAgICAgLy8gICAgICAgJHNjb3BlLndlY2hhdE9iai5xckNvZGUgPSBkYXRhLmRhdGEud2VjaGF0UXJDb2RlXHJcbiAgICAgIC8vICAgICB9XHJcbiAgICAgIC8vICAgfSlcclxuICAgICAgLy8gfVxyXG5cclxuICAgICAgJHNjb3BlLmdldENOWVJhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgZ2V0Q05ZUmF0ZSgpXHJcbiAgICAgIH1cclxuICAgICAgLy/ojrflj5Z1cmzlj4LmlbBcclxuICAgICAgZnVuY3Rpb24gcXVlcnlVcmxQYXJhbXMoaHJlZil7XHJcbiAgICAgICAgaWYoaHJlZiAmJiBocmVmLmluZGV4T2YoJz8nKSAhPSAtMSl7XHJcbiAgICAgICAgICBsZXQgaHJlZlBhcmFtc09iaiA9IHt9O1xyXG4gICAgICAgICAgbGV0IHF1ZXJ5U3RyID0gaHJlZi5zdWJzdHIoMSkgLy9zdWJzdHIoKeaWueazlei/lOWbnuS7juWPguaVsOWAvOW8gOWni+WIsOe7k+adn+eahOWtl+espuS4su+8m1xyXG4gICAgICAgICAgbGV0IHF1ZXJ5U3RycyA9IHF1ZXJ5U3RyLnNwbGl0KCcmJylcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVlcnlTdHJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGhyZWZQYXJhbXNPYmpbcXVlcnlTdHJzW2ldLnNwbGl0KCc9JylbMF1dID0gcXVlcnlTdHJzW2ldLnNwbGl0KCc9JylbMV1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBocmVmUGFyYW1zT2JqXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICAgIC8qIOaUr+S7mOaMiemSrlxyXG4gICAgICAgKiAw77ya6L2s6LSm77yMMTpwYXlwYWzvvJsy77ya5L2Z6aKd77ybNO+8mua0vuWuieebiO+8mzXvvJpwYXlzc2lvbu+8mzbvvJptaWRyYW5z77ybN++8muilv+iBlOmTtuihjFxyXG4gICAgICAgKi9cclxuICAgICAgJHNjb3BlLnBheUZ1biA9ICgpID0+IHtcclxuICAgICAgICBpZiAoJHNjb3BlLnBheUluZGV4VHlwZSAmJiAhJHNjb3BlLnNlbGVjdFRlcm1zRmxhZykge1xyXG4gICAgICAgICAgcmV0dXJuIGxheWVyLm1zZygnRm9yIHlvdXIgaW50ZXJlc3RzLCBwbGVhc2UgcmVhZCBhbmQgYWdyZWUgdGhlIFVzZXIgQWdyZWVtZW50LCBQcml2YWN5IFBvbGljeSBhbmQgUmVmdW5kLCBSZXNlbmQgYW5kIFJldHVybnMgUG9saWN5LicpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkc2NvcGUucGF5SW5kZXhUeXBlID09ICd3aXJlJykge1xyXG4gICAgICAgICAgJHNjb3BlLnRyYW5zZmVyT2JqLmlzU2hvdyA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUucGF5SW5kZXhUeXBlID09ICdwYXlwYWwnKSB7XHJcbiAgICAgICAgICAvL+acquiOt+WPluWIsHBheXBhbOaUr+S7mOmTvuaOpemHjeaWsOiOt+WPllxyXG4gICAgICAgICAgaWYgKCRzY29wZS5wYXlwYWxPYmoudXJsICYmICRzY29wZS5wYXlwYWxPYmoudXJsLmluZGV4T2YoJ2h0dHBzJykgPj0gMCkge1xyXG4gICAgICAgICAgICBsZXQgcmVzSHJlZlBhcmFtcyA9IHF1ZXJ5VXJsUGFyYW1zKCRzY29wZS5wYXlwYWxPYmoudXJsKVxyXG4gICAgICAgICAgICBpZihyZXNIcmVmUGFyYW1zICYmIHJlc0hyZWZQYXJhbXMudG9rZW4pe1xyXG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGBfcGF5cGFsXyR7cmVzSHJlZlBhcmFtcy50b2tlbn1gLEpTT04uc3RyaW5naWZ5KHthd2luQW1vdW50OiRzY29wZS5vcmRtb25leSxhd2luUmVmOiRzY29wZS5vcmRudW1iZXJ9KSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gJHNjb3BlLnBheXBhbE9iai51cmw7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwYXlwYWxGdW4oKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5wYXlJbmRleFR5cGUgPT0gJ2NyZWRpdCcpIHtcclxuICAgICAgICAgICRzY29wZS5zdG9yZUNyZWRpdE9iai5pc1Nob3cgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLnBheUluZGV4VHlwZSA9PSAnY2FyZCcpIHtcclxuICAgICAgICAgIGlzRXVvVXNlcigpXHJcbiAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUucGF5SW5kZXhUeXBlID09ICdwYXlubmVyJykge1xyXG4gICAgICAgICAgLy8g5rS+5a6J55uI5pSv5LuYXHJcbiAgICAgICAgICAkc2NvcGUucGF5b25lZXJQYXlOZXcoKVxyXG4gICAgICAgICAgLy8kc2NvcGUucGF5b25lZXJQYXkoKVxyXG4gICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLnBheUluZGV4VHlwZSA9PSAncGF5c3Npb24nKSB7XHJcbiAgICAgICAgICAkc2NvcGUucGF5c3Npb25PYmouaXNTaG93ID0gdHJ1ZTtcclxuICAgICAgICAgICRzY29wZS5wYXlzc2lvbk9iai5zaG93TGlzdCA9IGZhbHNlO1xyXG4gICAgICAgICAgJHNjb3BlLnBheXNzaW9uT2JqLnNlYXJjaCA9ICcnO1xyXG4gICAgICAgICAgaWYgKE9iamVjdC5rZXlzKCRzY29wZS5wYXlzc2lvbk9iai5jb3VudHJ5KS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICBwYXlzc2lvblNob3dGdW4oKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5wYXlJbmRleFR5cGUgPT0gJ21pZHRyYW5zJykge1xyXG4gICAgICAgICAgbWlkdHJhbnNGdW4oKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5wYXlJbmRleFR5cGUgPT0gJ3dlc3Rlcm4nKSB7XHJcbiAgICAgICAgICAkc2NvcGUudHJhbnNmZXJYTE9iai5pc1Nob3cgPSB0cnVlOy8v6KW/6IGU6ZO26KGM5pSv5LuYXHJcbiAgICAgICAgfSBlbHNlIGlmKCRzY29wZS5wYXlJbmRleFR5cGU9PSdhbGlwYXknKXtcclxuICAgICAgICAgIGlmKCRzY29wZS5hbGlwYXlPYmoudG9rZW4pe1xyXG4gICAgICAgICAgICBhbGlwYXlSZWFkeSgpO1xyXG4gICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGdldEFsaXBheVRva2VuKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAkc2NvcGUuYWxpcGF5T2JqLmlzU2hvdz10cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZigkc2NvcGUucGF5SW5kZXhUeXBlID09ICduZXdBbGlwYXknKXtcclxuICAgICAgICAgICRzY29wZS5kZVRpbWUgPSB7IG06IDE1LCBzOiAwIH1cclxuICAgICAgICAgICRzY29wZS5uZXdBbGlwYXlPYmouaXNTaG93ID0gdHJ1ZVxyXG4gICAgICAgICAgJHNjb3BlLm1vZGFsQ29uZmlybVBheSgpXHJcbiAgICAgICAgfSBlbHNlIGlmKCRzY29wZS5wYXlJbmRleFR5cGUgPT0gJ3dlY2hhdCcpe1xyXG4gICAgICAgICAgJHNjb3BlLmRlVGltZSA9IHsgbTogMTUsIHM6IDAgfVxyXG4gICAgICAgICAgJHNjb3BlLndlY2hhdE9iai5pc1Nob3cgPSB0cnVlXHJcbiAgICAgICAgICAkc2NvcGUubW9kYWxDb25maXJtUGF5KClcclxuICAgICAgICB9IGVsc2UgaWYgKCEkc2NvcGUucGF5SW5kZXhUeXBlKSB7XHJcbiAgICAgICAgICBsYXllci5tc2coJ1BsZWFzZSBjaG9vc2UgYSBwYXltZW50IG1ldGhvZCBmaXJzdC4nKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLmNhbmNlbFBheSA9ICgpID0+IHtcclxuICAgICAgICAkc2NvcGUubmV3QWxpcGF5T2JqLmlzU2hvdyA9IGZhbHNlXHJcbiAgICAgICAgJHNjb3BlLndlY2hhdE9iai5pc1Nob3cgPSBmYWxzZVxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxckNvZGUnKS5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICAgICRzY29wZS50aW1lcnMgJiYgY2xlYXJJbnRlcnZhbCgkc2NvcGUudGltZXJzKVxyXG4gICAgICAgICRzY29wZS50aW1lb3V0VGltZXIgJiYgY2xlYXJUaW1lb3V0KCRzY29wZS50aW1lb3V0VGltZXIpXHJcbiAgICAgICAgJHNjb3BlLmRlVGltZSA9IHsgbTogMCwgczogMCB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRzY29wZS5jYW5jZWxTdWNjZXNzUGF5ID0gKCkgPT4ge1xyXG4gICAgICAgICRzY29wZS5uZXdBbGlwYXlPYmouaXNTaG93U3VjYyA9IGZhbHNlXHJcbiAgICAgICAgJHNjb3BlLndlY2hhdE9iai5pc1Nob3dTdWNjID0gZmFsc2VcclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLmp1bXBUb090aGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSBzdWNjZXNzUGF0aFxyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2NvcGUuZGVsZXRlUGljID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RvY3VtZW50MycpLnZhbHVlID0gJydcclxuICAgICAgICAkc2NvcGUuaGVhZGltZyA9IFwiXCJcclxuICAgICAgICAkc2NvcGUuaW1nQXJyID0gW11cclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLmRlVGltZSA9IHsgbTogMTUsIHM6IDAgfVxyXG5cclxuICAgICAgJHNjb3BlLmxvb3BQYXlTdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgIGlmKCgkc2NvcGUuZGVUaW1lLm0gKyAkc2NvcGUuZGVUaW1lLnMpID09IDApIHtcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUudGltZW91dFRpbWVyICYmIGNsZWFyVGltZW91dCgkc2NvcGUudGltZW91dFRpbWVyKVxyXG4gICAgICAgICRzY29wZS50aW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvcGF5L2dldFBheVJlc3VsdCcseyBvcmRlcklkOiAkc2NvcGUub3JkZXJJZCwgYXdjOiBkc3AuZ2V0Q29va2llKFwiYXdjXCIpIHx8ICcnLCBwcmljZTogICRzY29wZS5vcmRtb25leSxcclxuICAgICAgICAgIG9yZGVyTnVtOiAkc2NvcGUub3JkbnVtYmVyIH0sZnVuY3Rpb24gKHtkYXRhfSkge1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3RhdHVzID09IDEpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUubG9vcFBheVN1Y2Nlc3MoKVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYoZGF0YS5kYXRhLnN0YXR1cyA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgbGF5ZXIubXNnKGRhdGEuZGF0YS5yZXR1cm5Nc2cpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihkYXRhLmRhdGEuc3RhdHVzID09IDMpIHtcclxuICAgICAgICAgICAgICBsYXllci5tc2coJ1BheW1lbnQgU3VjY2VlZCcpXHJcbiAgICAgICAgICAgICAgJHNjb3BlLnBheVN0YXR1cyA9IGRhdGEuZGF0YS5zdGF0dXNcclxuICAgICAgICAgICAgICAkc2NvcGUudGltZXJzICYmIGNsZWFySW50ZXJ2YWwoJHNjb3BlLnRpbWVycylcclxuICAgICAgICAgICAgICBhd2luSlMoKTtcclxuICAgICAgICAgICAgICBpbWdIdHRwRnVuKCk7Ly/lvq7kv6HmlK/ku5jmiJDlip9cclxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5qdW1wVG9PdGhlcigpXHJcbiAgICAgICAgICAgICAgfSw1MDAwKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0sIDMwMDApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRzY29wZS5yZWZyZXNoUXJjb2RlID0gKCkgPT4ge1xyXG4gICAgICAgICRzY29wZS5kZVRpbWUgPSB7IG06IDE1LCBzOiAwIH1cclxuICAgICAgICAkc2NvcGUubG9vcFBheVN1Y2Nlc3MoKVxyXG4gICAgICAgICRzY29wZS5ydW5UaW1lKClcclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLnJ1blRpbWUgPSAoKSA9PiB7XHJcbiAgICAgICAgJHNjb3BlLnRpbWVycyA9IHNldEludGVydmFsKCgpPT57XHJcbiAgICAgICAgICBpZigkc2NvcGUuZGVUaW1lLnMgPT0gMCAmJiAkc2NvcGUuZGVUaW1lLm0gPj0gMSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuZGVUaW1lLnMgPSA1OVxyXG4gICAgICAgICAgICAkc2NvcGUuZGVUaW1lLm0gLT0gMVxyXG4gICAgICAgICAgfSBlbHNlIGlmKCgkc2NvcGUuZGVUaW1lLnMgKyAkc2NvcGUuZGVUaW1lLm0pID09IDApIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCgkc2NvcGUudGltZXJzKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmRlVGltZS5zIC09IDFcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICRzY29wZS4kYXBwbHkoKVxyXG4gICAgICAgIH0sIDEwMDApXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8qKuaUr+S7mOWune+8jOW+ruS/oeaUr+S7mCAqL1xyXG4gICAgICAkc2NvcGUubW9kYWxDb25maXJtUGF5ID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCBwYXlEYXRhID0ge1xyXG4gICAgICAgICAgcHJpY2U6ICRzY29wZS5wYXlJbmRleFR5cGUgPT0gJ25ld0FsaXBheScgPyAkc2NvcGUubmV3QWxpcGF5T2JqLnNob3dBbW91bnQgOiAkc2NvcGUud2VjaGF0T2JqLnNob3dBbW91bnQsXHJcbiAgICAgICAgICBvcmRlck51bTogJHNjb3BlLm9yZG51bWJlcixcclxuICAgICAgICAgIGNvZGU6ICRzY29wZS5wYXlJbmRleFR5cGUgPT0gJ25ld0FsaXBheScgPyAkc2NvcGUubmV3QWxpcGF5T2JqLnBheUNvZGUgOiAkc2NvcGUud2VjaGF0T2JqLnBheUNvZGUsXHJcbiAgICAgICAgICB0eXBlOiAkc2NvcGUucGF5VHlwZSxcclxuICAgICAgICAgIG90eXBlOiAob3JkVHlwZSA9PSAnZmJhJykgPyAnMicgOiAnJyxcclxuICAgICAgICAgIG9yZGVyVHlwZTogJHNjb3BlLm9yZGVyVHlwZSA/ICRzY29wZS5vcmRlclR5cGUgOiAnJyxcclxuICAgICAgICAgIHBheVByaWNlOiAkc2NvcGUuc2hvd0NOWW1vbmV5LFxyXG4gICAgICAgICAgLy8gcGF5UHJpY2U6IDAuMDEsXHJcbiAgICAgICAgICB0cmFkZVR5cGU6IDEsIC8vIOS4um5hdGl2ZVxyXG4gICAgICAgICAgY3VycmVuY3lUeXBlOiAwLFxyXG4gICAgICAgICAgb3JkZXJGbGFnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYoJHNjb3BlLnBheUluZGV4VHlwZSA9PSAnbmV3QWxpcGF5JykgcGF5RGF0YS5wYXltZW50TWV0aG9kID0gMiAvLyDmlK/ku5jlrp1cclxuICAgICAgICBpZigkc2NvcGUucGF5SW5kZXhUeXBlID09ICd3ZWNoYXQnKSBwYXlEYXRhLnBheW1lbnRNZXRob2QgPSAzIC8vIOW+ruS/oVxyXG4gICAgICAgIGxheWVyLmxvYWQoMilcclxuICAgICAgICBkc3AucG9zdEZ1bignYXBwL3BheS9wYXknLCBKU09OLnN0cmluZ2lmeShwYXlEYXRhKSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICBpZighIWRhdGEuZGF0YS5wYXlVcmwgJiYgISFkYXRhLmRhdGEub3JkZXJJZCkge1xyXG4gICAgICAgICAgICAkc2NvcGUub3JkZXJJZCA9IGRhdGEuZGF0YS5vcmRlcklkXHJcbiAgICAgICAgICAgICRzY29wZS5xcmNvZGUgPSBuZXcgd2luZG93LlFSQ29kZSgncXJDb2RlJywge1xyXG4gICAgICAgICAgICAgIHRleHQ6IGRhdGEuZGF0YS5wYXlVcmwsXHJcbiAgICAgICAgICAgICAgd2lkdGg6IDI1NCxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IDI1NCxcclxuICAgICAgICAgICAgICBjb2xvckRhcmsgOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgICAgY29sb3JMaWdodCA6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICBjb3JyZWN0TGV2ZWwgOiBRUkNvZGUuQ29ycmVjdExldmVsLkhcclxuICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICAkc2NvcGUubG9vcFBheVN1Y2Nlc3MoKVxyXG4gICAgICAgICAgICAkc2NvcGUucnVuVGltZSgpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsYXllci5tc2coJ1NvcnJ5LCB5b3UgY2Fubm90IHBheSB3aXRoIFdlQ2hhdC4gUGxlYXNlIHVzZSBvdGhlciBwYXltZW50IG1ldGhvZHMuICAnKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgLy8gU3dpdGNoIOW8gOWFsyx0eXBlOjEt5pmu6YCa6L2s6LSm77ybMi3opb/ogZTpk7booYzovazotKZcclxuICAgICAgJHNjb3BlLnN3aXRjaENsaWNrID0gKCRldmVudCwgdHlwZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVsbSA9ICRldmVudC5jdXJyZW50VGFyZ2V0XHJcbiAgICAgICAgbGV0IGFtb3VudCA9ICRzY29wZS5vcmRtb25leTtcclxuICAgICAgICBpZiAoZWxtLmNoaWxkcmVuWzBdLmNoZWNrZWQpIHtcclxuICAgICAgICAgIGVsbS5jaGlsZHJlblswXS5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICBlbG0uY2xhc3NMaXN0LnJlbW92ZShcImlzLWNoZWNrZWRcIilcclxuICAgICAgICAgICRzY29wZS5zd2l0Y2hDaGVjayA9IGZhbHNlO1xyXG4gICAgICAgICAgdHlwZSA9PSAxID8gJHNjb3BlLnRyYW5zZmVyT2JqLnNob3dQcmljZSA9IGFtb3VudCA6ICRzY29wZS50cmFuc2ZlclhMT2JqLnNob3dQcmljZSA9IGFtb3VudDtcclxuICAgICAgICAgIHR5cGUgPT0gMSA/ICRzY29wZS50cmFuc2Zlck9iai51bml0ID0gJ1VTRCcgOiAkc2NvcGUudHJhbnNmZXJYTE9iai51bml0ID0gJ1VTRCc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxheWVyLmxvYWQoMilcclxuICAgICAgICAgIGRzcC5wb3N0RnVuKCdjai9ob21lUGFnZS9leGNoYW5nZVJhdGUnLCB7XHJcbiAgICAgICAgICAgIHRvQ29kZTogJ0VVUidcclxuICAgICAgICAgIH0sIChyZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT0gJzIwMCcpIHtcclxuICAgICAgICAgICAgICBsYXllci5jbG9zZUFsbCgpO1xyXG4gICAgICAgICAgICAgIGVsbS5jaGlsZHJlblswXS5jaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBlbG0uY2xhc3NMaXN0LmFkZChcImlzLWNoZWNrZWRcIilcclxuICAgICAgICAgICAgICAkc2NvcGUuc3dpdGNoQ2hlY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICRzY29wZS5ldXJQYXlSZW1pbmRlck1vZGFsLmlzU2hvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmV4Y2hhbmdlUmF0ZSA9IHJlcy5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICBhbW91bnQgPSAoJHNjb3BlLm9yZG1vbmV5ICogJHNjb3BlLmV4Y2hhbmdlUmF0ZSkudG9GaXhlZCgyKTtcclxuICAgICAgICAgICAgICB0eXBlID09IDEgPyAkc2NvcGUudHJhbnNmZXJPYmouc2hvd1ByaWNlID0gYW1vdW50IDogJHNjb3BlLnRyYW5zZmVyWExPYmouc2hvd1ByaWNlID0gYW1vdW50O1xyXG4gICAgICAgICAgICAgIHR5cGUgPT0gMSA/ICRzY29wZS50cmFuc2Zlck9iai51bml0ID0gJ0VVUicgOiAkc2NvcGUudHJhbnNmZXJYTE9iai51bml0ID0gJ0VVUic7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfojrflj5bmsYfnjoflpLHotKUnLCByZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0IGVycm9yXCIpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vYXdpbui9rOaNouagh+etvlxyXG4gICAgICBmdW5jdGlvbiBhd2luSlMgKHN1Y2Nlc3NQYWdlTGluaykge1xyXG4gICAgICAgIGxldCBhd2NUZXh0ID0gZHNwLmdldENvb2tpZSgnYXdjJylcclxuICAgICAgICBsZXQgdXRtU291cmNlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3V0bVNvdXJjZScpO1xyXG4gICAgICAgIGlmKGF3Y1RleHQgJiYgdXRtU291cmNlID09ICdhd2luJyl7Ly/mnIlhd2lu55qEYXdj5YC8IOW5tuS4lOeZu+W9leW5s+WPsOadpea6kOaYr2F3aW5cclxuICAgICAgICAgIGxldCBjb250ZW50ID0gJzxzY3JpcHQgPicrXHJcbiAgICAgICAgICAgICAnIHZhciBBV0lOID0ge307JyArIFxyXG4gICAgICAgICAgICAgJyAgQVdJTi5UcmFja2luZyA9IHt9OycgK1xyXG4gICAgICAgICAgICAgJyBBV0lOLlRyYWNraW5nLlNhbGUgPSB7fTsnICtcclxuICAgICAgICAgICAgICcgQVdJTi5UcmFja2luZy5TYWxlLmFtb3VudCA9JyArICRzY29wZS5vcmRtb25leSArICc7JyArXHJcbiAgICAgICAgICAgICAnIEFXSU4uVHJhY2tpbmcuU2FsZS5vcmRlclJlZiA9XCInICsgJHNjb3BlLm9yZG51bWJlcisgJ1wiOycgK1xyXG4gICAgICAgICAgICAgJyBBV0lOLlRyYWNraW5nLlNhbGUucGFydHMgID1cIicgKyBcIkRFRkFVTFQ6XCIgKyAkc2NvcGUub3JkbW9uZXkrICdcIjsnICtcclxuICAgICAgICAgICAgICdBV0lOLlRyYWNraW5nLlNhbGUuY3VycmVuY3kgPSBcIlVTRFwiOycrXHJcbiAgICAgICAgICAgICAnIEFXSU4uVHJhY2tpbmcuU2FsZS50ZXN0ID0gXCInICsgYXdpblRlc01vZGUgKyAnXCI7JytcclxuICAgICAgICAgICAgICdBV0lOLlRyYWNraW5nLlNhbGUuY2hhbm5lbCA9IFwiYXdcIjsnK1xyXG4gICAgICAgICAgICAgIC8vICcgQVdJTi5UcmFja2luZy5TYWxlLmNsaWNrID1cIicgKyBhd2NUZXh0ICsgJ1wiOycrXHJcbiAgICAgICAgICAgICArJzxcXC9zY3JpcHQ+J1xyXG4gICAgICAgICAgJCgnYm9keScpLmFwcGVuZChjb250ZW50KTtcclxuICAgICAgICAgIC8vICQuZ2V0U2NyaXB0KFwiaHR0cHM6Ly93d3cuZHdpbjEuY29tLzIxNTc4LmpzXCIsZnVuY3Rpb24ocmVzLHN0YXR1cyl7XHJcbiAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKFwi5Yqg6L295a6M5q+VXCIscmVzLHN0YXR1cywnPT09PT09PT09PT09PT09PScpO1xyXG4gICAgICAgICAgLy8gfSlcclxuICAgICAgICAgIGxldCBvc3JjID0gJ2h0dHBzOi8vd3d3LmR3aW4xLmNvbS8yMTU3OC5qcyc7XHJcbiAgICAgICAgICBsZXQgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAgICAgICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xyXG4gICAgICAgICAgc2NyaXB0LnNyYyA9IG9zcmM7XHJcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiAgICAgICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHN1Y2Nlc3NQYWdlTGluayl7XHJcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHN1Y2Nlc3NQYWdlTGluaztcclxuICAgICAgICAgICAgICB9LDEwMDApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICBpZihzdWNjZXNzUGFnZUxpbmspe1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gc3VjY2Vzc1BhZ2VMaW5rO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLnNlbGVjdFRlcm1zRnVuID0gKCkgPT4ge1xyXG4gICAgICAgICRzY29wZS5zZWxlY3RUZXJtc0ZsYWcgPSAhJHNjb3BlLnNlbGVjdFRlcm1zRmxhZ1xyXG4gICAgICB9XHJcbiAgIFxyXG5cclxuICAgIH1dKTtcclxuXHJcbiAgcmV0dXJuIGFwcDtcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUxBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFTQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBUEE7QUFDQTtBQVNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQ0E7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQWJBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQVBBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQWhCQTtBQWtCQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBVUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVhBO0FBY0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBV0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/pages/mycj/payment/payment.js\n");

/***/ })

}]);