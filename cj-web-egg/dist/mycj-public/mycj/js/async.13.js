(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[13],{

/***/ "../src/pages/mycj/associated-store/associated-store.js":
/*!**************************************************************!*\
  !*** ../src/pages/mycj/associated-store/associated-store.js ***!
  \**************************************************************/
/*! exports provided: associatedStoreFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"associatedStoreFactory\", function() { return associatedStoreFactory; });\n/* harmony import */ var _src_pages_mycj_mycj_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @src/pages/mycj/mycj.router */ \"../src/pages/mycj/mycj.router.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\nfunction associatedStoreFactory(angular) {\n  // 1.店铺授权模块\n  var module = angular.module('associated-store.module', ['service', 'home-service']);\n  module.controller('associated-store.ctrl', ['$scope', '$rootScope', 'dsp', '$location', '$element', '$state', function ($scope, $rootScope, dsp, $location, $element, $state) {\n    dsp.domainData().then(function (res) {\n      // 请求成功的结果\n      $scope.iscj = res.iscj;\n      $scope.affModel = res.affModel;\n\n      if ($scope.iscj == '1') {\n        //cj\n        $scope.websiteName = 'CJ';\n      } else {\n        //客户\n        $('.online-wrap2>.img4').css({\n          top: '32px'\n        });\n        $('.online-wrap2>p.online-content').css({\n          height: '80px'\n        });\n        $('.online-wrap2>.img1').css({\n          top: '40px'\n        });\n        $('p.online-notice').css({\n          top: '150px'\n        });\n        $scope.websiteName = res.websiteName || 'CJ';\n      }\n\n      getLikeProNew();\n    });\n    dsp.setRightMinHeight();\n\n    if (!$rootScope.userInfo.token) {\n      window.location.assign('login.html');\n    }\n\n    document.querySelector(\".right-content\").scrollTo({\n      top: 0\n    });\n    $scope.hasLogin = dsp.isInLoginState();\n    var userId = $rootScope.userInfo.userId;\n    $scope.vip = $rootScope.userInfo.vip;\n    $scope.admin = $rootScope.userInfo.loginName;\n    $scope.firstName = $rootScope.userInfo.firstName;\n    var width = $(\".block-title\").width();\n    $scope.pagesize = Math.floor((width - 16) / 240);\n    $scope.pagesize2 = 24; // 默认先请求24条\n\n    $scope.totalHistoryPage;\n    $scope.pagenumc = null;\n    $rootScope.$on('app/info/userinfo', function (_, bool) {\n      return $scope.load_userinfo = bool;\n    });\n    $rootScope.$on('app/info/shopview', function (_, bool) {\n      return $scope.load_shiplist = bool;\n    });\n    $rootScope.$on('product-api/cjProductInfo/home/recommend/queryPage', function (_, bool) {\n      console.log('boolboolbool', bool);\n      $scope.load_productlist2 = bool;\n    }); // // 左侧栏收起、关闭\n    // $rootScope.$on('leftbar-light', (_, bool) => {\n    //   if (!$state.current.url.startsWith(DASHBOARD)) {\n    //     return;\n    //   }\n    //   setProductCardHeight({ $scope, $element, end: false });\n    // });\n    // $rootScope.$on('leftbar-light-end', (_, bool) => {\n    //   if (!$state.current.url.startsWith(DASHBOARD)) {\n    //     return;\n    //   }\n    //   setProductCardHeight({ $scope, $element, end: true });\n    //   const sum = calcPorductCardSum($element);\n    //   if (sum < $scope.pagesize2) { // 多出直接截掉\n    //     $scope.pagesize2 = sum;\n    //     $scope.productlist2 = $scope.productlist2.slice(0, sum);\n    //   } else { // 少于重新获取\n    //     $scope.pagesize2 = sum;\n    //     getLikeProNew();\n    //   }\n    // });\n\n    /** Lazada授权过期弹窗 */\n\n    $scope.showReAuthorize = false;\n    checkLazadaAuthorize();\n\n    function checkLazadaAuthorize() {\n      if (localStorage.getItem('vip') == 1) {\n        $scope.isVip = true;\n      } else {\n        $scope.isVip = false;\n      }\n\n      var url = \"platform-shop/authorize/shopAuthReminder\";\n      dsp.getFun(url, function (res) {\n        var data = res.data;\n\n        if (data.code == 200) {\n          if (data.data.length > 0) {\n            $scope.showReAuthorize = true;\n            $scope.expireList = data.data;\n          } else {\n            // $scope.showReAuthorize = true\n            // $scope.expireList = [{\n            //    expireTime: 10,\n            //    shopId: \"9adaaeb03eec4797abbb773e3b8e5194\",\n            //    shopName: \"CuJia Trade\",\n            //    shopPlatform: \"LAZADA\"\n            // }]\n            return;\n          }\n        }\n      });\n    } //获取弹窗组件关闭按钮传回的值\n\n\n    $scope.$on('closeReAuthorize', function (e, data) {\n      $scope.showReAuthorize = data.showReAuthorize;\n    });\n    /** 2021-01-22 优惠券 */\n\n    $scope.couponsCont = 0;\n    getCouponsCount();\n\n    function getCouponsCount() {\n      var params = {\n        userId: userId\n      };\n      dsp.postFun('operationCenterApi/apiCoupon/orderIsAvailable', params, function (_ref) {\n        var data = _ref.data;\n        var _data$data = data.data,\n            list = _data$data === void 0 ? [] : _data$data,\n            code = data.code;\n\n        if (+code === 200) {\n          $scope.couponsCont = list.length;\n        }\n      });\n    } // 获取私有库存预警\n\n\n    $scope.warningCount = 0;\n    getWarning();\n\n    function getWarning() {\n      dsp.getFun('early-warning-web/earlyWarning/getWarningSKUNum', function (res) {\n        var _res$data = res.data,\n            code = _res$data.code,\n            data = _res$data.data;\n\n        if (code != 200) {\n          layer.msg('Get the SKU num error');\n        } else {\n          if (data && data.skuNum) {\n            $scope.warningCount = data.skuNum;\n          }\n        }\n      });\n    } // 跳My Inventory\n\n\n    $scope.toMyInventory = function () {\n      location.href = 'myCJ.html#/my-inventory';\n    }; //跳转优惠券\n\n\n    $scope.jumpFun4 = function () {\n      location.href = 'newmycj/marketing/coupons';\n    };\n    /** 2021-01-22 优惠券结束  */\n\n\n    dsp.postFun('app/info/userinfo', {\n      \"data\": \"{'userId': '\" + userId + \"'}\"\n    }, clo, err);\n\n    function con(n) {\n      var obj = JSON.parse(n.data.result); // dsp.closeLoad();\n\n      $scope.shoplist = obj;\n      console.log($scope.shoplist);\n    }\n\n    function orderview(n) {\n      var obj = JSON.parse(n.data.result);\n      $scope.orderlist = obj;\n    }\n\n    function err(n) {\n      console.log(n);\n    }\n\n    dsp.postFun('app/info/orderview ', {\n      \"data\": \"{'userId': '\" + userId + \"'}\"\n    }, orderview, err);\n    getShopView();\n\n    function getShopView() {\n      //dsp.load();\n      dsp.postFun('app/info/shopview', {\n        \"data\": \"{'userId': '\" + userId + \"'}\"\n      }, con, function (n) {//dsp.closeLoad();\n      });\n    }\n    /** 待办事项 */\n\n\n    $scope.UnsycedCount = 0;\n    $scope.OverdueCount = 0;\n    $scope.DisputeCount = 0;\n    $scope.ebayTokenCount1 = 0; // token即将过期的ebay店铺\n\n    $scope.ebayTokenCount2 = 0; // token已过期的ebay店铺\n    // $scope.ebayTokenCount3 = 0; // 问题包裹\n\n    $scope.orderShelving = 0; //搁置订单\n\n    $scope.issueCount = 0; // 工单\n\n    getTodoList();\n\n    function getTodoList() {\n      // layer.load(2)\n      dsp.mypost('cj/account/newAccountTodo', {}).then(function (_ref2) {\n        var dispose = _ref2.dispose,\n            fulfillFail = _ref2.fulfillFail,\n            observer = _ref2.observer,\n            orderResend = _ref2.orderResend,\n            retMap = _ref2.retMap,\n            orderShelving = _ref2.orderShelving,\n            issueCount = _ref2.issueCount;\n        $scope.UnsycedCount = fulfillFail && fulfillFail.count ? fulfillFail.count : 0; //同步失败\n\n        $scope.OverdueCount = observer && observer.count ? observer.count : 0; //僵尸订单\n\n        $scope.DisputeCount = dispose && dispose.count ? dispose.count : 0; //纠纷\n\n        $scope.orderResend = orderResend && orderResend.count ? orderResend.count : 0; //问题包裹\n\n        $scope.orderResendDaiqu = orderResend && orderResend.daiTongZhiCount ? orderResend.daiTongZhiCount : 0; //问题包裹待自取\n\n        $scope.orderResendDaipai = orderResend && orderResend.daiZhiFuCount ? orderResend.daiZhiFuCount : 0; //问题包裹待重派\n\n        $scope.orderShelving = orderShelving && orderShelving.count ? orderShelving.count : 0; //搁置订单\n\n        $scope.issueCount = issueCount && issueCount.count ? issueCount.count : 0; // console.log(retMap)\n\n        console.log(orderResend);\n        $scope.ebayTokenCount1 = retMap && retMap.theCount ? retMap.theCount : 0;\n        $scope.ebayTokenCount2 = retMap && retMap.outCount ? retMap.outCount : 0; // $scope.ebayTokenCount3 = retMap && retMap.outCount ? retMap.outCount : 0;\n\n        console.log('getTodoList', $scope.UnsycedCount, $scope.OverdueCount, $scope.DisputeCount, $scope.orderResend); // 0 1 14 0\n      });\n    }\n\n    $scope.navTo = function (target) {\n      if (target === 'dispute') {\n        $location.path('/after-sale//');\n        $location.search({\n          filter: 1\n        });\n        return;\n      }\n\n      if (target === 'OverdueCount') return $location.path(\"todoList/1\");\n      if (target === 'UnsycedCount') return $location.path(\"todoList/2\");\n      if (target === 'ebayauth') return $location.path('authorize/Ebay');\n      if (target === 'problem') return $location.path(\"problem-package/\".concat($scope.orderResendDaipai ? 1 : 3));\n      if (target === 'issue') return $location.path(\"ticketList\");\n    }; //搁置状态\n\n\n    $scope.WAIT_RESOLVE = ['10', '69']; //待处理\n\n    $scope.ORDER_SHIPPED = ['12']; //已发货\n\n    $scope.WAIT_DELIVE = ['6', '60', '61', '62', '64', '65', '67', '70', '111', '68']; //待发货\n\n    $scope.ORDER_OVERED = ['13']; //已结束\n\n    $scope.ORDER_COMPLETED = ['7', '5']; //已完成\n    //搁置订单\n\n    function getShelveList() {\n      dsp.postFun('cj/shelving/selectShelvingInfoList', {}, function (_ref3) {\n        var data = _ref3.data;\n        $scope.shelveList = data.result;\n        $scope.shelveList.map(function (item) {\n          if ($scope.WAIT_RESOLVE.includes(item.status)) {\n            item.shelveStatus = 'Pending';\n            return item;\n          }\n\n          if ($scope.WAIT_DELIVE.includes(item.status)) {\n            item.shelveStatus = 'Processing';\n            return item;\n          }\n\n          if ($scope.ORDER_SHIPPED.includes(item.status)) {\n            item.shelveStatus = 'Dispatched';\n            return item;\n          }\n\n          if ($scope.ORDER_COMPLETED.includes(item.status)) {\n            item.shelveStatus = 'Completed';\n            return item;\n          }\n\n          if ($scope.ORDER_OVERED.includes(item.status)) {\n            item.shelveStatus = 'Closed';\n            return item;\n          }\n\n          item.shelveStatus = '--';\n        });\n      });\n    }\n\n    getShelveList();\n\n    $scope.showShelveToggle = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !$scope.shelve;\n      $scope.shelve = bool;\n    };\n\n    $scope.showShelve = function () {\n      if ($scope.orderShelving === 0) {\n        return;\n      }\n\n      $scope.shelve = true;\n    }; //跳转到todoList\n\n\n    $scope.goTodoList = function (type) {\n      location.href = \"#/todoList/\".concat(type);\n    };\n    /**待办事项结束 */\n\n\n    function clo(n) {\n      var obj = JSON.parse(n.data.result);\n      console.log(obj[0]);\n      $scope.isVerify = obj[0].STATUS === 3;\n      localStorage.setItem('emailVerifyStatus', obj[0].STATUS); // 1 邮箱已验证 3 邮箱未验证\n\n      dsp.setCookie('emailVerifyStatus', obj[0].STATUS, 3, __root__domain);\n      $scope.userID = obj[0].ID;\n      dsp.postFun('app/wallet/getUserSalesAmount', {\n        'userId': $scope.userID\n      }, function (_ref4) {\n        var data = _ref4.data;\n        $scope.salesBalance = data.data.totalSalesAmount;\n      });\n      $scope.userinfo = obj;\n      $scope.userAvatar = obj[0].img === 'https://cc-west-usa.oss-us-west-1.aliyuncs.com/ba627238-87d7-41a9-86f1-960b4cc07ebf.png' ? '' : obj[0].img;\n      $scope.WalletBalance = obj[0].balance || 0; // $scope.salesBa = Math.round($scope.salesBalance / 10);\n\n      $scope.salesBa = obj[0].availableIntegral;\n      $scope.moneyLeavl = obj[0].moneyLevel;\n      $scope.moneyLeavl > 0 && $('.lvdj-ul>li').eq($scope.moneyLeavl - 1).addClass('lv-bjli');\n      $('.val-pro').css('width', $scope.moneyLeavl / 5 * 100 + '%');\n\n      if (obj[0]) {\n        // obj[0].NAME ? obj[0].NAME.slice(0, 1).toUpperCase() : obj[0].LOGIN_NAME.slice(0, 1).toUpperCase();\n        $scope.imgname = obj[0].firstName ? obj[0].firstName.slice(0, 1).toUpperCase() : obj[0].LOGIN_NAME.slice(0, 1).toUpperCase();\n      }\n    }\n\n    $scope.showPrevHistory = function () {\n      $scope.pagenumc--;\n\n      if ($scope.pagenumc < 1) {\n        $scope.pagenumc = $scope.totalHistoryPage;\n      }\n\n      getLikeProNew();\n    };\n\n    $scope.showNextHistory = function () {\n      $scope.pagenumc++;\n\n      if ($scope.pagenumc > $scope.totalHistoryPage) {\n        $scope.pagenumc = 1;\n      }\n\n      getLikeProNew();\n    };\n\n    $scope.productlist2 = [];\n    $scope.clickNum = 0;\n    var _window = window,\n        getInterfereProdId = _window.getInterfereProdId,\n        getInterfereProdVersion = _window.getInterfereProdVersion;\n    var getVersion = getInterfereProdVersion && getInterfereProdVersion();\n\n    function getLikeProNew(msgLoading) {\n      var interfereProdVersion = getVersion && getVersion() || undefined;\n      $(\".PrintContent .hasListData\").busyLoad(\"show\", {\n        color: '#FF7700',\n        background: 'transparent'\n      });\n      dsp.postFun('elastic-api/recommend/search/myCj/queryPage', {\n        size: $scope.pagesize2,\n        page: $scope.pagenumc,\n        requestSource: '0',\n        // 请求来源  0 : web端 1 : M站/App\n        categoryIdList: getInterfereProdId && getInterfereProdId(),\n        // 干预的类目的id集合\n        versionNum: interfereProdVersion // 版本号\n\n      }, ccn, err);\n\n      function ccn(n) {\n        if (n.data.success) {\n          msgLoading && msgLoading.hide();\n\n          if (interfereProdVersion == undefined) {\n            // 没有版本号的时候，设置\n            getVersion && getVersion(n.data.data.content[0] && n.data.data.content[0].versionNum);\n          }\n\n          $(\".PrintContent .hasListData\").busyLoad(\"hide\");\n          $scope.productlist2 = [].concat(_toConsumableArray($scope.productlist2), _toConsumableArray(n.data.data.content));\n          $scope.pagenumc = parseInt(n.data.data.pageNumber);\n          $scope.totalHistoryPage = parseInt(n.data.data.totalPages);\n          $scope.$broadcast('prodCardList-data', {\n            data: $scope.productlist2,\n            isMore: $scope.clickNum < $scope.totalHistoryPage\n          });\n        }\n      }\n    }\n\n    $scope.$on('prodCardList-fa', function (d, msgLoading) {\n      $scope.clickNum += 1;\n      $scope.pagenumc += 1;\n\n      if ($scope.clickNum >= $scope.totalHistoryPage) {\n        msgLoading && msgLoading.hide();\n        return;\n      } else {\n        if ($scope.pagenumc > $scope.totalHistoryPage) {\n          $scope.pagenumc = 1;\n        }\n      }\n\n      getLikeProNew(msgLoading);\n    });\n    var selectData = {};\n\n    $scope.jumpFun1 = function () {\n      location.href = '#/sourcing';\n    };\n\n    $scope.jumpFun2 = function () {\n      location.href = '/newmycj/dropshipping/orderManage?active=2';\n    };\n\n    $scope.jumpFun3 = function () {\n      location.href = '/newmycj/dropshipping/orderManage?active=3';\n    }; //关闭提示拉取订单的弹框\n\n\n    $('.close-btn').click(function () {\n      $('.tips-con').hide();\n    });\n    setTimeout(function () {\n      $('.tips-con').animate({\n        opacity: '0'\n      }, 2000, function () {\n        $('.tips-con').hide();\n      });\n    }, 5000);\n    /*通知*/\n\n    $scope.isLookNotice = sessionStorage.getItem('isLookNotice') || '0';\n\n    $scope.IKnow = function () {\n      $scope.isLookNotice = true;\n      sessionStorage.setItem('isLookNotice', '1');\n    };\n\n    $scope.CheckNow = function (id) {\n      $scope.isLookNotice = true;\n      sessionStorage.setItem('isLookNotice', '1');\n      location.href = 'myCJ.html#/message-list/' + id;\n    };\n    /*验证邮箱*/\n\n\n    $scope.handleVerify = function () {\n      dsp.isVerifyEmail();\n    }; //listOrsource按钮\n\n\n    $scope.listOrsourceBtn = function (item, $event) {\n      $event.stopPropagation();\n\n      if (item.ID) {\n        window.open('product-detail.html?id=' + item.ID + '&list=1');\n      } else if (item.id) {\n        window.open('product-detail.html?id=' + item.id + '&list=1');\n      }\n    }; // 基于准备好的dom，初始化echarts实例\n\n\n    $scope.dayChange = function (value) {\n      $scope.chartInit(value);\n    };\n\n    $scope.chartAreaShow = false;\n\n    $scope.chartInit = function (filter) {\n      var params = filter ? {\n        days: filter\n      } : {};\n      dsp.postFun('newlogistics/logistics/statistics', JSON.stringify(params), function (_ref5) {\n        var data = _ref5.data;\n        var statusCode = data.statusCode,\n            result = data.result;\n\n        if (statusCode == 200) {\n          chartInit(result);\n        }\n      }, function (err) {});\n    };\n\n    function chartInit(_ref6) {\n      var statistics = _ref6.statistics,\n          statusInfo = _ref6.statusInfo;\n      var deliveredVal = statusInfo['Delivered'],\n          deliveringVal = statusInfo['No Tracking Infor Found'];\n      if (!statistics || !statistics.length) return console.log('no data');\n      var newStatistics = statistics.map(function (item) {\n        var averageDeliveryDay = item.averageDeliveryDay,\n            logisticsName = item.logisticsName,\n            deliveryCount = item.deliveryCount,\n            notDeliveryCount = item.notDeliveryCount;\n        var deliveredRate = Math.floor(deliveryCount / (deliveryCount + notDeliveryCount) * 100); // 此处为百分比数值  缺少%\n\n        return {\n          averageDeliveryDay: averageDeliveryDay,\n          logisticsName: logisticsName,\n          deliveryCount: deliveryCount,\n          notDeliveryCount: notDeliveryCount,\n          deliveredRate: deliveredRate\n        }; // averageDeliveryDay => 折线图数据 deliveryCount + notDeliveryCount => 柱状图数据  deliveredRate => 饼状图order rate数据\n      });\n      var color = {\n        //颜色皮肤 会员及普通账户\n        vip: {\n          //会员账户\n          colorPieArr: ['#7ED321', '#A3A0FB', '#FF8373', '#4A90E2', '#F76B1C', '#FDD3A0'],\n          colorBar: {\n            delivered: '#F76B1C',\n            delivering: '#FEE0BB'\n          },\n          colorLine: '#F76B1C',\n          rgbLine: ['rgba(247, 107, 28, 1)', 'rgba(247, 107, 28, 0.5)', 'rgba(247, 107, 28, 0.3)', 'rgba(247, 107, 28, 0)']\n        },\n        common: {\n          //普通账户\n          colorPieArr: ['#FEB35E', '#C4B098', '#759ECA', '#05A2D2', '#A4B452', '#FDD3A0'],\n          colorBar: {\n            delivered: '#FDA84C',\n            delivering: '#F4DDAA'\n          },\n          colorLine: '#FDAB52',\n          rgbLine: ['rgba(253, 171, 82, 1)', 'rgba(253, 171, 82, .5)', 'rgba(253, 171, 82, 0.3)', 'rgba(253, 171, 82, 0)']\n        }\n      };\n      var role = $scope.vip === '1' ? 'vip' : 'common'; //角色设置   localStorage vip => 1 else common\n\n      var areaStyle = {\n        //折线阴影设置\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 0,\n          x2: 0,\n          y2: 1,\n          colorStops: [{\n            offset: 0,\n            color: color[role].rgbLine[0] // 0% 处的颜色\n\n          }, {\n            offset: 0.2,\n            color: color[role].rgbLine[1] // 100% 处的颜色\n\n          }, {\n            offset: 0.4,\n            color: color[role].rgbLine[2] // 100% 处的颜色\n\n          }, {\n            offset: 0.6,\n            color: color[role].rgbLine[3] // 100% 处的颜色\n\n          }],\n          global: false // 缺省为 false\n\n        }\n      };\n      var pieData = {\n        // 饼图cicle-delivery数据\n        legend: [],\n        series: []\n      };\n      var pieNewStatistics = newStatistics.slice(0, 6);\n      pieData.legend = pieNewStatistics.map(function (_ref7) {\n        var logisticsName = _ref7.logisticsName;\n        return {\n          name: logisticsName,\n          icon: 'circle'\n        };\n      });\n      pieData.series = pieNewStatistics.map(function (_ref8, i) {\n        var logisticsName = _ref8.logisticsName,\n            deliveredRate = _ref8.deliveredRate;\n        return {\n          name: logisticsName,\n          value: deliveredRate,\n          itemStyle: {\n            color: color[role].colorPieArr[i]\n          }\n        };\n      });\n\n      if (newStatistics.length > 6) {\n        // 饼图格式化数据 超过6种 全部计算为 others\n        var otherPieNewStatistics = statistics.slice(6);\n        pieData.legend.push({\n          name: 'Others',\n          icon: 'circle'\n        });\n        var deliveryCountSum = 0;\n        var notDeliveryCountSum = 0;\n        otherPieNewStatistics.forEach(function (_ref9) {\n          var deliveryCount = _ref9.deliveryCount,\n              notDeliveryCount = _ref9.notDeliveryCount;\n          deliveryCountSum += deliveryCount;\n          notDeliveryCountSum += notDeliveryCount;\n        });\n        var otherRate = Math.floor(deliveryCountSum / (deliveryCountSum + notDeliveryCountSum) * 100);\n        pieData.series.push({\n          name: 'Others',\n          value: otherRate,\n          itemStyle: {\n            color: color[role].colorPieArr[6]\n          }\n        });\n      }\n\n      var orderRateData = {\n        //饼图order-rate数据\n        legend: [//说明栏\n        {\n          name: 'Delivered',\n          icon: 'circle'\n        }, {\n          name: 'No Tracking Info Found',\n          icon: 'circle'\n        }],\n        series: [{\n          value: deliveredVal,\n          name: 'Delivered',\n          itemStyle: {\n            color: color[role].colorPieArr[0]\n          }\n        }, //\n        {\n          value: deliveringVal,\n          name: 'No Tracking Info Found',\n          itemStyle: {\n            color: color[role].colorPieArr[1]\n          }\n        }]\n      };\n      var data = {\n        // 柱状+折线 图 数据\n        legend: ['Delivered', 'Ready for Delivery', 'Average Delivery Time'],\n        series: [{\n          name: 'Delivered',\n          type: 'bar',\n          itemStyle: {\n            color: color[role].colorBar.delivered\n          },\n          data: []\n        }, {\n          name: 'Ready for Delivery',\n          type: 'bar',\n          itemStyle: {\n            color: color[role].colorBar.delivering\n          },\n          data: []\n        }, {\n          name: 'Average Delivery Time',\n          type: 'line',\n          yAxisIndex: 1,\n          lineStyle: {\n            color: color[role].colorLine\n          },\n          areaStyle: areaStyle,\n          data: []\n        }]\n      };\n      data.series[0].data = newStatistics.map(function (_ref10) {\n        var deliveryCount = _ref10.deliveryCount;\n        return {\n          value: deliveryCount\n        };\n      });\n      data.series[1].data = newStatistics.map(function (_ref11) {\n        var notDeliveryCount = _ref11.notDeliveryCount;\n        return {\n          value: notDeliveryCount\n        };\n      });\n      data.series[2].data = newStatistics.map(function (_ref12) {\n        var averageDeliveryDay = _ref12.averageDeliveryDay;\n        return {\n          value: averageDeliveryDay\n        };\n      });\n      var xAxisData = newStatistics.map(function (_ref13) {\n        var logisticsName = _ref13.logisticsName;\n        return {\n          value: logisticsName\n        };\n      });\n      var xAxisDataLen = xAxisData.length;\n\n      if (xAxisDataLen < 5) {\n        //少于5条数据 自动补足横轴补足 适应宽度\n        for (var i = 0; i < 5 - xAxisDataLen; i++) {\n          xAxisData.push({\n            value: ''\n          });\n        }\n      }\n\n      var option = {\n        //折线图 柱状图 默认配置\n        tooltip: {\n          trigger: 'axis'\n        },\n        calculable: true,\n        dataZoom: {\n          //\n          show: true,\n          realtime: true,\n          //是否实时变化\n          // start: 0, //显示区域百分比\n          // end: 90,\n          startValue: 0,\n          endValue: 6\n        },\n        legend: {\n          data: data.legend,\n          itemWidth: 24,\n          itemHeight: 10\n        },\n        xAxis: [{\n          type: 'category',\n          data: xAxisData\n        }],\n        yAxis: [{\n          type: 'value',\n          name: 'Orders',\n          min: function min(value) {\n            return value.min;\n          },\n          max: function max(value) {\n            return value.max + value.max * 0.05;\n          }\n        }, {\n          type: 'value',\n          name: 'Average Delivery Time/Day(s)',\n          min: function min(value) {\n            return value.min;\n          },\n          max: function max(value) {\n            return value.max + value.max * 0.05;\n          }\n        }],\n        series: data.series\n      };\n      var pieOption = {\n        //饼状图delivery-rate默认配置\n        title: {\n          text: 'Successful Delivery Rate',\n          x: 'left',\n          padding: [0, 0, 0, 26]\n        },\n        legend: {\n          orient: 'vertical',\n          top: 76,\n          left: 260,\n          itemWidth: 10,\n          itemHeight: 10,\n          data: pieData.legend\n        },\n        tooltip: {\n          //value => c\n          trigger: 'item',\n          formatter: \"Compare with current shipping: {c}% <br/>Compare with all shipping: {d}%\"\n        },\n        calculable: true,\n        series: [{\n          type: 'pie',\n          radius: [40, 100],\n          //半径 R r\n          center: ['30%', '60%'],\n          startAngle: 135,\n          data: pieData.series,\n          label: {\n            normal: {\n              show: false,\n              position: 'center'\n            }\n          }\n        }]\n      };\n      var pieDeliveryOption = {\n        //饼状图order-status默认配置\n        title: {\n          text: 'Order Status',\n          x: 'left',\n          padding: [0, 0, 0, 80]\n        },\n        legend: {\n          orient: 'vertical',\n          top: 76,\n          left: 260,\n          itemWidth: 10,\n          itemHeight: 10,\n          data: orderRateData.legend\n        },\n        tooltip: {\n          trigger: 'item',\n          formatter: \"{b}: {c} <br/>CJ Order Rate: {d}%\"\n        },\n        calculable: true,\n        series: [{\n          type: 'pie',\n          radius: [40, 100],\n          //半径 R r\n          center: ['30%', '60%'],\n          startAngle: 135,\n          data: orderRateData.series,\n          label: {\n            normal: {\n              show: false,\n              position: 'center'\n            }\n          }\n        }]\n      }; // 基于准备好的dom，初始化 echarts 图表\n\n      var myChart = echarts.init(document.getElementById('main'));\n      var myPieChart = echarts.init(document.getElementById('cicle-delivery-rate'));\n      var myPieDeliveryChart = echarts.init(document.getElementById('cicle-order-status')); // 为echarts对象加载数据\n\n      myChart.setOption(option);\n      myPieChart.setOption(pieOption);\n      myPieDeliveryChart.setOption(pieDeliveryOption);\n      $scope.chartAreaShow = true;\n      var echartsArea = document.getElementById('echartsArea');\n      var lineChart = document.getElementById('main');\n      setTimeout(function () {\n        chartAdapt();\n      }); //线状柱形图 适应屏幕\n\n      var debounce = function debounce(fn, delay) {\n        //延时函数\n        var lastTime = Date.now();\n        return function () {\n          var currentTime = Date.now();\n\n          if (currentTime - lastTime > delay) {\n            lastTime = currentTime;\n            fn();\n          }\n        };\n      };\n\n      window.onresize = debounce(chartAdapt, 500);\n\n      function chartAdapt() {\n        var width = echartsArea.getBoundingClientRect().width;\n\n        if (width < 1300) {\n          lineChart.style.width = '700px';\n          lineChart.style.height = '400px';\n          myChart.resize();\n        } else {\n          lineChart.style.width = '900px';\n          lineChart.style.height = '500px';\n          myChart.resize();\n        }\n      }\n    }\n\n    $scope.chartInit();\n    $scope.tipShow = false;\n    /**\r\n     * 11-28  用户分析\r\n     */\n\n    var CreateCircle = /*#__PURE__*/function () {\n      function CreateCircle(container, circleArr) {\n        _classCallCheck(this, CreateCircle);\n\n        this.circleArr = circleArr;\n        this.container = container;\n        container.innerHTML = null;\n        var rec = container.getBoundingClientRect();\n        var width = rec.width;\n        var w = 937,\n            h = 278;\n        this.n = width / w;\n        container.style.height = this.n * h + 'px';\n        this.debounceHide = debounce(this.hideTip, 0.1);\n        this.delay = 0.1; //弹窗消失延迟时间\n      }\n\n      _createClass(CreateCircle, [{\n        key: \"init\",\n        value: function init() {\n          var _this = this;\n\n          this.circleArr.map(function (item) {\n            return Object.assign(item, {\n              style: _this.calcuCircleStyle(item)\n            });\n          }).forEach(function (cricle, i) {\n            cricle.className.push(cricle.score > 0 ? 'circle-1' : 'circle-0');\n\n            _this.createCircle(cricle, i);\n          });\n        }\n      }, {\n        key: \"calcuCircleStyle\",\n        value: function calcuCircleStyle(_ref14) {\n          var left = _ref14.left,\n              top = _ref14.top,\n              diameter = _ref14.diameter;\n          //计算 圆 的样式\n          var n = this.n;\n          left = Math.ceil(left * n) + 'px';\n          top = Math.ceil(top * n) + 'px';\n          var width = Math.ceil(diameter * n) + 'px';\n          var height = Math.ceil(diameter * n) + 'px';\n          return {\n            left: left,\n            top: top,\n            width: width,\n            height: height\n          };\n        }\n      }, {\n        key: \"createCircle\",\n        value: function createCircle(cricle, i) {\n          var style = cricle.style,\n              _cricle$tag = cricle.tag,\n              tag = _cricle$tag === void 0 ? 'div' : _cricle$tag,\n              className = cricle.className,\n              title = cricle.title,\n              score = cricle.score;\n          var dom = document.createElement(tag);\n          var contentWrap = document.createElement('div');\n          dom.appendChild(contentWrap);\n          var titleDom = document.createElement('div');\n          var scoreDom = document.createElement('div');\n          score = '+' + score;\n          var scoreNode = document.createTextNode(score);\n          var titleNode = document.createTextNode(title);\n          titleDom.appendChild(titleNode);\n          scoreDom.appendChild(scoreNode);\n          contentWrap.appendChild(titleDom);\n          contentWrap.appendChild(scoreDom); //   dom.innerText = title;\n\n          dom.data = cricle; //存储数据 desc弹框内容  url 弹框 点击跳转页面\n\n          dom.classList.add('circle');\n          this.addDomStyle(dom, style);\n          this.addDomClass(dom, className);\n          this.addDomClass(dom, [\"circle-i\".concat(i)]);\n          this.addDomEvent(dom);\n          this.addDomTip(dom);\n          this.addDomClass(scoreDom, ['score']);\n          this.container.appendChild(dom);\n          if (!title) scoreDom.innerText = '';\n        }\n      }, {\n        key: \"addDomStyle\",\n        value: function addDomStyle(dom, style) {\n          for (var prop in style) {\n            if (style.hasOwnProperty(prop)) {\n              var val = style[prop];\n              dom.style[prop] = val;\n            }\n          }\n        }\n      }, {\n        key: \"addDomClass\",\n        value: function addDomClass(dom, className) {\n          typeof className === 'string' && dom.classList.add(className);\n          Array.isArray(className) && dom.classList.add.apply(dom.classList, className);\n        }\n      }, {\n        key: \"addDomEvent\",\n        value: function addDomEvent(dom) {\n          var _this2 = this;\n\n          if (!dom.data.title) return; //有一个装饰的球不需要 title没有 则不绑定弹窗书剑\n\n          dom.addEventListener('mouseenter', function (ev) {\n            _this2.showTip(dom);\n          });\n          dom.addEventListener('mouseleave', function (ev) {\n            _this2.hideTip(dom);\n          });\n        }\n      }, {\n        key: \"addDomTip\",\n        value: function addDomTip(dom) {\n          var _this3 = this;\n\n          //创建弹框 Tip\n          var tip = document.createElement('p');\n          tip.addEventListener('click', function () {\n            _this3.handleTipAction(dom.data);\n          });\n          var _dom$data = dom.data,\n              desc = _dom$data.desc,\n              title = _dom$data.title; // tip.innerText = desc;\n\n          tip.innerHTML = desc;\n          tip.classList.add('cp');\n          var style = {\n            position: 'absolute',\n            display: 'none'\n          };\n          this.addDomClass(tip, ['tip-wrap', 'wrap-text']);\n          this.addDomStyle(tip, style);\n          dom.appendChild(tip);\n          dom.childTip = tip;\n          var domAll = document.querySelectorAll('.kanbanLink');\n\n          for (var i = 0; i < domAll.length; i++) {\n            if (domAll[i].innerText == 'Elites') {\n              domAll[i].addEventListener('click', function () {\n                $scope.retElitesUrl();\n              });\n            }\n          }\n        }\n      }, {\n        key: \"showTip\",\n        value: function showTip(dom) {\n          clearTimeout(dom.timer);\n          dom.childTip.style.display = 'block';\n          dom.style.zIndex = 2;\n          var width = dom.data.style.width;\n\n          var _dom$childTip$getBoun = dom.childTip.getBoundingClientRect(),\n              tipWidth = _dom$childTip$getBoun.width,\n              tipHeight = _dom$childTip$getBoun.height;\n\n          var style = {\n            display: 'block',\n            left: (parseInt(width) - tipWidth) / 2 + 'px',\n            top: -tipHeight - Math.ceil(4 * this.n) + 'px'\n          };\n          this.addDomStyle(dom.childTip, style);\n        }\n      }, {\n        key: \"hideTip\",\n        value: function hideTip(dom) {\n          dom.timer = setTimeout(function () {\n            clearTimeout(dom.timer);\n            dom.childTip.style.display = 'none';\n            dom.style.zIndex = 0;\n          }, this.delay * 1000);\n        }\n      }, {\n        key: \"handleTipAction\",\n        value: function handleTipAction(_ref15) {\n          var url = _ref15.url,\n              fn = _ref15.fn;\n\n          if (url) {\n            typeof url === 'string' && this.navTo(url);\n            typeof url === 'function' && this.navTo(url());\n          }\n\n          if (fn) {\n            typeof fn === 'function' && fn();\n          }\n        }\n      }, {\n        key: \"navTo\",\n        value: function navTo(href) {\n          if (!href) return;\n          var a = document.createElement('a');\n          a.href = href;\n          a.setAttribute('target', '_blank');\n          a.click();\n          a = null;\n        }\n      }]);\n\n      return CreateCircle;\n    }();\n\n    var defaultCircleArr = retDefaultCircleArr();\n\n    function retDefaultCircleArr() {\n      //后端决定 title desc score  顺序 对接  前端决定对应的 功能跳转页面\n      var defaultCircleArr = [{\n        className: [],\n        score: 0,\n        desc: '',\n        title: '',\n        diameter: 94,\n        left: 0,\n        top: 38\n      }, //邮箱验证\n      {\n        className: [],\n        score: 0,\n        desc: '',\n        title: '',\n        diameter: 118,\n        left: 51,\n        top: 160\n      }, //授权状态\n      {\n        className: [],\n        score: 0,\n        desc: '',\n        title: '',\n        diameter: 84,\n        left: 152,\n        top: 71\n      }, //手机引导页 手机上下单并付款2\n      {\n        className: [],\n        score: 0,\n        desc: '',\n        title: '',\n        diameter: 118,\n        left: 230,\n        top: 160\n      }, //运费试算\n      {\n        className: [],\n        score: 0,\n        desc: '',\n        title: '',\n        diameter: 104,\n        left: 262,\n        top: 15\n      }, //web端下单并付款\n      {\n        className: [],\n        score: 0,\n        desc: '',\n        title: '',\n        diameter: 76,\n        left: 383,\n        top: 109\n      }, //刊登状态\n      {\n        className: [],\n        score: 0,\n        desc: '',\n        title: '',\n        diameter: 76,\n        left: 449,\n        top: 217\n      }, //关联状态\n      {\n        className: [],\n        score: 0,\n        desc: '',\n        title: '',\n        diameter: 158,\n        left: 465,\n        top: 46\n      }, //搜品状态\n      {\n        className: [],\n        score: 0,\n        desc: '',\n        title: '',\n        diameter: 80,\n        left: 645,\n        top: 0\n      }, //Excel订单\n      {\n        className: [],\n        score: 0,\n        desc: '',\n        title: '',\n        diameter: 96,\n        left: 652,\n        top: 127\n      }, //google插件\n      {\n        className: [],\n        score: 0,\n        desc: '',\n        title: '',\n        diameter: 114,\n        left: 767,\n        top: 174\n      }, //和CJ客服聊天\n      {\n        className: [],\n        score: 0,\n        desc: '',\n        title: '',\n        diameter: 106,\n        left: 774,\n        top: 44\n      }, //在Elites留言\n      {\n        className: ['circle-2'],\n        score: 0,\n        url: '',\n        desc: '',\n        title: '',\n        diameter: 32,\n        left: 905,\n        top: 57\n      }];\n      var circleFunc = [{\n        url: '/myCJ.html#/authorize/Shopify?addstore=1'\n      }, //授权状态\n      {\n        url: '/cjAppDownload.html'\n      }, //手机引导页 手机上下单并付款2   old --->> /leaflet.html\n      {\n        url: 'https://cjdropshipping.com/article-details/75'\n      }, //关联状态 old --->> /myCJ.html#/products-connection/connected\n      {\n        url: '/myCJ.html#/myCJShippingCalculation'\n      }, //运费试算 old --->> url: () => retGoodsDetailUrl('calc')\n      {\n        url: 'https://cjdropshipping.com/article-details/53'\n      }, //邮箱验证 old --->> /myCJ.html#/profile\n      {\n        url: 'https://cjdropshipping.com/article-details/8'\n      }, //搜品状态 old --->> /myCJ.html#/sourcing\n      {\n        url: 'https://cjdropshipping.com/article-details/25'\n      }, //刊登状态 old --->> url: () => retGoodsDetailUrl('list')\n      {\n        url: 'https://chrome.google.com/webstore/detail/cjdropshipping/mbndljkgaoailfnpeodnlejigmkdpokb'\n      }, //google插件 old --->> https://play.google.com/store/apps/details?id=com.cjdropshipping.app\n      {\n        url: function url() {\n          return retElitesUrl();\n        }\n      }, //在Elites留言\n      {\n        url: 'https://chat.cjdropshipping.com/',\n        fn: function fn() {\n          talk();\n        }\n      }, //和CJ客服聊天\n      {\n        url: 'https://cjdropshipping.com/article-details/162'\n      }, //Excel订单 old --->> /myCJ.html#/direct-orders\n      {\n        url: 'https://cjdropshipping.com/article-details/150'\n      } //web端下单并付款 old --->> /myCJ.html#/direct-orders\n      ];\n      return defaultCircleArr; // return defaultCircleArr.map((item, i) => circleFunc[i] ? Object.assign(item, circleFunc[i]) : item)\n      // Authorization                授权状态\n      // Ordering and Paying on App   手机上下单并付款2\n      // Connection                   关联状态\n      // Using shipping calculator    运费试算\n      // Email verification           邮箱验证\n      // Sourcing                     搜品状态\n      // List                         刊登状态\n      // CJ google extension          google插件\n      // Posting on Elite             在Elites留言\n      // Talking with CJ              和CJ客服聊天\n      // Ordering by Excel            Excel订单\n      // Ordering on web              web端下单并付款\n    }\n\n    $scope.userAnalysisShow = false; // 控制显示 用户画像\n\n    $scope.retElitesUrl = function () {\n      var new_url = dsp.getElitesUrl();\n      if (new_url) window.open(new_url);\n    };\n\n    function retElitesUrl() {\n      // : `https://elites.cjdropshipping.com/cross?token=${token}&_t=${Date.now()}`;\n      return dsp.getElitesUrl();\n    }\n\n    var goodsId = null; //跳转 商品详情页id\n\n    function retGoodsDetailUrl(action) {\n      var id = goodsId || '';\n      return \"/product-detail.html?id=\".concat(id, \"&action=\").concat(action);\n    }\n\n    function talk() {\n      //生产环境 才能 启用\n      window.environment === '##production##' && window.postMessage({\n        flag: \"profile-concat\"\n      }, \"*\");\n    }\n    /** echarts 画图 */\n\n\n    if (typeof echarts === 'undefined') {\n      window.addEventListener('load-script', function (ev) {\n        if (ev.detail.name === 'echarts.common.min.js') {\n          getAnalysisInfo();\n        }\n      });\n    } else {\n      getAnalysisInfo();\n    }\n\n    function getAnalysisInfo() {\n      // layer.load(2);\n      var url = 'erp/userAttribute/getAttributeList';\n      dsp.mypost(url, {}).then(function (res) {\n        // const { data, code } = res;\n        console.log('getAnalysisInfo res---> ', res);\n        var circleArr = defaultCircleArr.map(function (item, i) {\n          var _ref16 = res[i] || {},\n              _ref16$name_en = _ref16.name_en,\n              name_en = _ref16$name_en === void 0 ? '' : _ref16$name_en,\n              _ref16$desc_en = _ref16.desc_en,\n              desc_en = _ref16$desc_en === void 0 ? '' : _ref16$desc_en,\n              id = _ref16.id;\n\n          return Object.assign(item, {\n            title: name_en,\n            desc: desc_en,\n            id: id\n          });\n        });\n        getScoreInfo(circleArr);\n      }).catch(function (err) {\n        console.log('getAnalysisInfo err---> ', err);\n      });\n    }\n\n    function getScoreInfo(circleArr) {\n      //获取相关分值\n      // layer.load(2);\n      var url = 'erp/userAttribute/getAttributeScoreByUserId';\n      var cjcrx = !!document.body.dataset.cjcrx;\n      dsp.mypost(url, {\n        cjcrx: cjcrx\n      }).then(function (res) {\n        // const { data, code } = res;\n        $scope.userAnalysisShow = true;\n        console.log('getScoreInfo res---> ', res);\n        circleArr = circleArr.map(function (item) {\n          var scoreInfo = res.find(function (scoreItem) {\n            return scoreItem.attribute_id == item.id;\n          }) || {}; // console.log('scoreInfo', scoreInfo)\n\n          return Object.assign(item, {\n            score: scoreInfo.score || 0\n          });\n        });\n        console.log('circleArr  --->>  ', circleArr);\n        $scope.circleArr = circleArr;\n        var myScore = circleArr.reduce(function (prev, next) {\n          return prev + next.score;\n        }, 0);\n        $scope.fillStyle = {\n          width: myScore + '%'\n        };\n        var coin = Math.ceil(myScore / 20) || 1; //coin数量\n\n        $scope.coinImg = \"/static/image/public-img/coin\".concat(coin, \".png\");\n        $scope.level = Math.floor(myScore / 10);\n        $scope.isjifenDrop = $scope.level * 10 < 60;\n        console.log('myScore  --->>  ', myScore);\n        init(circleArr);\n      }).catch(function (err) {\n        console.log('getScoreInfo err---> ', err);\n        init(circleArr);\n      });\n    }\n\n    function init(circleArr) {\n      //用户分析 初始化\n      var container = document.getElementById('container');\n\n      if (!container) {\n        return;\n      }\n\n      function createCircle() {\n        var circle = new CreateCircle(container, circleArr);\n        circle.init();\n      }\n\n      var debounceCreateCircle = debounce(createCircle, 0.1);\n      debounceCreateCircle();\n\n      window.onresize = function () {\n        debounceCreateCircle();\n      };\n    }\n\n    function createLevelLineDate() {\n      //lv1 - lv10\n      var arr = [];\n\n      for (var i = 0; i < 11; i++) {\n        arr.push({\n          lv: \"\".concat(i),\n          score: i * 10\n        });\n      }\n\n      return arr;\n    }\n\n    $scope.levelLineData = createLevelLineDate();\n\n    function debounce(fn) {\n      var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      //防抖 fn\n      var timer = null;\n      return function () {\n        var _this4 = this;\n\n        clearTimeout(timer);\n        var args = arguments;\n        timer = setTimeout(function () {\n          fn.apply(_this4, args);\n        }, delay * 1000);\n      };\n    }\n\n    setTimeout(function () {\n      return getTrendingProducts();\n    }, 500);\n\n    function getTrendingProducts() {\n      //获取猜你喜欢 商品列表 用于 取第一个 商品id 作为 用户分析\n      // layer.load(2);\n      var url = 'cj/homePage/selectNewProductList';\n      dsp.mypost(url, {\n        timeFlag: 'Dropshipping',\n        pageSize: 6\n      }).then(function (res) {\n        console.log('getTrendingProducts res', res);\n        goodsId = res[0] ? res[0].id : null;\n      }).catch(function (err) {\n        console.log('getTrendingProducts err', err);\n      });\n    }\n    /** 2020-04-09 积分可折叠 */\n\n\n    $scope.shrinkDropFn = function () {\n      //展开收起\n      $scope.isjifenDrop = !$scope.isjifenDrop;\n    };\n  }]);\n  return module;\n} // 计算商品卡片数量\n\nfunction calcPorductCardSum($element) {\n  var boxWidth = $element.find('#js-product-card-wrap').width();\n  var prodCardWidth = 250; // 一个商品卡片宽度\n\n  var onLineSum = Math.floor(boxWidth / prodCardWidth); // 一行排列数量\n  // console.log(onLineSum * 2);\n\n  return onLineSum * 2; // 保留两排\n} // 收起、打开左侧栏动态调整\n\n\nfunction setProductCardHeight(_ref17) {\n  var $scope = _ref17.$scope,\n      $element = _ref17.$element,\n      end = _ref17.end;\n\n  if (end) {\n    $scope.productCardStyle = {};\n  } else {\n    // 收起、展开过程中不要把多余的图片露出来\n    var boxHeight = $element.find('#js-product-card-wrap').height();\n    $scope.productCardStyle = {\n      \"max-height\": \"\".concat(boxHeight, \"px\"),\n      \"overflow\": \"hidden\"\n    };\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovYXNzb2NpYXRlZC1zdG9yZS9hc3NvY2lhdGVkLXN0b3JlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9wYWdlcy9teWNqL2Fzc29jaWF0ZWQtc3RvcmUvYXNzb2NpYXRlZC1zdG9yZS5qcz81ODhlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERBU0hCT0FSRCB9IGZyb20gJ0BzcmMvcGFnZXMvbXljai9teWNqLnJvdXRlcic7XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFzc29jaWF0ZWRTdG9yZUZhY3RvcnkoYW5ndWxhcikge1xyXG4gIC8vIDEu5bqX6ZO65o6I5p2D5qih5Z2XXHJcbiAgY29uc3QgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Fzc29jaWF0ZWQtc3RvcmUubW9kdWxlJywgWydzZXJ2aWNlJywgJ2hvbWUtc2VydmljZSddKTtcclxuXHJcbiAgbW9kdWxlLmNvbnRyb2xsZXIoJ2Fzc29jaWF0ZWQtc3RvcmUuY3RybCcsXHJcbiAgICBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJ2RzcCcsICckbG9jYXRpb24nLCAnJGVsZW1lbnQnLCAnJHN0YXRlJywgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgZHNwLCAkbG9jYXRpb24sICRlbGVtZW50LCAkc3RhdGUpIHtcclxuICAgICAgZHNwLmRvbWFpbkRhdGEoKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAvLyDor7fmsYLmiJDlip/nmoTnu5PmnpxcclxuICAgICAgICAkc2NvcGUuaXNjaiA9IHJlcy5pc2NqO1xyXG4gICAgICAgICRzY29wZS5hZmZNb2RlbCA9IHJlcy5hZmZNb2RlbDtcclxuICAgICAgICBpZiAoJHNjb3BlLmlzY2ogPT0gJzEnKSB7XHJcbiAgICAgICAgICAvL2NqXHJcbiAgICAgICAgICAkc2NvcGUud2Vic2l0ZU5hbWUgPSAnQ0onO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvL+WuouaIt1xyXG4gICAgICAgICAgJCgnLm9ubGluZS13cmFwMj4uaW1nNCcpLmNzcyh7IHRvcDogJzMycHgnIH0pXHJcbiAgICAgICAgICAkKCcub25saW5lLXdyYXAyPnAub25saW5lLWNvbnRlbnQnKS5jc3MoeyBoZWlnaHQ6ICc4MHB4JyB9KVxyXG4gICAgICAgICAgJCgnLm9ubGluZS13cmFwMj4uaW1nMScpLmNzcyh7IHRvcDogJzQwcHgnIH0pXHJcbiAgICAgICAgICAkKCdwLm9ubGluZS1ub3RpY2UnKS5jc3MoeyB0b3A6ICcxNTBweCcgfSlcclxuICAgICAgICAgICRzY29wZS53ZWJzaXRlTmFtZSA9IHJlcy53ZWJzaXRlTmFtZSB8fCAnQ0onO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0TGlrZVByb05ldygpO1xyXG4gICAgICB9KTtcclxuICAgICAgZHNwLnNldFJpZ2h0TWluSGVpZ2h0KCk7XHJcbiAgICAgIGlmICghJHJvb3RTY29wZS51c2VySW5mby50b2tlbikge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJ2xvZ2luLmh0bWwnKVxyXG4gICAgICB9XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmlnaHQtY29udGVudFwiKS5zY3JvbGxUbyh7XHJcbiAgICAgICAgdG9wOiAwXHJcbiAgICAgIH0pXHJcbiAgICAgICRzY29wZS5oYXNMb2dpbiA9IGRzcC5pc0luTG9naW5TdGF0ZSgpO1xyXG4gICAgICB2YXIgdXNlcklkID0gJHJvb3RTY29wZS51c2VySW5mby51c2VySWQ7XHJcbiAgICAgICRzY29wZS52aXAgPSAkcm9vdFNjb3BlLnVzZXJJbmZvLnZpcDtcclxuICAgICAgJHNjb3BlLmFkbWluID0gJHJvb3RTY29wZS51c2VySW5mby5sb2dpbk5hbWU7XHJcbiAgICAgICRzY29wZS5maXJzdE5hbWUgPSAkcm9vdFNjb3BlLnVzZXJJbmZvLmZpcnN0TmFtZTtcclxuICAgICAgdmFyIHdpZHRoID0gJChcIi5ibG9jay10aXRsZVwiKS53aWR0aCgpO1xyXG4gICAgICAkc2NvcGUucGFnZXNpemUgPSBNYXRoLmZsb29yKCh3aWR0aCAtIDE2KSAvIDI0MCk7XHJcbiAgICAgICRzY29wZS5wYWdlc2l6ZTIgPSAyNDsgLy8g6buY6K6k5YWI6K+35rGCMjTmnaFcclxuICAgICAgJHNjb3BlLnRvdGFsSGlzdG9yeVBhZ2U7XHJcbiAgICAgICRzY29wZS5wYWdlbnVtYyA9IG51bGw7XHJcbiAgICAgICRyb290U2NvcGUuJG9uKCdhcHAvaW5mby91c2VyaW5mbycsIChfLCBib29sKSA9PiAkc2NvcGUubG9hZF91c2VyaW5mbyA9IGJvb2wpO1xyXG4gICAgICAkcm9vdFNjb3BlLiRvbignYXBwL2luZm8vc2hvcHZpZXcnLCAoXywgYm9vbCkgPT4gJHNjb3BlLmxvYWRfc2hpcGxpc3QgPSBib29sKTtcclxuICAgICAgJHJvb3RTY29wZS4kb24oJ3Byb2R1Y3QtYXBpL2NqUHJvZHVjdEluZm8vaG9tZS9yZWNvbW1lbmQvcXVlcnlQYWdlJywgKF8sIGJvb2wpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnYm9vbGJvb2xib29sJywgYm9vbCk7XHJcbiAgICAgICAgJHNjb3BlLmxvYWRfcHJvZHVjdGxpc3QyID0gYm9vbFxyXG4gICAgICB9KTtcclxuICAgICAgLy8gLy8g5bem5L6n5qCP5pS26LW344CB5YWz6ZetXHJcbiAgICAgIC8vICRyb290U2NvcGUuJG9uKCdsZWZ0YmFyLWxpZ2h0JywgKF8sIGJvb2wpID0+IHtcclxuICAgICAgLy8gICBpZiAoISRzdGF0ZS5jdXJyZW50LnVybC5zdGFydHNXaXRoKERBU0hCT0FSRCkpIHtcclxuICAgICAgLy8gICAgIHJldHVybjtcclxuICAgICAgLy8gICB9XHJcbiAgICAgIC8vICAgc2V0UHJvZHVjdENhcmRIZWlnaHQoeyAkc2NvcGUsICRlbGVtZW50LCBlbmQ6IGZhbHNlIH0pO1xyXG4gICAgICAvLyB9KTtcclxuICAgICAgLy8gJHJvb3RTY29wZS4kb24oJ2xlZnRiYXItbGlnaHQtZW5kJywgKF8sIGJvb2wpID0+IHtcclxuICAgICAgLy8gICBpZiAoISRzdGF0ZS5jdXJyZW50LnVybC5zdGFydHNXaXRoKERBU0hCT0FSRCkpIHtcclxuICAgICAgLy8gICAgIHJldHVybjtcclxuICAgICAgLy8gICB9XHJcbiAgICAgIC8vICAgc2V0UHJvZHVjdENhcmRIZWlnaHQoeyAkc2NvcGUsICRlbGVtZW50LCBlbmQ6IHRydWUgfSk7XHJcbiAgICAgIC8vICAgY29uc3Qgc3VtID0gY2FsY1BvcmR1Y3RDYXJkU3VtKCRlbGVtZW50KTtcclxuICAgICAgLy8gICBpZiAoc3VtIDwgJHNjb3BlLnBhZ2VzaXplMikgeyAvLyDlpJrlh7rnm7TmjqXmiKrmjolcclxuICAgICAgLy8gICAgICRzY29wZS5wYWdlc2l6ZTIgPSBzdW07XHJcbiAgICAgIC8vICAgICAkc2NvcGUucHJvZHVjdGxpc3QyID0gJHNjb3BlLnByb2R1Y3RsaXN0Mi5zbGljZSgwLCBzdW0pO1xyXG4gICAgICAvLyAgIH0gZWxzZSB7IC8vIOWwkeS6jumHjeaWsOiOt+WPllxyXG4gICAgICAvLyAgICAgJHNjb3BlLnBhZ2VzaXplMiA9IHN1bTtcclxuICAgICAgLy8gICAgIGdldExpa2VQcm9OZXcoKTtcclxuICAgICAgLy8gICB9XHJcbiAgICAgIC8vIH0pO1xyXG4gICAgICBcclxuICAgICAgLyoqIExhemFkYeaOiOadg+i/h+acn+W8ueeqlyAqL1xyXG4gICAgICAkc2NvcGUuc2hvd1JlQXV0aG9yaXplID0gZmFsc2VcclxuICAgICAgY2hlY2tMYXphZGFBdXRob3JpemUoKVxyXG4gICAgICBmdW5jdGlvbiBjaGVja0xhemFkYUF1dGhvcml6ZSgpIHtcclxuICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZpcCcpID09IDEpIHtcclxuICAgICAgICAgICRzY29wZS5pc1ZpcCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS5pc1ZpcCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB1cmwgPSBgcGxhdGZvcm0tc2hvcC9hdXRob3JpemUvc2hvcEF1dGhSZW1pbmRlcmBcclxuICAgICAgICBkc3AuZ2V0RnVuKHVybCwgZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICBjb25zdCB7ZGF0YX0gPSByZXNcclxuICAgICAgICAgIGlmKGRhdGEuY29kZSA9PSAyMDApIHtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuc2hvd1JlQXV0aG9yaXplID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICRzY29wZS5leHBpcmVMaXN0ID0gZGF0YS5kYXRhXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gJHNjb3BlLnNob3dSZUF1dGhvcml6ZSA9IHRydWVcclxuICAgICAgICAgICAgICAvLyAkc2NvcGUuZXhwaXJlTGlzdCA9IFt7XHJcbiAgICAgICAgICAgICAgLy8gICAgZXhwaXJlVGltZTogMTAsXHJcbiAgICAgICAgICAgICAgLy8gICAgc2hvcElkOiBcIjlhZGFhZWIwM2VlYzQ3OTdhYmJiNzczZTNiOGU1MTk0XCIsXHJcbiAgICAgICAgICAgICAgLy8gICAgc2hvcE5hbWU6IFwiQ3VKaWEgVHJhZGVcIixcclxuICAgICAgICAgICAgICAvLyAgICBzaG9wUGxhdGZvcm06IFwiTEFaQURBXCJcclxuICAgICAgICAgICAgICAvLyB9XVxyXG4gICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy/ojrflj5blvLnnqpfnu4Tku7blhbPpl63mjInpkq7kvKDlm57nmoTlgLxcclxuICAgICAgJHNjb3BlLiRvbignY2xvc2VSZUF1dGhvcml6ZScsIChlLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgJHNjb3BlLnNob3dSZUF1dGhvcml6ZSA9IGRhdGEuc2hvd1JlQXV0aG9yaXplXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvKiogMjAyMS0wMS0yMiDkvJjmg6DliLggKi9cclxuICAgICAgJHNjb3BlLmNvdXBvbnNDb250ID0gMFxyXG4gICAgICBnZXRDb3Vwb25zQ291bnQoKVxyXG4gICAgICBmdW5jdGlvbiBnZXRDb3Vwb25zQ291bnQoKSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW1zID0geyB1c2VySWQgfVxyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdvcGVyYXRpb25DZW50ZXJBcGkvYXBpQ291cG9uL29yZGVySXNBdmFpbGFibGUnLCBwYXJhbXMsICh7ZGF0YX0pID0+IHtcclxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogbGlzdCA9IFtdLCBjb2RlIH0gPSBkYXRhXHJcbiAgICAgICAgICBpZigrY29kZSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jb3Vwb25zQ29udCA9IGxpc3QubGVuZ3RoXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g6I635Y+W56eB5pyJ5bqT5a2Y6aKE6K2mXHJcbiAgICAgICRzY29wZS53YXJuaW5nQ291bnQgPSAwO1xyXG4gICAgICBnZXRXYXJuaW5nKClcclxuICAgICAgZnVuY3Rpb24gZ2V0V2FybmluZygpIHtcclxuICAgICAgICBkc3AuZ2V0RnVuKCdlYXJseS13YXJuaW5nLXdlYi9lYXJseVdhcm5pbmcvZ2V0V2FybmluZ1NLVU51bScsIChyZXMpID0+IHtcclxuICAgICAgICAgIGxldCB7IGNvZGUsIGRhdGEgfSA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgaWYgKGNvZGUgIT0gMjAwKSB7XHJcbiAgICAgICAgICAgIGxheWVyLm1zZygnR2V0IHRoZSBTS1UgbnVtIGVycm9yJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZihkYXRhICYmIGRhdGEuc2t1TnVtKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLndhcm5pbmdDb3VudCA9IGRhdGEuc2t1TnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIOi3s015IEludmVudG9yeVxyXG4gICAgICAkc2NvcGUudG9NeUludmVudG9yeSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnbXlDSi5odG1sIy9teS1pbnZlbnRvcnknXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8v6Lez6L2s5LyY5oOg5Yi4XHJcbiAgICAgICRzY29wZS5qdW1wRnVuNCA9ICgpID0+IHtcclxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gJ25ld215Y2ovbWFya2V0aW5nL2NvdXBvbnMnXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKiAyMDIxLTAxLTIyIOS8mOaDoOWIuOe7k+adnyAgKi9cclxuXHJcbiAgICAgIGRzcC5wb3N0RnVuKCdhcHAvaW5mby91c2VyaW5mbycsIHsgXCJkYXRhXCI6IFwieyd1c2VySWQnOiAnXCIgKyB1c2VySWQgKyBcIid9XCIgfSwgY2xvLCBlcnIpXHJcblxyXG4gICAgICBmdW5jdGlvbiBjb24obikge1xyXG4gICAgICAgIHZhciBvYmogPSBKU09OLnBhcnNlKG4uZGF0YS5yZXN1bHQpXHJcbiAgICAgICAgLy8gZHNwLmNsb3NlTG9hZCgpO1xyXG4gICAgICAgICRzY29wZS5zaG9wbGlzdCA9IG9iajtcclxuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuc2hvcGxpc3QpO1xyXG5cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gb3JkZXJ2aWV3KG4pIHtcclxuICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShuLmRhdGEucmVzdWx0KVxyXG4gICAgICAgICRzY29wZS5vcmRlcmxpc3QgPSBvYmo7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGVycihuKSB7IGNvbnNvbGUubG9nKG4pIH1cclxuICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9pbmZvL29yZGVydmlldyAnLCB7IFwiZGF0YVwiOiBcInsndXNlcklkJzogJ1wiICsgdXNlcklkICsgXCInfVwiIH0sIG9yZGVydmlldywgZXJyKVxyXG4gICAgICBnZXRTaG9wVmlldygpO1xyXG5cclxuICAgICAgZnVuY3Rpb24gZ2V0U2hvcFZpZXcoKSB7XHJcbiAgICAgICAgLy9kc3AubG9hZCgpO1xyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvaW5mby9zaG9wdmlldycsIHsgXCJkYXRhXCI6IFwieyd1c2VySWQnOiAnXCIgKyB1c2VySWQgKyBcIid9XCIgfSwgY29uLCBmdW5jdGlvbiAobikge1xyXG4gICAgICAgICAgLy9kc3AuY2xvc2VMb2FkKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICAvKiog5b6F5Yqe5LqL6aG5ICovXHJcbiAgICAgICRzY29wZS5VbnN5Y2VkQ291bnQgPSAwO1xyXG4gICAgICAkc2NvcGUuT3ZlcmR1ZUNvdW50ID0gMDtcclxuICAgICAgJHNjb3BlLkRpc3B1dGVDb3VudCA9IDA7XHJcbiAgICAgICRzY29wZS5lYmF5VG9rZW5Db3VudDEgPSAwOyAvLyB0b2tlbuWNs+Wwhui/h+acn+eahGViYXnlupfpk7pcclxuICAgICAgJHNjb3BlLmViYXlUb2tlbkNvdW50MiA9IDA7IC8vIHRva2Vu5bey6L+H5pyf55qEZWJheeW6l+mTulxyXG4gICAgICAvLyAkc2NvcGUuZWJheVRva2VuQ291bnQzID0gMDsgLy8g6Zeu6aKY5YyF6KO5XHJcbiAgICAgICRzY29wZS5vcmRlclNoZWx2aW5nID0gMDsgLy/mkIHnva7orqLljZVcclxuICAgICAgJHNjb3BlLmlzc3VlQ291bnQgPSAwOyAvLyDlt6XljZVcclxuICAgICAgZ2V0VG9kb0xpc3QoKVxyXG4gICAgICBmdW5jdGlvbiBnZXRUb2RvTGlzdCgpIHtcclxuICAgICAgICAvLyBsYXllci5sb2FkKDIpXHJcblxyXG4gICAgICAgIGRzcC5teXBvc3QoJ2NqL2FjY291bnQvbmV3QWNjb3VudFRvZG8nLCB7fSkudGhlbigoeyBkaXNwb3NlLCBmdWxmaWxsRmFpbCwgb2JzZXJ2ZXIsIG9yZGVyUmVzZW5kLCByZXRNYXAsIG9yZGVyU2hlbHZpbmcsaXNzdWVDb3VudCB9KSA9PiB7XHJcbiAgICAgICAgICAkc2NvcGUuVW5zeWNlZENvdW50ID0gZnVsZmlsbEZhaWwgJiYgZnVsZmlsbEZhaWwuY291bnQgPyBmdWxmaWxsRmFpbC5jb3VudCA6IDA7Ly/lkIzmraXlpLHotKVcclxuICAgICAgICAgICRzY29wZS5PdmVyZHVlQ291bnQgPSBvYnNlcnZlciAmJiBvYnNlcnZlci5jb3VudCA/IG9ic2VydmVyLmNvdW50IDogMDsvL+WDteWwuOiuouWNlVxyXG4gICAgICAgICAgJHNjb3BlLkRpc3B1dGVDb3VudCA9IGRpc3Bvc2UgJiYgZGlzcG9zZS5jb3VudCA/IGRpc3Bvc2UuY291bnQgOiAwOy8v57qg57q3XHJcbiAgICAgICAgICAkc2NvcGUub3JkZXJSZXNlbmQgPSBvcmRlclJlc2VuZCAmJiBvcmRlclJlc2VuZC5jb3VudCA/IG9yZGVyUmVzZW5kLmNvdW50IDogMDsvL+mXrumimOWMheijuVxyXG4gICAgICAgICAgJHNjb3BlLm9yZGVyUmVzZW5kRGFpcXUgPSBvcmRlclJlc2VuZCAmJiBvcmRlclJlc2VuZC5kYWlUb25nWmhpQ291bnQgPyBvcmRlclJlc2VuZC5kYWlUb25nWmhpQ291bnQgOiAwOy8v6Zeu6aKY5YyF6KO55b6F6Ieq5Y+WXHJcbiAgICAgICAgICAkc2NvcGUub3JkZXJSZXNlbmREYWlwYWkgPSBvcmRlclJlc2VuZCAmJiBvcmRlclJlc2VuZC5kYWlaaGlGdUNvdW50ID8gb3JkZXJSZXNlbmQuZGFpWmhpRnVDb3VudCA6IDA7Ly/pl67popjljIXoo7nlvoXph43mtL5cclxuICAgICAgICAgICRzY29wZS5vcmRlclNoZWx2aW5nID0gb3JkZXJTaGVsdmluZyAmJiBvcmRlclNoZWx2aW5nLmNvdW50ID8gb3JkZXJTaGVsdmluZy5jb3VudCA6IDA7IC8v5pCB572u6K6i5Y2VXHJcbiAgICAgICAgICAkc2NvcGUuaXNzdWVDb3VudCA9IGlzc3VlQ291bnQgJiYgaXNzdWVDb3VudC5jb3VudCA/IGlzc3VlQ291bnQuY291bnQgOiAwO1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2cocmV0TWFwKVxyXG4gICAgICAgICAgY29uc29sZS5sb2cob3JkZXJSZXNlbmQpXHJcbiAgICAgICAgICAkc2NvcGUuZWJheVRva2VuQ291bnQxID0gcmV0TWFwICYmIHJldE1hcC50aGVDb3VudCA/IHJldE1hcC50aGVDb3VudCA6IDA7XHJcbiAgICAgICAgICAkc2NvcGUuZWJheVRva2VuQ291bnQyID0gcmV0TWFwICYmIHJldE1hcC5vdXRDb3VudCA/IHJldE1hcC5vdXRDb3VudCA6IDA7XHJcbiAgICAgICAgICAvLyAkc2NvcGUuZWJheVRva2VuQ291bnQzID0gcmV0TWFwICYmIHJldE1hcC5vdXRDb3VudCA/IHJldE1hcC5vdXRDb3VudCA6IDA7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0VG9kb0xpc3QnLCAkc2NvcGUuVW5zeWNlZENvdW50LCAkc2NvcGUuT3ZlcmR1ZUNvdW50LCAkc2NvcGUuRGlzcHV0ZUNvdW50LCAkc2NvcGUub3JkZXJSZXNlbmQpICAgLy8gMCAxIDE0IDBcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5uYXZUbyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICBpZiAodGFyZ2V0ID09PSAnZGlzcHV0ZScpIHtcclxuICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWZ0ZXItc2FsZS8vJyk7XHJcbiAgICAgICAgICAkbG9jYXRpb24uc2VhcmNoKHsgZmlsdGVyOiAxIH0pO1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0YXJnZXQgPT09ICdPdmVyZHVlQ291bnQnKSByZXR1cm4gJGxvY2F0aW9uLnBhdGgoYHRvZG9MaXN0LzFgKTtcclxuICAgICAgICBpZiAodGFyZ2V0ID09PSAnVW5zeWNlZENvdW50JykgcmV0dXJuICRsb2NhdGlvbi5wYXRoKGB0b2RvTGlzdC8yYCk7XHJcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gJ2ViYXlhdXRoJykgcmV0dXJuICRsb2NhdGlvbi5wYXRoKCdhdXRob3JpemUvRWJheScpO1xyXG4gICAgICAgIGlmICh0YXJnZXQgPT09ICdwcm9ibGVtJykgcmV0dXJuICRsb2NhdGlvbi5wYXRoKGBwcm9ibGVtLXBhY2thZ2UvJHskc2NvcGUub3JkZXJSZXNlbmREYWlwYWkgPyAxIDogM31gKTtcclxuICAgICAgICBpZiAodGFyZ2V0ID09PSAnaXNzdWUnKSByZXR1cm4gJGxvY2F0aW9uLnBhdGgoXCJ0aWNrZXRMaXN0XCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL+aQgee9rueKtuaAgVxyXG4gICAgICAkc2NvcGUuV0FJVF9SRVNPTFZFID0gWycxMCcsJzY5J10gLy/lvoXlpITnkIZcclxuICAgICAgJHNjb3BlLk9SREVSX1NISVBQRUQgPSBbJzEyJ10gLy/lt7Llj5HotKdcclxuICAgICAgJHNjb3BlLldBSVRfREVMSVZFID0gWyc2JywnNjAnLCc2MScsJzYyJywnNjQnLCc2NScsJzY3JywnNzAnLCcxMTEnLCc2OCddIC8v5b6F5Y+R6LSnXHJcbiAgICAgICRzY29wZS5PUkRFUl9PVkVSRUQgPSBbJzEzJ10gLy/lt7Lnu5PmnZ9cclxuICAgICAgJHNjb3BlLk9SREVSX0NPTVBMRVRFRCA9IFsnNycsJzUnXSAvL+W3suWujOaIkFxyXG4gICAgICAvL+aQgee9ruiuouWNlVxyXG4gICAgICBmdW5jdGlvbiBnZXRTaGVsdmVMaXN0KCl7XHJcbiAgICAgICAgZHNwLnBvc3RGdW4oJ2NqL3NoZWx2aW5nL3NlbGVjdFNoZWx2aW5nSW5mb0xpc3QnLHt9LGZ1bmN0aW9uICh7ZGF0YX0pe1xyXG4gICAgICAgICAgJHNjb3BlLnNoZWx2ZUxpc3QgPSBkYXRhLnJlc3VsdDtcclxuICAgICAgICAgICRzY29wZS5zaGVsdmVMaXN0Lm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5XQUlUX1JFU09MVkUuaW5jbHVkZXMoaXRlbS5zdGF0dXMpKSB7XHJcbiAgICAgICAgICAgICAgaXRlbS5zaGVsdmVTdGF0dXMgPSAnUGVuZGluZyc7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLldBSVRfREVMSVZFLmluY2x1ZGVzKGl0ZW0uc3RhdHVzKSkge1xyXG4gICAgICAgICAgICAgIGl0ZW0uc2hlbHZlU3RhdHVzID0gJ1Byb2Nlc3NpbmcnO1xyXG4gICAgICAgICAgICAgIHJldHVybiBpdGVtXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCRzY29wZS5PUkRFUl9TSElQUEVELmluY2x1ZGVzKGl0ZW0uc3RhdHVzKSkge1xyXG4gICAgICAgICAgICAgIGl0ZW0uc2hlbHZlU3RhdHVzID0gJ0Rpc3BhdGNoZWQnO1xyXG4gICAgICAgICAgICAgIHJldHVybiBpdGVtXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCRzY29wZS5PUkRFUl9DT01QTEVURUQuaW5jbHVkZXMoaXRlbS5zdGF0dXMpKSB7XHJcbiAgICAgICAgICAgICAgaXRlbS5zaGVsdmVTdGF0dXMgPSAnQ29tcGxldGVkJztcclxuICAgICAgICAgICAgICByZXR1cm4gaXRlbVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuT1JERVJfT1ZFUkVELmluY2x1ZGVzKGl0ZW0uc3RhdHVzKSkge1xyXG4gICAgICAgICAgICAgIGl0ZW0uc2hlbHZlU3RhdHVzID0gJ0Nsb3NlZCc7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpdGVtLnNoZWx2ZVN0YXR1cyA9ICctLSdcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgZ2V0U2hlbHZlTGlzdCgpO1xyXG4gICAgICAkc2NvcGUuc2hvd1NoZWx2ZVRvZ2dsZSA9IGZ1bmN0aW9uIChib29sID0gISRzY29wZS5zaGVsdmUpIHtcclxuICAgICAgICAkc2NvcGUuc2hlbHZlID0gYm9vbDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgICRzY29wZS5zaG93U2hlbHZlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBpZiAoJHNjb3BlLm9yZGVyU2hlbHZpbmcgPT09IDApe1xyXG4gICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLnNoZWx2ZSA9IHRydWU7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvL+i3s+i9rOWIsHRvZG9MaXN0XHJcbiAgICAgICRzY29wZS5nb1RvZG9MaXN0ID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gYCMvdG9kb0xpc3QvJHt0eXBlfWBcclxuICAgICAgfVxyXG4gICAgICAvKirlvoXlip7kuovpobnnu5PmnZ8gKi9cclxuICAgICAgZnVuY3Rpb24gY2xvKG4pIHtcclxuICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShuLmRhdGEucmVzdWx0KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKG9ialswXSk7XHJcbiAgICAgICAgJHNjb3BlLmlzVmVyaWZ5ID0gb2JqWzBdLlNUQVRVUyA9PT0gM1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdlbWFpbFZlcmlmeVN0YXR1cycsIG9ialswXS5TVEFUVVMpOyAvLyAxIOmCrueuseW3sumqjOivgSAzIOmCrueuseacqumqjOivgVxyXG4gICAgICAgIGRzcC5zZXRDb29raWUoJ2VtYWlsVmVyaWZ5U3RhdHVzJywgb2JqWzBdLlNUQVRVUywgMywgX19yb290X19kb21haW4pO1xyXG4gICAgICAgICRzY29wZS51c2VySUQgPSBvYmpbMF0uSURcclxuICAgICAgICBkc3AucG9zdEZ1bignYXBwL3dhbGxldC9nZXRVc2VyU2FsZXNBbW91bnQnLCB7ICd1c2VySWQnOiAkc2NvcGUudXNlcklEIH0sIGZ1bmN0aW9uKHtkYXRhfSkge1xyXG4gICAgICAgICAgJHNjb3BlLnNhbGVzQmFsYW5jZSA9IGRhdGEuZGF0YS50b3RhbFNhbGVzQW1vdW50XHJcbiAgICAgICAgfSlcclxuICAgICAgICAkc2NvcGUudXNlcmluZm8gPSBvYmo7XHJcbiAgICAgICAgJHNjb3BlLnVzZXJBdmF0YXIgPSBvYmpbMF0uaW1nID09PSAnaHR0cHM6Ly9jYy13ZXN0LXVzYS5vc3MtdXMtd2VzdC0xLmFsaXl1bmNzLmNvbS9iYTYyNzIzOC04N2Q3LTQxYTktODZmMS05NjBiNGNjMDdlYmYucG5nJyA/ICcnIDogb2JqWzBdLmltZztcclxuICAgICAgICAkc2NvcGUuV2FsbGV0QmFsYW5jZSA9IG9ialswXS5iYWxhbmNlIHx8IDA7XHJcbiAgICAgICAgLy8gJHNjb3BlLnNhbGVzQmEgPSBNYXRoLnJvdW5kKCRzY29wZS5zYWxlc0JhbGFuY2UgLyAxMCk7XHJcbiAgICAgICAgJHNjb3BlLnNhbGVzQmEgPSBvYmpbMF0uYXZhaWxhYmxlSW50ZWdyYWw7XHJcbiAgICAgICAgJHNjb3BlLm1vbmV5TGVhdmwgPSBvYmpbMF0ubW9uZXlMZXZlbDtcclxuICAgICAgICAkc2NvcGUubW9uZXlMZWF2bCA+IDAgJiYgJCgnLmx2ZGotdWw+bGknKS5lcSgkc2NvcGUubW9uZXlMZWF2bC0xKS5hZGRDbGFzcygnbHYtYmpsaScpXHJcbiAgICAgICAgJCgnLnZhbC1wcm8nKS5jc3MoJ3dpZHRoJywgJHNjb3BlLm1vbmV5TGVhdmwgLyA1ICogMTAwICsgJyUnKVxyXG4gICAgICAgIGlmIChvYmpbMF0pIHtcclxuICAgICAgICAgIC8vIG9ialswXS5OQU1FID8gb2JqWzBdLk5BTUUuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSA6IG9ialswXS5MT0dJTl9OQU1FLnNsaWNlKDAsIDEpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAkc2NvcGUuaW1nbmFtZSA9IG9ialswXS5maXJzdE5hbWUgPyBvYmpbMF0uZmlyc3ROYW1lLnNsaWNlKDAsMSkudG9VcHBlckNhc2UoKSA6IG9ialswXS5MT0dJTl9OQU1FLnNsaWNlKDAsIDEpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAkc2NvcGUuc2hvd1ByZXZIaXN0b3J5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRzY29wZS5wYWdlbnVtYy0tO1xyXG4gICAgICAgIGlmICgkc2NvcGUucGFnZW51bWMgPCAxKSB7XHJcbiAgICAgICAgICAkc2NvcGUucGFnZW51bWMgPSAkc2NvcGUudG90YWxIaXN0b3J5UGFnZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2V0TGlrZVByb05ldygpO1xyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5zaG93TmV4dEhpc3RvcnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHNjb3BlLnBhZ2VudW1jKys7XHJcbiAgICAgICAgaWYgKCRzY29wZS5wYWdlbnVtYyA+ICRzY29wZS50b3RhbEhpc3RvcnlQYWdlKSB7XHJcbiAgICAgICAgICAkc2NvcGUucGFnZW51bWMgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnZXRMaWtlUHJvTmV3KCk7XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLnByb2R1Y3RsaXN0MiA9IFtdXHJcbiAgICAgICRzY29wZS5jbGlja051bSA9IDBcclxuICAgICAgY29uc3QgeyBnZXRJbnRlcmZlcmVQcm9kSWQsIGdldEludGVyZmVyZVByb2RWZXJzaW9uIH0gPSB3aW5kb3dcclxuICAgICAgY29uc3QgZ2V0VmVyc2lvbiA9IGdldEludGVyZmVyZVByb2RWZXJzaW9uICYmIGdldEludGVyZmVyZVByb2RWZXJzaW9uKClcclxuICAgICAgZnVuY3Rpb24gZ2V0TGlrZVByb05ldyhtc2dMb2FkaW5nKSB7XHJcbiAgICAgICAgY29uc3QgaW50ZXJmZXJlUHJvZFZlcnNpb24gPSBnZXRWZXJzaW9uICYmIGdldFZlcnNpb24oKSB8fCB1bmRlZmluZWRcclxuICAgICAgICAkKFwiLlByaW50Q29udGVudCAuaGFzTGlzdERhdGFcIikuYnVzeUxvYWQoXCJzaG93XCIsIHtcclxuICAgICAgICAgIGNvbG9yOiAnI0ZGNzcwMCcsXHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZHNwLnBvc3RGdW4oJ2VsYXN0aWMtYXBpL3JlY29tbWVuZC9zZWFyY2gvbXlDai9xdWVyeVBhZ2UnLCB7XHJcbiAgICAgICAgICBzaXplOiAkc2NvcGUucGFnZXNpemUyLFxyXG4gICAgICAgICAgcGFnZTogJHNjb3BlLnBhZ2VudW1jLFxyXG4gICAgICAgICAgcmVxdWVzdFNvdXJjZTogJzAnLCAvLyDor7fmsYLmnaXmupAgIDAgOiB3ZWLnq68gMSA6IE3nq5kvQXBwXHJcbiAgICAgICAgICBjYXRlZ29yeUlkTGlzdDogZ2V0SW50ZXJmZXJlUHJvZElkICYmIGdldEludGVyZmVyZVByb2RJZCgpLCAvLyDlubLpooTnmoTnsbvnm67nmoRpZOmbhuWQiFxyXG4gICAgICAgICAgdmVyc2lvbk51bTogaW50ZXJmZXJlUHJvZFZlcnNpb24sIC8vIOeJiOacrOWPt1xyXG4gICAgICAgIH0sIGNjbiwgZXJyKVxyXG4gICAgICAgIGZ1bmN0aW9uIGNjbihuKSB7XHJcbiAgICAgICAgICBpZiAobi5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgbXNnTG9hZGluZyAmJiBtc2dMb2FkaW5nLmhpZGUoKVxyXG4gICAgICAgICAgICBpZiAoaW50ZXJmZXJlUHJvZFZlcnNpb24gPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgLy8g5rKh5pyJ54mI5pys5Y+355qE5pe25YCZ77yM6K6+572uXHJcbiAgICAgICAgICAgICAgZ2V0VmVyc2lvbiAmJiBnZXRWZXJzaW9uKG4uZGF0YS5kYXRhLmNvbnRlbnRbMF0gJiYgbi5kYXRhLmRhdGEuY29udGVudFswXS52ZXJzaW9uTnVtKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoXCIuUHJpbnRDb250ZW50IC5oYXNMaXN0RGF0YVwiKS5idXN5TG9hZChcImhpZGVcIik7XHJcbiAgICAgICAgICAgICRzY29wZS5wcm9kdWN0bGlzdDIgPSBbLi4uJHNjb3BlLnByb2R1Y3RsaXN0MiwgLi4ubi5kYXRhLmRhdGEuY29udGVudF07XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdlbnVtYyA9IHBhcnNlSW50KG4uZGF0YS5kYXRhLnBhZ2VOdW1iZXIpO1xyXG4gICAgICAgICAgICAkc2NvcGUudG90YWxIaXN0b3J5UGFnZSA9IHBhcnNlSW50KG4uZGF0YS5kYXRhLnRvdGFsUGFnZXMpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgncHJvZENhcmRMaXN0LWRhdGEnLCB7XHJcbiAgICAgICAgICAgICAgZGF0YTogJHNjb3BlLnByb2R1Y3RsaXN0MixcclxuICAgICAgICAgICAgICBpc01vcmU6ICRzY29wZS5jbGlja051bSA8ICRzY29wZS50b3RhbEhpc3RvcnlQYWdlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUuJG9uKCdwcm9kQ2FyZExpc3QtZmEnLCBmdW5jdGlvbiAoZCwgbXNnTG9hZGluZykge1xyXG4gICAgICAgICRzY29wZS5jbGlja051bSArPSAxXHJcbiAgICAgICAgJHNjb3BlLnBhZ2VudW1jICs9IDE7XHJcbiAgICAgICAgaWYgKCRzY29wZS5jbGlja051bSA+PSAkc2NvcGUudG90YWxIaXN0b3J5UGFnZSkge1xyXG4gICAgICAgICAgbXNnTG9hZGluZyAmJiBtc2dMb2FkaW5nLmhpZGUoKVxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoJHNjb3BlLnBhZ2VudW1jID4gJHNjb3BlLnRvdGFsSGlzdG9yeVBhZ2UpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2VudW1jID0gMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZ2V0TGlrZVByb05ldyhtc2dMb2FkaW5nKVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHZhciBzZWxlY3REYXRhID0ge307XHJcbiAgICAgICRzY29wZS5qdW1wRnVuMSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gJyMvc291cmNpbmcnO1xyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5qdW1wRnVuMiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gJy9uZXdteWNqL2Ryb3BzaGlwcGluZy9vcmRlck1hbmFnZT9hY3RpdmU9Mic7XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLmp1bXBGdW4zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL25ld215Y2ovZHJvcHNoaXBwaW5nL29yZGVyTWFuYWdlP2FjdGl2ZT0zJztcclxuICAgICAgfVxyXG4gICAgICAvL+WFs+mXreaPkOekuuaLieWPluiuouWNleeahOW8ueahhlxyXG4gICAgICAkKCcuY2xvc2UtYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJy50aXBzLWNvbicpLmhpZGUoKTtcclxuICAgICAgfSlcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLnRpcHMtY29uJykuYW5pbWF0ZSh7IG9wYWNpdHk6ICcwJyB9LCAyMDAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAkKCcudGlwcy1jb24nKS5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sIDUwMDApXHJcbiAgICAgXHJcbiAgICAgIC8q6YCa55+lKi9cclxuICAgICAgJHNjb3BlLmlzTG9va05vdGljZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2lzTG9va05vdGljZScpIHx8ICcwJztcclxuICAgICAgXHJcbiAgICAgICRzY29wZS5JS25vdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkc2NvcGUuaXNMb29rTm90aWNlID0gdHJ1ZTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdpc0xvb2tOb3RpY2UnLCAnMScpO1xyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5DaGVja05vdyA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICRzY29wZS5pc0xvb2tOb3RpY2UgPSB0cnVlO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2lzTG9va05vdGljZScsICcxJyk7XHJcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9ICdteUNKLmh0bWwjL21lc3NhZ2UtbGlzdC8nICsgaWQ7XHJcbiAgICAgIH1cclxuICAgICAgLyrpqozor4Hpgq7nrrEqL1xyXG4gICAgICAkc2NvcGUuaGFuZGxlVmVyaWZ5ID0gKCkgPT4ge1xyXG4gICAgICAgIGRzcC5pc1ZlcmlmeUVtYWlsKClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy9saXN0T3Jzb3VyY2XmjInpkq5cclxuICAgICAgJHNjb3BlLmxpc3RPcnNvdXJjZUJ0biA9IGZ1bmN0aW9uIChpdGVtLCAkZXZlbnQpIHtcclxuICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgaWYgKGl0ZW0uSUQpIHtcclxuICAgICAgICAgIHdpbmRvdy5vcGVuKCdwcm9kdWN0LWRldGFpbC5odG1sP2lkPScgKyBpdGVtLklEICsgJyZsaXN0PTEnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaWQpIHtcclxuICAgICAgICAgIHdpbmRvdy5vcGVuKCdwcm9kdWN0LWRldGFpbC5odG1sP2lkPScgKyBpdGVtLmlkICsgJyZsaXN0PTEnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8g5Z+65LqO5YeG5aSH5aW955qEZG9t77yM5Yid5aeL5YyWZWNoYXJ0c+WunuS+i1xyXG4gICAgICAkc2NvcGUuZGF5Q2hhbmdlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgJHNjb3BlLmNoYXJ0SW5pdCh2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLmNoYXJ0QXJlYVNob3cgPSBmYWxzZTtcclxuICAgICAgJHNjb3BlLmNoYXJ0SW5pdCA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuICAgICAgICBjb25zdCBwYXJhbXMgPSBmaWx0ZXIgPyB7IGRheXM6IGZpbHRlciB9IDoge31cclxuICAgICAgICBkc3AucG9zdEZ1bignbmV3bG9naXN0aWNzL2xvZ2lzdGljcy9zdGF0aXN0aWNzJywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSwgZnVuY3Rpb24gKHsgZGF0YSB9KSB7XHJcbiAgICAgICAgICBsZXQgeyBzdGF0dXNDb2RlLCByZXN1bHQgfSA9IGRhdGE7XHJcbiAgICAgICAgICBpZiAoc3RhdHVzQ29kZSA9PSAyMDApIHtcclxuICAgICAgICAgICAgY2hhcnRJbml0KHJlc3VsdCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBjaGFydEluaXQoeyBzdGF0aXN0aWNzLCBzdGF0dXNJbmZvIH0pIHtcclxuICAgICAgICBsZXQgeyAnRGVsaXZlcmVkJzogZGVsaXZlcmVkVmFsLCAnTm8gVHJhY2tpbmcgSW5mb3IgRm91bmQnOiBkZWxpdmVyaW5nVmFsIH0gPSBzdGF0dXNJbmZvO1xyXG4gICAgICAgIGlmICghc3RhdGlzdGljcyB8fCAhc3RhdGlzdGljcy5sZW5ndGgpIHJldHVybiBjb25zb2xlLmxvZygnbm8gZGF0YScpO1xyXG4gICAgICAgIGxldCBuZXdTdGF0aXN0aWNzID0gc3RhdGlzdGljcy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICBsZXQgeyBhdmVyYWdlRGVsaXZlcnlEYXksIGxvZ2lzdGljc05hbWUsIGRlbGl2ZXJ5Q291bnQsIG5vdERlbGl2ZXJ5Q291bnQgfSA9IGl0ZW07XHJcbiAgICAgICAgICBsZXQgZGVsaXZlcmVkUmF0ZSA9IE1hdGguZmxvb3IoZGVsaXZlcnlDb3VudCAvIChkZWxpdmVyeUNvdW50ICsgbm90RGVsaXZlcnlDb3VudCkgKiAxMDApIC8vIOatpOWkhOS4uueZvuWIhuavlOaVsOWAvCAg57y65bCRJVxyXG4gICAgICAgICAgcmV0dXJuIHsgYXZlcmFnZURlbGl2ZXJ5RGF5LCBsb2dpc3RpY3NOYW1lLCBkZWxpdmVyeUNvdW50LCBub3REZWxpdmVyeUNvdW50LCBkZWxpdmVyZWRSYXRlIH0gLy8gYXZlcmFnZURlbGl2ZXJ5RGF5ID0+IOaKmOe6v+WbvuaVsOaNriBkZWxpdmVyeUNvdW50ICsgbm90RGVsaXZlcnlDb3VudCA9PiDmn7Hnirblm77mlbDmja4gIGRlbGl2ZXJlZFJhdGUgPT4g6aW854q25Zu+b3JkZXIgcmF0ZeaVsOaNrlxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbG9yID0geyAvL+minOiJsuearuiCpCDkvJrlkZjlj4rmma7pgJrotKbmiLdcclxuICAgICAgICAgIHZpcDogeyAvL+S8muWRmOi0puaIt1xyXG4gICAgICAgICAgICBjb2xvclBpZUFycjogWycjN0VEMzIxJywgJyNBM0EwRkInLCAnI0ZGODM3MycsICcjNEE5MEUyJywgJyNGNzZCMUMnLCAnI0ZERDNBMCddLFxyXG4gICAgICAgICAgICBjb2xvckJhcjoge1xyXG4gICAgICAgICAgICAgIGRlbGl2ZXJlZDogJyNGNzZCMUMnLFxyXG4gICAgICAgICAgICAgIGRlbGl2ZXJpbmc6ICcjRkVFMEJCJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb2xvckxpbmU6ICcjRjc2QjFDJyxcclxuICAgICAgICAgICAgcmdiTGluZTogWydyZ2JhKDI0NywgMTA3LCAyOCwgMSknLCAncmdiYSgyNDcsIDEwNywgMjgsIDAuNSknLCAncmdiYSgyNDcsIDEwNywgMjgsIDAuMyknLCAncmdiYSgyNDcsIDEwNywgMjgsIDApJ11cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjb21tb246IHsgLy/mma7pgJrotKbmiLdcclxuICAgICAgICAgICAgY29sb3JQaWVBcnI6IFsnI0ZFQjM1RScsICcjQzRCMDk4JywgJyM3NTlFQ0EnLCAnIzA1QTJEMicsICcjQTRCNDUyJywgJyNGREQzQTAnXSxcclxuICAgICAgICAgICAgY29sb3JCYXI6IHtcclxuICAgICAgICAgICAgICBkZWxpdmVyZWQ6ICcjRkRBODRDJyxcclxuICAgICAgICAgICAgICBkZWxpdmVyaW5nOiAnI0Y0RERBQSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29sb3JMaW5lOiAnI0ZEQUI1MicsXHJcbiAgICAgICAgICAgIHJnYkxpbmU6IFsncmdiYSgyNTMsIDE3MSwgODIsIDEpJywgJ3JnYmEoMjUzLCAxNzEsIDgyLCAuNSknLCAncmdiYSgyNTMsIDE3MSwgODIsIDAuMyknLCAncmdiYSgyNTMsIDE3MSwgODIsIDApJ11cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCByb2xlID0gJHNjb3BlLnZpcCA9PT0gJzEnID8gJ3ZpcCcgOiAnY29tbW9uJzsgLy/op5LoibLorr7nva4gICBsb2NhbFN0b3JhZ2UgdmlwID0+IDEgZWxzZSBjb21tb25cclxuICAgICAgICBjb25zdCBhcmVhU3R5bGUgPSB7IC8v5oqY57q/6Zi05b2x6K6+572uXHJcbiAgICAgICAgICBjb2xvcjoge1xyXG4gICAgICAgICAgICB0eXBlOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgeDI6IDAsXHJcbiAgICAgICAgICAgIHkyOiAxLFxyXG4gICAgICAgICAgICBjb2xvclN0b3BzOiBbe1xyXG4gICAgICAgICAgICAgIG9mZnNldDogMCxcclxuICAgICAgICAgICAgICBjb2xvcjogY29sb3Jbcm9sZV0ucmdiTGluZVswXSAvLyAwJSDlpITnmoTpopzoibJcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgIG9mZnNldDogMC4yLFxyXG4gICAgICAgICAgICAgIGNvbG9yOiBjb2xvcltyb2xlXS5yZ2JMaW5lWzFdIC8vIDEwMCUg5aSE55qE6aKc6ImyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBvZmZzZXQ6IDAuNCxcclxuICAgICAgICAgICAgICBjb2xvcjogY29sb3Jbcm9sZV0ucmdiTGluZVsyXSAvLyAxMDAlIOWkhOeahOminOiJslxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgb2Zmc2V0OiAwLjYsXHJcbiAgICAgICAgICAgICAgY29sb3I6IGNvbG9yW3JvbGVdLnJnYkxpbmVbM10gLy8gMTAwJSDlpITnmoTpopzoibJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBnbG9iYWw6IGZhbHNlIC8vIOe8uuecgeS4uiBmYWxzZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHBpZURhdGEgPSB7IC8vIOmlvOWbvmNpY2xlLWRlbGl2ZXJ55pWw5o2uXHJcbiAgICAgICAgICBsZWdlbmQ6IFtdLFxyXG4gICAgICAgICAgc2VyaWVzOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgcGllTmV3U3RhdGlzdGljcyA9IG5ld1N0YXRpc3RpY3Muc2xpY2UoMCwgNik7XHJcbiAgICAgICAgcGllRGF0YS5sZWdlbmQgPSBwaWVOZXdTdGF0aXN0aWNzLm1hcCgoeyBsb2dpc3RpY3NOYW1lIH0pID0+ICh7IG5hbWU6IGxvZ2lzdGljc05hbWUsIGljb246ICdjaXJjbGUnIH0pKVxyXG4gICAgICAgIHBpZURhdGEuc2VyaWVzID0gcGllTmV3U3RhdGlzdGljcy5tYXAoKHsgbG9naXN0aWNzTmFtZSwgZGVsaXZlcmVkUmF0ZSB9LCBpKSA9PiAoeyBuYW1lOiBsb2dpc3RpY3NOYW1lLCB2YWx1ZTogZGVsaXZlcmVkUmF0ZSwgaXRlbVN0eWxlOiB7IGNvbG9yOiBjb2xvcltyb2xlXS5jb2xvclBpZUFycltpXSB9IH0pKVxyXG5cclxuICAgICAgICBpZiAobmV3U3RhdGlzdGljcy5sZW5ndGggPiA2KSB7IC8vIOmlvOWbvuagvOW8j+WMluaVsOaNriDotoXov4c256eNIOWFqOmDqOiuoeeul+S4uiBvdGhlcnNcclxuICAgICAgICAgIGNvbnN0IG90aGVyUGllTmV3U3RhdGlzdGljcyA9IHN0YXRpc3RpY3Muc2xpY2UoNik7XHJcbiAgICAgICAgICBwaWVEYXRhLmxlZ2VuZC5wdXNoKHsgbmFtZTogJ090aGVycycsIGljb246ICdjaXJjbGUnIH0pO1xyXG4gICAgICAgICAgbGV0IGRlbGl2ZXJ5Q291bnRTdW0gPSAwO1xyXG4gICAgICAgICAgbGV0IG5vdERlbGl2ZXJ5Q291bnRTdW0gPSAwO1xyXG4gICAgICAgICAgb3RoZXJQaWVOZXdTdGF0aXN0aWNzLmZvckVhY2goKHsgZGVsaXZlcnlDb3VudCwgbm90RGVsaXZlcnlDb3VudCB9KSA9PiB7XHJcbiAgICAgICAgICAgIGRlbGl2ZXJ5Q291bnRTdW0gKz0gZGVsaXZlcnlDb3VudFxyXG4gICAgICAgICAgICBub3REZWxpdmVyeUNvdW50U3VtICs9IG5vdERlbGl2ZXJ5Q291bnQ7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgY29uc3Qgb3RoZXJSYXRlID0gTWF0aC5mbG9vcihkZWxpdmVyeUNvdW50U3VtIC8gKGRlbGl2ZXJ5Q291bnRTdW0gKyBub3REZWxpdmVyeUNvdW50U3VtKSAqIDEwMCk7XHJcbiAgICAgICAgICBwaWVEYXRhLnNlcmllcy5wdXNoKHsgbmFtZTogJ090aGVycycsIHZhbHVlOiBvdGhlclJhdGUsIGl0ZW1TdHlsZTogeyBjb2xvcjogY29sb3Jbcm9sZV0uY29sb3JQaWVBcnJbNl0gfSB9KVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGNvbnN0IG9yZGVyUmF0ZURhdGEgPSB7IC8v6aW85Zu+b3JkZXItcmF0ZeaVsOaNrlxyXG4gICAgICAgICAgbGVnZW5kOiBbIC8v6K+05piO5qCPXHJcbiAgICAgICAgICAgIHsgbmFtZTogJ0RlbGl2ZXJlZCcsIGljb246ICdjaXJjbGUnIH0sXHJcbiAgICAgICAgICAgIHsgbmFtZTogJ05vIFRyYWNraW5nIEluZm8gRm91bmQnLCBpY29uOiAnY2lyY2xlJyB9LFxyXG4gICAgICAgICAgXSxcclxuICAgICAgICAgIHNlcmllczogW1xyXG4gICAgICAgICAgICB7IHZhbHVlOiBkZWxpdmVyZWRWYWwsIG5hbWU6ICdEZWxpdmVyZWQnLCBpdGVtU3R5bGU6IHsgY29sb3I6IGNvbG9yW3JvbGVdLmNvbG9yUGllQXJyWzBdIH0gfSwgLy9cclxuICAgICAgICAgICAgeyB2YWx1ZTogZGVsaXZlcmluZ1ZhbCwgbmFtZTogJ05vIFRyYWNraW5nIEluZm8gRm91bmQnLCBpdGVtU3R5bGU6IHsgY29sb3I6IGNvbG9yW3JvbGVdLmNvbG9yUGllQXJyWzFdIH0gfSxcclxuICAgICAgICAgIF1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7IC8vIOafseeKtivmipjnur8g5Zu+IOaVsOaNrlxyXG4gICAgICAgICAgbGVnZW5kOiBbJ0RlbGl2ZXJlZCcsICdSZWFkeSBmb3IgRGVsaXZlcnknLCAnQXZlcmFnZSBEZWxpdmVyeSBUaW1lJ10sXHJcbiAgICAgICAgICBzZXJpZXM6IFt7XHJcbiAgICAgICAgICAgIG5hbWU6ICdEZWxpdmVyZWQnLFxyXG4gICAgICAgICAgICB0eXBlOiAnYmFyJyxcclxuICAgICAgICAgICAgaXRlbVN0eWxlOiB7IGNvbG9yOiBjb2xvcltyb2xlXS5jb2xvckJhci5kZWxpdmVyZWQgfSxcclxuICAgICAgICAgICAgZGF0YTogW11cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdSZWFkeSBmb3IgRGVsaXZlcnknLFxyXG4gICAgICAgICAgICB0eXBlOiAnYmFyJyxcclxuICAgICAgICAgICAgaXRlbVN0eWxlOiB7IGNvbG9yOiBjb2xvcltyb2xlXS5jb2xvckJhci5kZWxpdmVyaW5nIH0sXHJcbiAgICAgICAgICAgIGRhdGE6IFtdXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnQXZlcmFnZSBEZWxpdmVyeSBUaW1lJyxcclxuICAgICAgICAgICAgdHlwZTogJ2xpbmUnLFxyXG4gICAgICAgICAgICB5QXhpc0luZGV4OiAxLFxyXG4gICAgICAgICAgICBsaW5lU3R5bGU6IHsgY29sb3I6IGNvbG9yW3JvbGVdLmNvbG9yTGluZSB9LFxyXG4gICAgICAgICAgICBhcmVhU3R5bGUsXHJcbiAgICAgICAgICAgIGRhdGE6IFtdXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBkYXRhLnNlcmllc1swXS5kYXRhID0gbmV3U3RhdGlzdGljcy5tYXAoKHsgZGVsaXZlcnlDb3VudCB9KSA9PiAoeyB2YWx1ZTogZGVsaXZlcnlDb3VudCB9KSk7XHJcbiAgICAgICAgZGF0YS5zZXJpZXNbMV0uZGF0YSA9IG5ld1N0YXRpc3RpY3MubWFwKCh7IG5vdERlbGl2ZXJ5Q291bnQgfSkgPT4gKHsgdmFsdWU6IG5vdERlbGl2ZXJ5Q291bnQgfSkpO1xyXG4gICAgICAgIGRhdGEuc2VyaWVzWzJdLmRhdGEgPSBuZXdTdGF0aXN0aWNzLm1hcCgoeyBhdmVyYWdlRGVsaXZlcnlEYXkgfSkgPT4gKHsgdmFsdWU6IGF2ZXJhZ2VEZWxpdmVyeURheSB9KSk7XHJcbiAgICAgICAgbGV0IHhBeGlzRGF0YSA9IG5ld1N0YXRpc3RpY3MubWFwKCh7IGxvZ2lzdGljc05hbWUgfSkgPT4gKHsgdmFsdWU6IGxvZ2lzdGljc05hbWUgfSkpO1xyXG4gICAgICAgIGxldCB4QXhpc0RhdGFMZW4gPSB4QXhpc0RhdGEubGVuZ3RoO1xyXG4gICAgICAgIGlmICh4QXhpc0RhdGFMZW4gPCA1KSB7IC8v5bCR5LqONeadoeaVsOaNriDoh6rliqjooaXotrPmqKrovbTooaXotrMg6YCC5bqU5a695bqmXHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDUgLSB4QXhpc0RhdGFMZW47IGkrKykge1xyXG4gICAgICAgICAgICB4QXhpc0RhdGEucHVzaCh7IHZhbHVlOiAnJyB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb3B0aW9uID0geyAvL+aKmOe6v+WbviDmn7Hnirblm74g6buY6K6k6YWN572uXHJcbiAgICAgICAgICB0b29sdGlwOiB7XHJcbiAgICAgICAgICAgIHRyaWdnZXI6ICdheGlzJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNhbGN1bGFibGU6IHRydWUsXHJcbiAgICAgICAgICBkYXRhWm9vbTogeyAvL1xyXG4gICAgICAgICAgICBzaG93OiB0cnVlLFxyXG4gICAgICAgICAgICByZWFsdGltZTogdHJ1ZSwgLy/mmK/lkKblrp7ml7blj5jljJZcclxuICAgICAgICAgICAgLy8gc3RhcnQ6IDAsIC8v5pi+56S65Yy65Z+f55m+5YiG5q+UXHJcbiAgICAgICAgICAgIC8vIGVuZDogOTAsXHJcbiAgICAgICAgICAgIHN0YXJ0VmFsdWU6IDAsXHJcbiAgICAgICAgICAgIGVuZFZhbHVlOiA2XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbGVnZW5kOiB7XHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGEubGVnZW5kLFxyXG4gICAgICAgICAgICBpdGVtV2lkdGg6IDI0LFxyXG4gICAgICAgICAgICBpdGVtSGVpZ2h0OiAxMCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB4QXhpczogW3tcclxuICAgICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JyxcclxuICAgICAgICAgICAgZGF0YTogeEF4aXNEYXRhLFxyXG4gICAgICAgICAgfSxdLFxyXG4gICAgICAgICAgeUF4aXM6IFt7XHJcbiAgICAgICAgICAgIHR5cGU6ICd2YWx1ZScsXHJcbiAgICAgICAgICAgIG5hbWU6ICdPcmRlcnMnLFxyXG4gICAgICAgICAgICBtaW46IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5taW47XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1heDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm1heCArIHZhbHVlLm1heCAqIDAuMDU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiAndmFsdWUnLFxyXG4gICAgICAgICAgICBuYW1lOiAnQXZlcmFnZSBEZWxpdmVyeSBUaW1lL0RheShzKScsXHJcbiAgICAgICAgICAgIG1pbjogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm1pbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWF4OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubWF4ICsgdmFsdWUubWF4ICogMC4wNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgICBzZXJpZXM6IGRhdGEuc2VyaWVzXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBwaWVPcHRpb24gPSB7IC8v6aW854q25Zu+ZGVsaXZlcnktcmF0Zem7mOiupOmFjee9rlxyXG4gICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgdGV4dDogJ1N1Y2Nlc3NmdWwgRGVsaXZlcnkgUmF0ZScsXHJcbiAgICAgICAgICAgIHg6ICdsZWZ0JyxcclxuICAgICAgICAgICAgcGFkZGluZzogWzAsIDAsIDAsIDI2XVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGxlZ2VuZDoge1xyXG4gICAgICAgICAgICBvcmllbnQ6ICd2ZXJ0aWNhbCcsXHJcbiAgICAgICAgICAgIHRvcDogNzYsXHJcbiAgICAgICAgICAgIGxlZnQ6IDI2MCxcclxuICAgICAgICAgICAgaXRlbVdpZHRoOiAxMCxcclxuICAgICAgICAgICAgaXRlbUhlaWdodDogMTAsXHJcbiAgICAgICAgICAgIGRhdGE6IHBpZURhdGEubGVnZW5kXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgdG9vbHRpcDogeyAvL3ZhbHVlID0+IGNcclxuICAgICAgICAgICAgdHJpZ2dlcjogJ2l0ZW0nLFxyXG4gICAgICAgICAgICBmb3JtYXR0ZXI6IFwiQ29tcGFyZSB3aXRoIGN1cnJlbnQgc2hpcHBpbmc6IHtjfSUgPGJyLz5Db21wYXJlIHdpdGggYWxsIHNoaXBwaW5nOiB7ZH0lXCJcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjYWxjdWxhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgc2VyaWVzOiBbe1xyXG4gICAgICAgICAgICB0eXBlOiAncGllJyxcclxuICAgICAgICAgICAgcmFkaXVzOiBbNDAsIDEwMF0sIC8v5Y2K5b6EIFIgclxyXG4gICAgICAgICAgICBjZW50ZXI6IFsnMzAlJywgJzYwJSddLFxyXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiAxMzUsXHJcbiAgICAgICAgICAgIGRhdGE6IHBpZURhdGEuc2VyaWVzLFxyXG4gICAgICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgICAgIG5vcm1hbDoge1xyXG4gICAgICAgICAgICAgICAgc2hvdzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2NlbnRlcidcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfV1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHBpZURlbGl2ZXJ5T3B0aW9uID0geyAvL+mlvOeKtuWbvm9yZGVyLXN0YXR1c+m7mOiupOmFjee9rlxyXG4gICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgdGV4dDogJ09yZGVyIFN0YXR1cycsXHJcbiAgICAgICAgICAgIHg6ICdsZWZ0JyxcclxuICAgICAgICAgICAgcGFkZGluZzogWzAsIDAsIDAsIDgwXVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGxlZ2VuZDoge1xyXG4gICAgICAgICAgICBvcmllbnQ6ICd2ZXJ0aWNhbCcsXHJcbiAgICAgICAgICAgIHRvcDogNzYsXHJcbiAgICAgICAgICAgIGxlZnQ6IDI2MCxcclxuICAgICAgICAgICAgaXRlbVdpZHRoOiAxMCxcclxuICAgICAgICAgICAgaXRlbUhlaWdodDogMTAsXHJcbiAgICAgICAgICAgIGRhdGE6IG9yZGVyUmF0ZURhdGEubGVnZW5kXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgdG9vbHRpcDoge1xyXG4gICAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScsXHJcbiAgICAgICAgICAgIGZvcm1hdHRlcjogXCJ7Yn06IHtjfSA8YnIvPkNKIE9yZGVyIFJhdGU6IHtkfSVcIlxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNhbGN1bGFibGU6IHRydWUsXHJcbiAgICAgICAgICBzZXJpZXM6IFt7XHJcbiAgICAgICAgICAgIHR5cGU6ICdwaWUnLFxyXG4gICAgICAgICAgICByYWRpdXM6IFs0MCwgMTAwXSwgLy/ljYrlvoQgUiByXHJcbiAgICAgICAgICAgIGNlbnRlcjogWyczMCUnLCAnNjAlJ10sXHJcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IDEzNSxcclxuICAgICAgICAgICAgZGF0YTogb3JkZXJSYXRlRGF0YS5zZXJpZXMsXHJcbiAgICAgICAgICAgIGxhYmVsOiB7XHJcbiAgICAgICAgICAgICAgbm9ybWFsOiB7XHJcbiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnY2VudGVyJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9XVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIOWfuuS6juWHhuWkh+WlveeahGRvbe+8jOWIneWni+WMliBlY2hhcnRzIOWbvuihqFxyXG5cclxuICAgICAgICBjb25zdCBteUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJykpO1xyXG4gICAgICAgIGNvbnN0IG15UGllQ2hhcnQgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpY2xlLWRlbGl2ZXJ5LXJhdGUnKSk7XHJcbiAgICAgICAgY29uc3QgbXlQaWVEZWxpdmVyeUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaWNsZS1vcmRlci1zdGF0dXMnKSk7XHJcbiAgICAgICAgLy8g5Li6ZWNoYXJ0c+WvueixoeWKoOi9veaVsOaNrlxyXG4gICAgICAgIG15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7XHJcbiAgICAgICAgbXlQaWVDaGFydC5zZXRPcHRpb24ocGllT3B0aW9uKTtcclxuICAgICAgICBteVBpZURlbGl2ZXJ5Q2hhcnQuc2V0T3B0aW9uKHBpZURlbGl2ZXJ5T3B0aW9uKTtcclxuICAgICAgICAkc2NvcGUuY2hhcnRBcmVhU2hvdyA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgZWNoYXJ0c0FyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWNoYXJ0c0FyZWEnKTtcclxuICAgICAgICBjb25zdCBsaW5lQ2hhcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBjaGFydEFkYXB0KCkgfSk7IC8v57q/54q25p+x5b2i5Zu+IOmAguW6lOWxj+W5lVxyXG5cclxuICAgICAgICBjb25zdCBkZWJvdW5jZSA9IGZ1bmN0aW9uIChmbiwgZGVsYXkpIHsgLy/lu7bml7blh73mlbBcclxuICAgICAgICAgIGxldCBsYXN0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgLSBsYXN0VGltZSA+IGRlbGF5KSB7XHJcbiAgICAgICAgICAgICAgbGFzdFRpbWUgPSBjdXJyZW50VGltZTtcclxuICAgICAgICAgICAgICBmbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93Lm9ucmVzaXplID0gZGVib3VuY2UoY2hhcnRBZGFwdCwgNTAwKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2hhcnRBZGFwdCgpIHtcclxuICAgICAgICAgIGNvbnN0IHdpZHRoID0gZWNoYXJ0c0FyZWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGhcclxuICAgICAgICAgIGlmICh3aWR0aCA8IDEzMDApIHtcclxuICAgICAgICAgICAgbGluZUNoYXJ0LnN0eWxlLndpZHRoID0gJzcwMHB4JztcclxuICAgICAgICAgICAgbGluZUNoYXJ0LnN0eWxlLmhlaWdodCA9ICc0MDBweCc7XHJcbiAgICAgICAgICAgIG15Q2hhcnQucmVzaXplKClcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxpbmVDaGFydC5zdHlsZS53aWR0aCA9ICc5MDBweCc7XHJcbiAgICAgICAgICAgIGxpbmVDaGFydC5zdHlsZS5oZWlnaHQgPSAnNTAwcHgnO1xyXG4gICAgICAgICAgICBteUNoYXJ0LnJlc2l6ZSgpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5jaGFydEluaXQoKTtcclxuICAgICAgJHNjb3BlLnRpcFNob3cgPSBmYWxzZTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiAxMS0yOCAg55So5oi35YiG5p6QXHJcbiAgICAgICAqL1xyXG4gICAgICBjbGFzcyBDcmVhdGVDaXJjbGUge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgY2lyY2xlQXJyKSB7XHJcbiAgICAgICAgICB0aGlzLmNpcmNsZUFyciA9IGNpcmNsZUFycjtcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IG51bGw7XHJcbiAgICAgICAgICBjb25zdCByZWMgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICBjb25zdCB7IHdpZHRoIH0gPSByZWM7XHJcbiAgICAgICAgICBjb25zdCB3ID0gOTM3LCBoID0gMjc4O1xyXG4gICAgICAgICAgdGhpcy5uID0gd2lkdGggLyB3O1xyXG4gICAgICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IHRoaXMubiAqIGggKyAncHgnO1xyXG4gICAgICAgICAgdGhpcy5kZWJvdW5jZUhpZGUgPSBkZWJvdW5jZSh0aGlzLmhpZGVUaXAsIDAuMSk7XHJcbiAgICAgICAgICB0aGlzLmRlbGF5ID0gMC4xOy8v5by556qX5raI5aSx5bu26L+f5pe26Ze0XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluaXQoKSB7XHJcbiAgICAgICAgICB0aGlzLmNpcmNsZUFyci5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHsgc3R5bGU6IHRoaXMuY2FsY3VDaXJjbGVTdHlsZShpdGVtKSB9KVxyXG4gICAgICAgICAgfSkuZm9yRWFjaCgoY3JpY2xlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNyaWNsZS5jbGFzc05hbWUucHVzaChjcmljbGUuc2NvcmUgPiAwID8gJ2NpcmNsZS0xJyA6ICdjaXJjbGUtMCcpXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ2lyY2xlKGNyaWNsZSwgaSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbGN1Q2lyY2xlU3R5bGUoeyBsZWZ0LCB0b3AsIGRpYW1ldGVyIH0pIHsvL+iuoeeulyDlnIYg55qE5qC35byPXHJcbiAgICAgICAgICBjb25zdCBuID0gdGhpcy5uO1xyXG4gICAgICAgICAgbGVmdCA9IE1hdGguY2VpbChsZWZ0ICogbikgKyAncHgnO1xyXG4gICAgICAgICAgdG9wID0gTWF0aC5jZWlsKHRvcCAqIG4pICsgJ3B4JztcclxuICAgICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKGRpYW1ldGVyICogbikgKyAncHgnO1xyXG4gICAgICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5jZWlsKGRpYW1ldGVyICogbikgKyAncHgnO1xyXG4gICAgICAgICAgcmV0dXJuIHsgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY3JlYXRlQ2lyY2xlKGNyaWNsZSwgaSkge1xyXG4gICAgICAgICAgbGV0IHsgc3R5bGUsIHRhZyA9ICdkaXYnLCBjbGFzc05hbWUsIHRpdGxlLCBzY29yZSB9ID0gY3JpY2xlO1xyXG4gICAgICAgICAgY29uc3QgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xyXG4gICAgICAgICAgY29uc3QgY29udGVudFdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgIGRvbS5hcHBlbmRDaGlsZChjb250ZW50V3JhcClcclxuICAgICAgICAgIGNvbnN0IHRpdGxlRG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBjb25zdCBzY29yZURvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICAgIHNjb3JlID0gJysnICsgc2NvcmU7XHJcbiAgICAgICAgICBjb25zdCBzY29yZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzY29yZSlcclxuICAgICAgICAgIGNvbnN0IHRpdGxlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRpdGxlKVxyXG5cclxuXHJcbiAgICAgICAgICB0aXRsZURvbS5hcHBlbmRDaGlsZCh0aXRsZU5vZGUpXHJcbiAgICAgICAgICBzY29yZURvbS5hcHBlbmRDaGlsZChzY29yZU5vZGUpXHJcblxyXG4gICAgICAgICAgY29udGVudFdyYXAuYXBwZW5kQ2hpbGQodGl0bGVEb20pXHJcbiAgICAgICAgICBjb250ZW50V3JhcC5hcHBlbmRDaGlsZChzY29yZURvbSlcclxuXHJcblxyXG4gICAgICAgICAgLy8gICBkb20uaW5uZXJUZXh0ID0gdGl0bGU7XHJcbiAgICAgICAgICBkb20uZGF0YSA9IGNyaWNsZTsvL+WtmOWCqOaVsOaNriBkZXNj5by55qGG5YaF5a65ICB1cmwg5by55qGGIOeCueWHu+i3s+i9rOmhtemdolxyXG4gICAgICAgICAgZG9tLmNsYXNzTGlzdC5hZGQoJ2NpcmNsZScpO1xyXG4gICAgICAgICAgdGhpcy5hZGREb21TdHlsZShkb20sIHN0eWxlKTtcclxuICAgICAgICAgIHRoaXMuYWRkRG9tQ2xhc3MoZG9tLCBjbGFzc05hbWUpO1xyXG4gICAgICAgICAgdGhpcy5hZGREb21DbGFzcyhkb20sIFtgY2lyY2xlLWkke2l9YF0pO1xyXG4gICAgICAgICAgdGhpcy5hZGREb21FdmVudChkb20pXHJcbiAgICAgICAgICB0aGlzLmFkZERvbVRpcChkb20pXHJcbiAgICAgICAgICB0aGlzLmFkZERvbUNsYXNzKHNjb3JlRG9tLCBbJ3Njb3JlJ10pO1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZG9tKTtcclxuICAgICAgICAgIGlmICghdGl0bGUpIHNjb3JlRG9tLmlubmVyVGV4dCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhZGREb21TdHlsZShkb20sIHN0eWxlKSB7XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gc3R5bGUpIHtcclxuICAgICAgICAgICAgaWYgKHN0eWxlLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgdmFsID0gc3R5bGVbcHJvcF07XHJcbiAgICAgICAgICAgICAgZG9tLnN0eWxlW3Byb3BdID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZERvbUNsYXNzKGRvbSwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICB0eXBlb2YgY2xhc3NOYW1lID09PSAnc3RyaW5nJyAmJiBkb20uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gICAgICAgICAgQXJyYXkuaXNBcnJheShjbGFzc05hbWUpICYmIGRvbS5jbGFzc0xpc3QuYWRkLmFwcGx5KGRvbS5jbGFzc0xpc3QsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZERvbUV2ZW50KGRvbSkge1xyXG4gICAgICAgICAgaWYgKCFkb20uZGF0YS50aXRsZSkgcmV0dXJuOy8v5pyJ5LiA5Liq6KOF6aWw55qE55CD5LiN6ZyA6KaBIHRpdGxl5rKh5pyJIOWImeS4jee7keWumuW8ueeql+S5puWJkVxyXG4gICAgICAgICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBldiA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1RpcChkb20pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBldiA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZVRpcChkb20pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBhZGREb21UaXAoZG9tKSB7Ly/liJvlu7rlvLnmoYYgVGlwXHJcbiAgICAgICAgICBjb25zdCB0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICAgICAgICB0aXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IHRoaXMuaGFuZGxlVGlwQWN0aW9uKGRvbS5kYXRhKSB9KVxyXG4gICAgICAgICAgY29uc3QgeyBkZXNjLCB0aXRsZSB9ID0gZG9tLmRhdGE7XHJcbiAgICAgICAgICAvLyB0aXAuaW5uZXJUZXh0ID0gZGVzYztcclxuICAgICAgICAgIHRpcC5pbm5lckhUTUwgPSBkZXNjO1xyXG4gICAgICAgICAgdGlwLmNsYXNzTGlzdC5hZGQoJ2NwJyk7XHJcbiAgICAgICAgICBjb25zdCBzdHlsZSA9IHtcclxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5hZGREb21DbGFzcyh0aXAsIFsndGlwLXdyYXAnLCAnd3JhcC10ZXh0J10pO1xyXG4gICAgICAgICAgdGhpcy5hZGREb21TdHlsZSh0aXAsIHN0eWxlKTtcclxuICAgICAgICAgIGRvbS5hcHBlbmRDaGlsZCh0aXApO1xyXG4gICAgICAgICAgZG9tLmNoaWxkVGlwID0gdGlwO1xyXG4gICAgICAgICAgY29uc3QgZG9tQWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmthbmJhbkxpbmsnKTtcclxuICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkb21BbGwubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYoZG9tQWxsW2ldLmlubmVyVGV4dCA9PSAnRWxpdGVzJykge1xyXG4gICAgICAgICAgICAgIGRvbUFsbFtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXRFbGl0ZXNVcmwoKTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNob3dUaXAoZG9tKSB7XHJcbiAgICAgICAgICBjbGVhclRpbWVvdXQoZG9tLnRpbWVyKTtcclxuICAgICAgICAgIGRvbS5jaGlsZFRpcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgIGRvbS5zdHlsZS56SW5kZXggPSAyO1xyXG4gICAgICAgICAgY29uc3QgeyB3aWR0aCB9ID0gZG9tLmRhdGEuc3R5bGU7XHJcbiAgICAgICAgICBjb25zdCB7IHdpZHRoOiB0aXBXaWR0aCwgaGVpZ2h0OiB0aXBIZWlnaHQgfSA9IGRvbS5jaGlsZFRpcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgIGNvbnN0IHN0eWxlID0ge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxyXG4gICAgICAgICAgICBsZWZ0OiAocGFyc2VJbnQod2lkdGgpIC0gdGlwV2lkdGgpIC8gMiArICdweCcsXHJcbiAgICAgICAgICAgIHRvcDogLSB0aXBIZWlnaHQgLSBNYXRoLmNlaWwoNCAqIHRoaXMubikgKyAncHgnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmFkZERvbVN0eWxlKGRvbS5jaGlsZFRpcCwgc3R5bGUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhpZGVUaXAoZG9tKSB7XHJcbiAgICAgICAgICBkb20udGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRvbS50aW1lcik7XHJcbiAgICAgICAgICAgIGRvbS5jaGlsZFRpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICBkb20uc3R5bGUuekluZGV4ID0gMDtcclxuICAgICAgICAgIH0sIHRoaXMuZGVsYXkgKiAxMDAwKVxyXG4gICAgICAgIH1cclxuICAgICAgICBoYW5kbGVUaXBBY3Rpb24oeyB1cmwsIGZuIH0pIHtcclxuICAgICAgICAgIGlmICh1cmwpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHVybCA9PT0gJ3N0cmluZycgJiYgdGhpcy5uYXZUbyh1cmwpO1xyXG4gICAgICAgICAgICB0eXBlb2YgdXJsID09PSAnZnVuY3Rpb24nICYmIHRoaXMubmF2VG8odXJsKCkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGZuKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiBmbigpXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBuYXZUbyhocmVmKSB7XHJcbiAgICAgICAgICBpZiAoIWhyZWYpIHJldHVybjtcclxuICAgICAgICAgIGxldCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgYS5ocmVmID0gaHJlZjtcclxuICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJylcclxuICAgICAgICAgIGEuY2xpY2soKTtcclxuICAgICAgICAgIGEgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBsZXQgZGVmYXVsdENpcmNsZUFyciA9IHJldERlZmF1bHRDaXJjbGVBcnIoKVxyXG4gICAgICBmdW5jdGlvbiByZXREZWZhdWx0Q2lyY2xlQXJyKCkgey8v5ZCO56uv5Yaz5a6aIHRpdGxlIGRlc2Mgc2NvcmUgIOmhuuW6jyDlr7nmjqUgIOWJjeerr+WGs+WumuWvueW6lOeahCDlip/og73ot7PovazpobXpnaJcclxuICAgICAgICBjb25zdCBkZWZhdWx0Q2lyY2xlQXJyID0gW1xyXG4gICAgICAgICAgeyBjbGFzc05hbWU6IFtdLCBzY29yZTogMCwgZGVzYzogJycsIHRpdGxlOiAnJywgZGlhbWV0ZXI6IDk0LCBsZWZ0OiAwLCB0b3A6IDM4IH0sLy/pgq7nrrHpqozor4FcclxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBbXSwgc2NvcmU6IDAsIGRlc2M6ICcnLCB0aXRsZTogJycsIGRpYW1ldGVyOiAxMTgsIGxlZnQ6IDUxLCB0b3A6IDE2MCB9LC8v5o6I5p2D54q25oCBXHJcbiAgICAgICAgICB7IGNsYXNzTmFtZTogW10sIHNjb3JlOiAwLCBkZXNjOiAnJywgdGl0bGU6ICcnLCBkaWFtZXRlcjogODQsIGxlZnQ6IDE1MiwgdG9wOiA3MSB9LC8v5omL5py65byV5a+86aG1IOaJi+acuuS4iuS4i+WNleW5tuS7mOasvjJcclxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBbXSwgc2NvcmU6IDAsIGRlc2M6ICcnLCB0aXRsZTogJycsIGRpYW1ldGVyOiAxMTgsIGxlZnQ6IDIzMCwgdG9wOiAxNjAgfSwvL+i/kOi0ueivleeul1xyXG4gICAgICAgICAgeyBjbGFzc05hbWU6IFtdLCBzY29yZTogMCwgZGVzYzogJycsIHRpdGxlOiAnJywgZGlhbWV0ZXI6IDEwNCwgbGVmdDogMjYyLCB0b3A6IDE1IH0sLy93ZWLnq6/kuIvljZXlubbku5jmrL5cclxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBbXSwgc2NvcmU6IDAsIGRlc2M6ICcnLCB0aXRsZTogJycsIGRpYW1ldGVyOiA3NiwgbGVmdDogMzgzLCB0b3A6IDEwOSB9LC8v5YiK55m754q25oCBXHJcbiAgICAgICAgICB7IGNsYXNzTmFtZTogW10sIHNjb3JlOiAwLCBkZXNjOiAnJywgdGl0bGU6ICcnLCBkaWFtZXRlcjogNzYsIGxlZnQ6IDQ0OSwgdG9wOiAyMTcgfSwvL+WFs+iBlOeKtuaAgVxyXG4gICAgICAgICAgeyBjbGFzc05hbWU6IFtdLCBzY29yZTogMCwgZGVzYzogJycsIHRpdGxlOiAnJywgZGlhbWV0ZXI6IDE1OCwgbGVmdDogNDY1LCB0b3A6IDQ2IH0sLy/mkJzlk4HnirbmgIFcclxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBbXSwgc2NvcmU6IDAsIGRlc2M6ICcnLCB0aXRsZTogJycsIGRpYW1ldGVyOiA4MCwgbGVmdDogNjQ1LCB0b3A6IDAgfSwvL0V4Y2Vs6K6i5Y2VXHJcbiAgICAgICAgICB7IGNsYXNzTmFtZTogW10sIHNjb3JlOiAwLCBkZXNjOiAnJywgdGl0bGU6ICcnLCBkaWFtZXRlcjogOTYsIGxlZnQ6IDY1MiwgdG9wOiAxMjcgfSwvL2dvb2dsZeaPkuS7tlxyXG4gICAgICAgICAgeyBjbGFzc05hbWU6IFtdLCBzY29yZTogMCwgZGVzYzogJycsIHRpdGxlOiAnJywgZGlhbWV0ZXI6IDExNCwgbGVmdDogNzY3LCB0b3A6IDE3NCB9LC8v5ZKMQ0rlrqLmnI3ogYrlpKlcclxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBbXSwgc2NvcmU6IDAsIGRlc2M6ICcnLCB0aXRsZTogJycsIGRpYW1ldGVyOiAxMDYsIGxlZnQ6IDc3NCwgdG9wOiA0NCB9LC8v5ZyoRWxpdGVz55WZ6KiAXHJcbiAgICAgICAgICB7IGNsYXNzTmFtZTogWydjaXJjbGUtMiddLCBzY29yZTogMCwgdXJsOiAnJywgZGVzYzogJycsIHRpdGxlOiAnJywgZGlhbWV0ZXI6IDMyLCBsZWZ0OiA5MDUsIHRvcDogNTcgfVxyXG4gICAgICAgIF1cclxuICAgICAgICBjb25zdCBjaXJjbGVGdW5jID0gW1xyXG4gICAgICAgICAgeyB1cmw6ICcvbXlDSi5odG1sIy9hdXRob3JpemUvU2hvcGlmeT9hZGRzdG9yZT0xJyB9LC8v5o6I5p2D54q25oCBXHJcbiAgICAgICAgICB7IHVybDogJy9jakFwcERvd25sb2FkLmh0bWwnIH0sLy/miYvmnLrlvJXlr7zpobUg5omL5py65LiK5LiL5Y2V5bm25LuY5qy+MiAgIG9sZCAtLS0+PiAvbGVhZmxldC5odG1sXHJcbiAgICAgICAgICB7IHVybDogJ2h0dHBzOi8vY2pkcm9wc2hpcHBpbmcuY29tL2FydGljbGUtZGV0YWlscy83NScgfSwvL+WFs+iBlOeKtuaAgSBvbGQgLS0tPj4gL215Q0ouaHRtbCMvcHJvZHVjdHMtY29ubmVjdGlvbi9jb25uZWN0ZWRcclxuICAgICAgICAgIHsgdXJsOiAnL215Q0ouaHRtbCMvbXlDSlNoaXBwaW5nQ2FsY3VsYXRpb24nIH0sLy/ov5DotLnor5Xnrpcgb2xkIC0tLT4+IHVybDogKCkgPT4gcmV0R29vZHNEZXRhaWxVcmwoJ2NhbGMnKVxyXG4gICAgICAgICAgeyB1cmw6ICdodHRwczovL2NqZHJvcHNoaXBwaW5nLmNvbS9hcnRpY2xlLWRldGFpbHMvNTMnIH0sLy/pgq7nrrHpqozor4Egb2xkIC0tLT4+IC9teUNKLmh0bWwjL3Byb2ZpbGVcclxuICAgICAgICAgIHsgdXJsOiAnaHR0cHM6Ly9jamRyb3BzaGlwcGluZy5jb20vYXJ0aWNsZS1kZXRhaWxzLzgnIH0sLy/mkJzlk4HnirbmgIEgb2xkIC0tLT4+IC9teUNKLmh0bWwjL3NvdXJjaW5nXHJcbiAgICAgICAgICB7IHVybDogJ2h0dHBzOi8vY2pkcm9wc2hpcHBpbmcuY29tL2FydGljbGUtZGV0YWlscy8yNScsIH0sLy/liIrnmbvnirbmgIEgb2xkIC0tLT4+IHVybDogKCkgPT4gcmV0R29vZHNEZXRhaWxVcmwoJ2xpc3QnKVxyXG4gICAgICAgICAgeyB1cmw6ICdodHRwczovL2Nocm9tZS5nb29nbGUuY29tL3dlYnN0b3JlL2RldGFpbC9jamRyb3BzaGlwcGluZy9tYm5kbGprZ2FvYWlsZm5wZW9kbmxlamlnbWtkcG9rYicgfSwvL2dvb2dsZeaPkuS7tiBvbGQgLS0tPj4gaHR0cHM6Ly9wbGF5Lmdvb2dsZS5jb20vc3RvcmUvYXBwcy9kZXRhaWxzP2lkPWNvbS5jamRyb3BzaGlwcGluZy5hcHBcclxuICAgICAgICAgIHsgdXJsOiAoKSA9PiByZXRFbGl0ZXNVcmwoKSB9LC8v5ZyoRWxpdGVz55WZ6KiAXHJcbiAgICAgICAgICB7IHVybDogJ2h0dHBzOi8vY2hhdC5jamRyb3BzaGlwcGluZy5jb20vJywgZm46ICgpID0+IHsgdGFsaygpIH0gfSwvL+WSjENK5a6i5pyN6IGK5aSpXHJcbiAgICAgICAgICB7IHVybDogJ2h0dHBzOi8vY2pkcm9wc2hpcHBpbmcuY29tL2FydGljbGUtZGV0YWlscy8xNjInIH0sLy9FeGNlbOiuouWNlSBvbGQgLS0tPj4gL215Q0ouaHRtbCMvZGlyZWN0LW9yZGVyc1xyXG4gICAgICAgICAgeyB1cmw6ICdodHRwczovL2NqZHJvcHNoaXBwaW5nLmNvbS9hcnRpY2xlLWRldGFpbHMvMTUwJyB9LC8vd2Vi56uv5LiL5Y2V5bm25LuY5qy+IG9sZCAtLS0+PiAvbXlDSi5odG1sIy9kaXJlY3Qtb3JkZXJzXHJcbiAgICAgICAgXVxyXG4gICAgICAgIHJldHVybiBkZWZhdWx0Q2lyY2xlQXJyO1xyXG4gICAgICAgIC8vIHJldHVybiBkZWZhdWx0Q2lyY2xlQXJyLm1hcCgoaXRlbSwgaSkgPT4gY2lyY2xlRnVuY1tpXSA/IE9iamVjdC5hc3NpZ24oaXRlbSwgY2lyY2xlRnVuY1tpXSkgOiBpdGVtKVxyXG4gICAgICAgIC8vIEF1dGhvcml6YXRpb24gICAgICAgICAgICAgICAg5o6I5p2D54q25oCBXHJcbiAgICAgICAgLy8gT3JkZXJpbmcgYW5kIFBheWluZyBvbiBBcHAgICDmiYvmnLrkuIrkuIvljZXlubbku5jmrL4yXHJcbiAgICAgICAgLy8gQ29ubmVjdGlvbiAgICAgICAgICAgICAgICAgICDlhbPogZTnirbmgIFcclxuICAgICAgICAvLyBVc2luZyBzaGlwcGluZyBjYWxjdWxhdG9yICAgIOi/kOi0ueivleeul1xyXG4gICAgICAgIC8vIEVtYWlsIHZlcmlmaWNhdGlvbiAgICAgICAgICAg6YKu566x6aqM6K+BXHJcbiAgICAgICAgLy8gU291cmNpbmcgICAgICAgICAgICAgICAgICAgICDmkJzlk4HnirbmgIFcclxuICAgICAgICAvLyBMaXN0ICAgICAgICAgICAgICAgICAgICAgICAgIOWIiueZu+eKtuaAgVxyXG4gICAgICAgIC8vIENKIGdvb2dsZSBleHRlbnNpb24gICAgICAgICAgZ29vZ2xl5o+S5Lu2XHJcbiAgICAgICAgLy8gUG9zdGluZyBvbiBFbGl0ZSAgICAgICAgICAgICDlnKhFbGl0ZXPnlZnoqIBcclxuICAgICAgICAvLyBUYWxraW5nIHdpdGggQ0ogICAgICAgICAgICAgIOWSjENK5a6i5pyN6IGK5aSpXHJcbiAgICAgICAgLy8gT3JkZXJpbmcgYnkgRXhjZWwgICAgICAgICAgICBFeGNlbOiuouWNlVxyXG4gICAgICAgIC8vIE9yZGVyaW5nIG9uIHdlYiAgICAgICAgICAgICAgd2Vi56uv5LiL5Y2V5bm25LuY5qy+XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAkc2NvcGUudXNlckFuYWx5c2lzU2hvdyA9IGZhbHNlOy8vIOaOp+WItuaYvuekuiDnlKjmiLfnlLvlg49cclxuICAgICAgXHJcbiAgICAgICRzY29wZS5yZXRFbGl0ZXNVcmwgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3X3VybCA9IGRzcC5nZXRFbGl0ZXNVcmwoKTtcclxuICAgICAgICBpZihuZXdfdXJsKSB3aW5kb3cub3BlbihuZXdfdXJsKTtcclxuICAgICAgfVxyXG4gICAgICBmdW5jdGlvbiByZXRFbGl0ZXNVcmwoKSB7XHJcbiAgICAgICAgLy8gOiBgaHR0cHM6Ly9lbGl0ZXMuY2pkcm9wc2hpcHBpbmcuY29tL2Nyb3NzP3Rva2VuPSR7dG9rZW59Jl90PSR7RGF0ZS5ub3coKX1gO1xyXG4gICAgICAgIHJldHVybiBkc3AuZ2V0RWxpdGVzVXJsKCk7XHJcbiAgICAgIH1cclxuICAgICAgbGV0IGdvb2RzSWQgPSBudWxsOy8v6Lez6L2sIOWVhuWTgeivpuaDhemhtWlkXHJcbiAgICAgIGZ1bmN0aW9uIHJldEdvb2RzRGV0YWlsVXJsKGFjdGlvbikge1xyXG4gICAgICAgIGNvbnN0IGlkID0gZ29vZHNJZCB8fCAnJztcclxuICAgICAgICByZXR1cm4gYC9wcm9kdWN0LWRldGFpbC5odG1sP2lkPSR7aWR9JmFjdGlvbj0ke2FjdGlvbn1gO1xyXG4gICAgICB9XHJcbiAgICAgIGZ1bmN0aW9uIHRhbGsoKSB7Ly/nlJ/kuqfnjq/looMg5omN6IO9IOWQr+eUqFxyXG4gICAgICAgIHdpbmRvdy5lbnZpcm9ubWVudCA9PT0gJyMjcHJvZHVjdGlvbiMjJyAmJiB3aW5kb3cucG9zdE1lc3NhZ2UoeyBmbGFnOiBcInByb2ZpbGUtY29uY2F0XCIgfSwgXCIqXCIpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKiBlY2hhcnRzIOeUu+WbviAqL1xyXG4gICAgICBpZiAodHlwZW9mIGVjaGFydHMgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQtc2NyaXB0JywgZXYgPT4ge1xyXG4gICAgICAgICAgaWYgKGV2LmRldGFpbC5uYW1lID09PSAnZWNoYXJ0cy5jb21tb24ubWluLmpzJykge1xyXG4gICAgICAgICAgICBnZXRBbmFseXNpc0luZm8oKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBnZXRBbmFseXNpc0luZm8oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gZ2V0QW5hbHlzaXNJbmZvKCkge1xyXG4gICAgICAgIC8vIGxheWVyLmxvYWQoMik7XHJcbiAgICAgICAgbGV0IHVybCA9ICdlcnAvdXNlckF0dHJpYnV0ZS9nZXRBdHRyaWJ1dGVMaXN0JztcclxuICAgICAgICBkc3AubXlwb3N0KHVybCwge30pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgLy8gY29uc3QgeyBkYXRhLCBjb2RlIH0gPSByZXM7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0QW5hbHlzaXNJbmZvIHJlcy0tLT4gJywgcmVzKVxyXG4gICAgICAgICAgbGV0IGNpcmNsZUFyciA9IGRlZmF1bHRDaXJjbGVBcnIubWFwKChpdGVtLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbmFtZV9lbiA9ICcnLCBkZXNjX2VuID0gJycsIGlkIH0gPSByZXNbaV0gfHwge307XHJcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHsgdGl0bGU6IG5hbWVfZW4sIGRlc2M6IGRlc2NfZW4sIGlkIH0pXHJcbiAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgIGdldFNjb3JlSW5mbyhjaXJjbGVBcnIpXHJcblxyXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0QW5hbHlzaXNJbmZvIGVyci0tLT4gJywgZXJyKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgZnVuY3Rpb24gZ2V0U2NvcmVJbmZvKGNpcmNsZUFycikgey8v6I635Y+W55u45YWz5YiG5YC8XHJcbiAgICAgICAgLy8gbGF5ZXIubG9hZCgyKTtcclxuICAgICAgICBsZXQgdXJsID0gJ2VycC91c2VyQXR0cmlidXRlL2dldEF0dHJpYnV0ZVNjb3JlQnlVc2VySWQnO1xyXG4gICAgICAgIGxldCBjamNyeCA9ICEhZG9jdW1lbnQuYm9keS5kYXRhc2V0LmNqY3J4O1xyXG4gICAgICAgIGRzcC5teXBvc3QodXJsLCB7IGNqY3J4IH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgLy8gY29uc3QgeyBkYXRhLCBjb2RlIH0gPSByZXM7XHJcbiAgICAgICAgICAkc2NvcGUudXNlckFuYWx5c2lzU2hvdyA9IHRydWU7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0U2NvcmVJbmZvIHJlcy0tLT4gJywgcmVzKVxyXG4gICAgICAgICAgY2lyY2xlQXJyID0gY2lyY2xlQXJyLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgbGV0IHNjb3JlSW5mbyA9IHJlcy5maW5kKHNjb3JlSXRlbSA9PiBzY29yZUl0ZW0uYXR0cmlidXRlX2lkID09IGl0ZW0uaWQpIHx8IHt9O1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc2NvcmVJbmZvJywgc2NvcmVJbmZvKVxyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpdGVtLCB7IHNjb3JlOiBzY29yZUluZm8uc2NvcmUgfHwgMCB9KVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdjaXJjbGVBcnIgIC0tLT4+ICAnLCBjaXJjbGVBcnIpXHJcbiAgICAgICAgICAkc2NvcGUuY2lyY2xlQXJyID0gY2lyY2xlQXJyO1xyXG4gICAgICAgICAgY29uc3QgbXlTY29yZSA9IGNpcmNsZUFyci5yZWR1Y2UoKHByZXYsIG5leHQpID0+IHByZXYgKyBuZXh0LnNjb3JlLCAwKTtcclxuICAgICAgICAgICRzY29wZS5maWxsU3R5bGUgPSB7IHdpZHRoOiBteVNjb3JlICsgJyUnIH1cclxuICAgICAgICAgIGNvbnN0IGNvaW4gPSBNYXRoLmNlaWwobXlTY29yZSAvIDIwKSB8fCAxOy8vY29pbuaVsOmHj1xyXG4gICAgICAgICAgJHNjb3BlLmNvaW5JbWcgPSBgL3N0YXRpYy9pbWFnZS9wdWJsaWMtaW1nL2NvaW4ke2NvaW59LnBuZ2A7XHJcbiAgICAgICAgICAkc2NvcGUubGV2ZWwgPSBNYXRoLmZsb29yKG15U2NvcmUgLyAxMCk7XHJcbiAgICAgICAgICAkc2NvcGUuaXNqaWZlbkRyb3AgPSAkc2NvcGUubGV2ZWwgKiAxMCA8IDYwXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnbXlTY29yZSAgLS0tPj4gICcsIG15U2NvcmUpXHJcbiAgICAgICAgICBpbml0KGNpcmNsZUFycilcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ2dldFNjb3JlSW5mbyBlcnItLS0+ICcsIGVycilcclxuICAgICAgICAgIGluaXQoY2lyY2xlQXJyKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgZnVuY3Rpb24gaW5pdChjaXJjbGVBcnIpIHsvL+eUqOaIt+WIhuaekCDliJ3lp4vljJZcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJyk7XHJcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ2lyY2xlKCkge1xyXG4gICAgICAgICAgbGV0IGNpcmNsZSA9IG5ldyBDcmVhdGVDaXJjbGUoY29udGFpbmVyLCBjaXJjbGVBcnIpXHJcbiAgICAgICAgICBjaXJjbGUuaW5pdCgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRlYm91bmNlQ3JlYXRlQ2lyY2xlID0gZGVib3VuY2UoY3JlYXRlQ2lyY2xlLCAwLjEpXHJcbiAgICAgICAgZGVib3VuY2VDcmVhdGVDaXJjbGUoKVxyXG4gICAgICAgIHdpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGRlYm91bmNlQ3JlYXRlQ2lyY2xlKClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICBmdW5jdGlvbiBjcmVhdGVMZXZlbExpbmVEYXRlKCkgey8vbHYxIC0gbHYxMFxyXG4gICAgICAgIGxldCBhcnIgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDExOyBpKyspIHtcclxuICAgICAgICAgIGFyci5wdXNoKHtcclxuICAgICAgICAgICAgbHY6IGAke2l9YCxcclxuICAgICAgICAgICAgc2NvcmU6IGkgKiAxMFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycjtcclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUubGV2ZWxMaW5lRGF0YSA9IGNyZWF0ZUxldmVsTGluZURhdGUoKVxyXG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZShmbiwgZGVsYXkgPSAxKSB7Ly/pmLLmipYgZm5cclxuICAgICAgICBsZXQgdGltZXIgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gICAgICAgICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgfSwgZGVsYXkgKiAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgc2V0VGltZW91dCgoKSA9PiBnZXRUcmVuZGluZ1Byb2R1Y3RzKCksIDUwMClcclxuICAgICAgZnVuY3Rpb24gZ2V0VHJlbmRpbmdQcm9kdWN0cygpIHsvL+iOt+WPlueMnOS9oOWWnOasoiDllYblk4HliJfooagg55So5LqOIOWPluesrOS4gOS4qiDllYblk4FpZCDkvZzkuLog55So5oi35YiG5p6QXHJcbiAgICAgICAgLy8gbGF5ZXIubG9hZCgyKTtcclxuICAgICAgICBsZXQgdXJsID0gJ2NqL2hvbWVQYWdlL3NlbGVjdE5ld1Byb2R1Y3RMaXN0JztcclxuICAgICAgICBkc3AubXlwb3N0KHVybCwgeyB0aW1lRmxhZzogJ0Ryb3BzaGlwcGluZycsIHBhZ2VTaXplOiA2IH0pLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdnZXRUcmVuZGluZ1Byb2R1Y3RzIHJlcycsIHJlcylcclxuICAgICAgICAgIGdvb2RzSWQgPSByZXNbMF0gPyByZXNbMF0uaWQgOiBudWxsO1xyXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0VHJlbmRpbmdQcm9kdWN0cyBlcnInLCBlcnIpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqIDIwMjAtMDQtMDkg56ev5YiG5Y+v5oqY5Y+gICovXHJcbiAgICAgICRzY29wZS5zaHJpbmtEcm9wRm4gPSAoKSA9PiB7IC8v5bGV5byA5pS26LW3XHJcbiAgICAgICAgJHNjb3BlLmlzamlmZW5Ecm9wID0gISRzY29wZS5pc2ppZmVuRHJvcFxyXG4gICAgICB9XHJcbiAgICB9XSk7XHJcblxyXG4gIHJldHVybiBtb2R1bGU7XHJcbn1cclxuXHJcbi8vIOiuoeeul+WVhuWTgeWNoeeJh+aVsOmHj1xyXG5mdW5jdGlvbiBjYWxjUG9yZHVjdENhcmRTdW0oJGVsZW1lbnQpIHtcclxuICBjb25zdCBib3hXaWR0aCA9ICRlbGVtZW50LmZpbmQoJyNqcy1wcm9kdWN0LWNhcmQtd3JhcCcpLndpZHRoKCk7XHJcbiAgY29uc3QgcHJvZENhcmRXaWR0aCA9IDI1MDsgLy8g5LiA5Liq5ZWG5ZOB5Y2h54mH5a695bqmXHJcbiAgY29uc3Qgb25MaW5lU3VtID0gTWF0aC5mbG9vcihib3hXaWR0aCAvIHByb2RDYXJkV2lkdGgpIC8vIOS4gOihjOaOkuWIl+aVsOmHj1xyXG4gIC8vIGNvbnNvbGUubG9nKG9uTGluZVN1bSAqIDIpO1xyXG5cclxuICByZXR1cm4gb25MaW5lU3VtICogMjsgLy8g5L+d55WZ5Lik5o6SXHJcbn1cclxuXHJcbi8vIOaUtui1t+OAgeaJk+W8gOW3puS+p+agj+WKqOaAgeiwg+aVtFxyXG5mdW5jdGlvbiBzZXRQcm9kdWN0Q2FyZEhlaWdodCh7ICRzY29wZSwgJGVsZW1lbnQsIGVuZCB9KSB7XHJcbiAgaWYgKGVuZCkge1xyXG4gICAgJHNjb3BlLnByb2R1Y3RDYXJkU3R5bGUgPSB7fTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8g5pS26LW344CB5bGV5byA6L+H56iL5Lit5LiN6KaB5oqK5aSa5L2Z55qE5Zu+54mH6Zyy5Ye65p2lXHJcbiAgICBjb25zdCBib3hIZWlnaHQgPSAkZWxlbWVudC5maW5kKCcjanMtcHJvZHVjdC1jYXJkLXdyYXAnKS5oZWlnaHQoKTtcclxuICAgICRzY29wZS5wcm9kdWN0Q2FyZFN0eWxlID0ge1xyXG4gICAgICBcIm1heC1oZWlnaHRcIjogYCR7Ym94SGVpZ2h0fXB4YCxcclxuICAgICAgXCJvdmVyZmxvd1wiOiBcImhpZGRlblwiLFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUEzU0E7QUFBQTtBQUFBO0FBNlNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFOQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBUEE7QUFTQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFQQTtBQVZBO0FBb0JBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUlBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUF2QkE7QUFEQTtBQTJCQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUEE7QUFXQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBTkE7QUFkQTtBQXdCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVlBO0FBNUNBO0FBOENBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBTkE7QUFuQkE7QUFpQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBTkE7QUFuQkE7QUFDQTtBQW1DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBcnJCQTtBQXNyQkE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsc0JBO0FBQUE7QUFBQTtBQWtzQkE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBenNCQTtBQUFBO0FBQUE7QUEwc0JBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBanRCQTtBQUFBO0FBQUE7QUFrdEJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBanZCQTtBQUFBO0FBQUE7QUFtdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBenZCQTtBQUFBO0FBQUE7QUEydkJBO0FBQ0E7QUFDQTtBQTd2QkE7QUFBQTtBQUFBO0FBOHZCQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdHdCQTtBQUFBO0FBQUE7QUF1d0JBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOXhCQTtBQUFBO0FBQUE7QUFneUJBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBM3lCQTtBQUFBO0FBQUE7QUE2eUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWx6QkE7QUFBQTtBQUFBO0FBbXpCQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUE1ekJBO0FBQUE7QUFBQTtBQTh6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwMEJBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFxMEJBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBWkE7QUFjQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/pages/mycj/associated-store/associated-store.js\n");

/***/ })

}]);