(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[14],{

/***/ "../src/pages/mycj/authorize/apikey.js":
/*!*********************************************!*\
  !*** ../src/pages/mycj/authorize/apikey.js ***!
  \*********************************************/
/*! exports provided: apikeyFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"apikeyFactory\", function() { return apikeyFactory; });\nfunction apikeyFactory(angular) {\n  var app = angular.module('apikey.module', ['service']);\n  app.controller('apikey.ctrl', ['$scope', 'dsp', function ($scope, dsp) {\n    console.log($('.header-nav')); //页面加载获取秘钥\n\n    $('.api-content').css('min-height', $(window).height() * 1 - 171 + 'px');\n    getSecret();\n\n    function getSecret() {\n      dsp.postFun('app/shop/getSecret', {}, function (data) {\n        //console.log(data);\n        var result = data.data;\n        var secret = result.secret;\n        var id = result.id;\n        $('.api-middle>p>span').attr('data-id', id);\n        console.log(secret);\n        $('.api-middle>p>span').html(secret);\n      }, function (data) {\n        layer.msg('Failed to get the secret key');\n      });\n    }\n\n    var vip = localStorage.getItem('vip') == undefined ? \"\" : localStorage.getItem('vip');\n\n    if (vip == '1') {\n      //vipFlag\n      $('.header-nav').addClass('vipFlag');\n      $('.mycj-left-bar').addClass('vipFlag');\n      $('.mycj-right-wrap').css('background', '#F0EDE7').addClass('vip');\n    } else {\n      $('.header-nav').removeClass('vipFlag');\n      $('.mycj-left-bar').removeClass('vipFlag');\n      $('.mycj-right-wrap').css('background', '#f2f3f5').removeClass('vip');\n    }\n\n    $('.header-nav li').eq(4).addClass('active'); //获取\n\n    $('#generateBtn').click(function () {\n      var id = $('.api-middle>p>span').attr('data-id');\n      var data = {};\n\n      if (id == null || id == '' || id == undefined) {\n        data.id = '';\n      } else {\n        data.id = id;\n      }\n\n      dsp.postFun('app/shop/refreshSecret', JSON.stringify(data), function (data) {\n        var result = data.data;\n        var secret = result.secret;\n        var id = result.id;\n        $('.api-middle>p>span').attr('data-id', id);\n        console.log(secret);\n        $('.api-middle>p>span').html(secret);\n      }, function (data) {\n        layer.msg('Failed to get the secret key');\n      });\n    }); //删除\n\n    $('#deleteBtn').click(function () {\n      var id = $('.api-middle>p>span').attr('data-id');\n      var token = $('.api-middle>p>span').html();\n      console.log(token);\n\n      if (id == null || id == '' || id == undefined) {\n        layer.msg('You have not obtained the secret key.');\n      } else {\n        var data = {\n          \"id\": id,\n          \"token\": token\n        };\n        dsp.postFun('app/shop/deleteSecret', JSON.stringify(data), function (data) {\n          console.log(data.data);\n\n          if (data.data.result == true) {\n            // layer.msg('successfully delete');\n            layer.msg('Deleted Successfully');\n            $('.api-middle>p>span').html('');\n          }\n        }, function (data) {});\n        console.log(data);\n      } //$('.api-middle>p>span').html('');\n\n    }); //复制\n\n    $('#copyBtn').click(function () {\n      var link = $('.api-middle>p>span').html();\n\n      if (link == null || link == '' || link == undefined) {\n        // layer.msg('Please get data');\n        layer.msg('Please generate a key first.');\n      } else {\n        console.log(link);\n        var Url1;\n        Url1 = document.createElement('input');\n        Url1.setAttribute('readonly', 'readonly');\n        Url1.setAttribute('value', link);\n        document.body.appendChild(Url1); //console.log(Url1.value);\n\n        Url1.select(); //\n\n        document.execCommand(\"Copy\");\n        var tag = document.execCommand(\"Copy\"); //ִ\n\n        if (tag) {\n          layer.msg('Copied Successfully');\n        }\n\n        document.body.removeChild(Url1);\n      }\n    }); //跳转到api\n\n    $('#docBtn').click(function () {\n      window.open('https://developers.cjdropshipping.com');\n    });\n  }]);\n  return app;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovYXV0aG9yaXplL2FwaWtleS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9zcmMvcGFnZXMvbXljai9hdXRob3JpemUvYXBpa2V5LmpzP2E1YjciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGFwaWtleUZhY3RvcnkoYW5ndWxhcikge1xyXG4gIGNvbnN0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcGlrZXkubW9kdWxlJywgWydzZXJ2aWNlJ10pO1xyXG5cclxuICBhcHAuY29udHJvbGxlcignYXBpa2V5LmN0cmwnLCBbJyRzY29wZScsICdkc3AnLFxyXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgZHNwKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCQoJy5oZWFkZXItbmF2JykpO1xyXG4gICAgICAvL+mhtemdouWKoOi9veiOt+WPluenmOmSpVxyXG4gICAgICAkKCcuYXBpLWNvbnRlbnQnKS5jc3MoJ21pbi1oZWlnaHQnLCAkKHdpbmRvdykuaGVpZ2h0KCkgKiAxIC0gMTcxICsgJ3B4JylcclxuICAgICAgZ2V0U2VjcmV0KCk7XHJcbiAgICAgIGZ1bmN0aW9uIGdldFNlY3JldCgpIHtcclxuICAgICAgICBkc3AucG9zdEZ1bignYXBwL3Nob3AvZ2V0U2VjcmV0Jywge30sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgIHZhciBzZWNyZXQgPSByZXN1bHQuc2VjcmV0O1xyXG4gICAgICAgICAgdmFyIGlkID0gcmVzdWx0LmlkO1xyXG4gICAgICAgICAgJCgnLmFwaS1taWRkbGU+cD5zcGFuJykuYXR0cignZGF0YS1pZCcsIGlkKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHNlY3JldCk7XHJcbiAgICAgICAgICAkKCcuYXBpLW1pZGRsZT5wPnNwYW4nKS5odG1sKHNlY3JldCk7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIGxheWVyLm1zZygnRmFpbGVkIHRvIGdldCB0aGUgc2VjcmV0IGtleScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciB2aXAgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmlwJykgPT0gdW5kZWZpbmVkID8gXCJcIiA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2aXAnKTtcclxuICAgICAgaWYgKHZpcCA9PSAnMScpIHsvL3ZpcEZsYWdcclxuICAgICAgICAkKCcuaGVhZGVyLW5hdicpLmFkZENsYXNzKCd2aXBGbGFnJyk7XHJcbiAgICAgICAgJCgnLm15Y2otbGVmdC1iYXInKS5hZGRDbGFzcygndmlwRmxhZycpO1xyXG4gICAgICAgICQoJy5teWNqLXJpZ2h0LXdyYXAnKS5jc3MoJ2JhY2tncm91bmQnLCAnI0YwRURFNycpLmFkZENsYXNzKCd2aXAnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKCcuaGVhZGVyLW5hdicpLnJlbW92ZUNsYXNzKCd2aXBGbGFnJyk7XHJcbiAgICAgICAgJCgnLm15Y2otbGVmdC1iYXInKS5yZW1vdmVDbGFzcygndmlwRmxhZycpO1xyXG4gICAgICAgICQoJy5teWNqLXJpZ2h0LXdyYXAnKS5jc3MoJ2JhY2tncm91bmQnLCAnI2YyZjNmNScpLnJlbW92ZUNsYXNzKCd2aXAnKTtcclxuICAgICAgfVxyXG4gICAgICAkKCcuaGVhZGVyLW5hdiBsaScpLmVxKDQpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcblxyXG4gICAgICAvL+iOt+WPllxyXG4gICAgICAkKCcjZ2VuZXJhdGVCdG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGlkID0gJCgnLmFwaS1taWRkbGU+cD5zcGFuJykuYXR0cignZGF0YS1pZCcpO1xyXG4gICAgICAgIHZhciBkYXRhID0ge307XHJcbiAgICAgICAgaWYgKGlkID09IG51bGwgfHwgaWQgPT0gJycgfHwgaWQgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBkYXRhLmlkID0gJyc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRhdGEuaWQgPSBpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9zaG9wL3JlZnJlc2hTZWNyZXQnLCBKU09OLnN0cmluZ2lmeShkYXRhKSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIHZhciByZXN1bHQgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICB2YXIgc2VjcmV0ID0gcmVzdWx0LnNlY3JldDtcclxuICAgICAgICAgIHZhciBpZCA9IHJlc3VsdC5pZDtcclxuICAgICAgICAgICQoJy5hcGktbWlkZGxlPnA+c3BhbicpLmF0dHIoJ2RhdGEtaWQnLCBpZCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhzZWNyZXQpO1xyXG4gICAgICAgICAgJCgnLmFwaS1taWRkbGU+cD5zcGFuJykuaHRtbChzZWNyZXQpO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBsYXllci5tc2coJ0ZhaWxlZCB0byBnZXQgdGhlIHNlY3JldCBrZXknKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICAgIC8v5Yig6ZmkXHJcbiAgICAgICQoJyNkZWxldGVCdG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGlkID0gJCgnLmFwaS1taWRkbGU+cD5zcGFuJykuYXR0cignZGF0YS1pZCcpO1xyXG4gICAgICAgIHZhciB0b2tlbiA9ICQoJy5hcGktbWlkZGxlPnA+c3BhbicpLmh0bWwoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0b2tlbik7XHJcbiAgICAgICAgaWYgKGlkID09IG51bGwgfHwgaWQgPT0gJycgfHwgaWQgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBsYXllci5tc2coJ1lvdSBoYXZlIG5vdCBvYnRhaW5lZCB0aGUgc2VjcmV0IGtleS4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogaWQsXHJcbiAgICAgICAgICAgIFwidG9rZW5cIjogdG9rZW5cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBkc3AucG9zdEZ1bignYXBwL3Nob3AvZGVsZXRlU2VjcmV0JywgSlNPTi5zdHJpbmdpZnkoZGF0YSksIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVzdWx0ID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAvLyBsYXllci5tc2coJ3N1Y2Nlc3NmdWxseSBkZWxldGUnKTtcclxuICAgICAgICAgICAgICBsYXllci5tc2coJ0RlbGV0ZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICAgICAgJCgnLmFwaS1taWRkbGU+cD5zcGFuJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7IH0pO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vJCgnLmFwaS1taWRkbGU+cD5zcGFuJykuaHRtbCgnJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgICAvL+WkjeWItlxyXG4gICAgICAkKCcjY29weUJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbGluayA9ICQoJy5hcGktbWlkZGxlPnA+c3BhbicpLmh0bWwoKTtcclxuICAgICAgICBpZiAobGluayA9PSBudWxsIHx8IGxpbmsgPT0gJycgfHwgbGluayA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIC8vIGxheWVyLm1zZygnUGxlYXNlIGdldCBkYXRhJyk7XHJcbiAgICAgICAgICBsYXllci5tc2coJ1BsZWFzZSBnZW5lcmF0ZSBhIGtleSBmaXJzdC4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2cobGluayk7XHJcbiAgICAgICAgICB2YXIgVXJsMTtcclxuICAgICAgICAgIFVybDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgVXJsMS5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJ3JlYWRvbmx5Jyk7XHJcbiAgICAgICAgICBVcmwxLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBsaW5rKTtcclxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoVXJsMSk7XHJcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKFVybDEudmFsdWUpO1xyXG4gICAgICAgICAgVXJsMS5zZWxlY3QoKTsgLy9cclxuICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiQ29weVwiKTtcclxuICAgICAgICAgIHZhciB0YWcgPSBkb2N1bWVudC5leGVjQ29tbWFuZChcIkNvcHlcIik7IC8v1rRcclxuICAgICAgICAgIGlmICh0YWcpIHtcclxuICAgICAgICAgICAgbGF5ZXIubXNnKCdDb3BpZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKFVybDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0pO1xyXG4gICAgICAvL+i3s+i9rOWIsGFwaVxyXG4gICAgICAkKCcjZG9jQnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHdpbmRvdy5vcGVuKCdodHRwczovL2RldmVsb3BlcnMuY2pkcm9wc2hpcHBpbmcuY29tJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIH1dKTtcclxuXHJcbiAgcmV0dXJuIGFwcDtcclxuXHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/pages/mycj/authorize/apikey.js\n");

/***/ })

}]);