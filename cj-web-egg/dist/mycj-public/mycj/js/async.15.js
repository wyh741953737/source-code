(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[15],{

/***/ "../src/pages/mycj/connection/connection-pending.js":
/*!**********************************************************!*\
  !*** ../src/pages/mycj/connection/connection-pending.js ***!
  \**********************************************************/
/*! exports provided: connectionPendingFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"connectionPendingFactory\", function() { return connectionPendingFactory; });\n/* harmony import */ var _connection_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./connection-common */ \"../src/pages/mycj/connection/connection-common.js\");\n/* harmony import */ var _src_pages_mycj_mycj_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @src/pages/mycj/mycj-common */ \"../src/pages/mycj/mycj-common.js\");\n/* harmony import */ var _src_components_syncProductModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/components/syncProductModal */ \"../src/components/syncProductModal/index.js\");\n\n // components\n\n\nfunction connectionPendingFactory(angular) {\n  var app = angular.module('connection-pending.module', []);\n  var connectionPicHeight = 520; // load components\n\n  Object(_src_components_syncProductModal__WEBPACK_IMPORTED_MODULE_2__[\"syncProductModal\"])(app);\n  app.controller('connection-pending.ctrl', ['$scope', '$rootScope', '$stateParams', 'dsp', function ($scope, $rootScope, $stateParams, dsp) {\n    $scope.isAutoCone = true;\n    var vip = localStorage.getItem('vip') == undefined ? \"\" : localStorage.getItem('vip');\n\n    if (vip == '1') {\n      //vipFlag\n      $('.mycj-right-wrap').css('background', '#F0EDE7');\n      dsp.beforeSearchPicVIP($('.cj-load-wrap-right'), connectionPicHeight);\n    } else {\n      $('.mycj-right-wrap').css('background', '#f2f3f5');\n      dsp.beforeSearchPic($('.cj-load-wrap-right'), connectionPicHeight);\n    }\n\n    dsp.setRightMinHeight();\n    $('#product-connection').css('height', $(document).height() + 'px');\n    var base64 = new Base64();\n    $scope.userId = base64.decode(localStorage.getItem('userId') == undefined ? \"\" : localStorage.getItem('userId'));\n    var searFromOrder;\n\n    if ($stateParams.searchstr) {\n      searFromOrder = base64.decode($stateParams.searchstr);\n    } else {\n      searFromOrder = '';\n    }\n\n    $scope.getWayData = {};\n    $scope.getDetailData = {};\n\n    if ($stateParams.mcInfo) {\n      $scope.manualConnectInfo = JSON.parse(base64.decode($stateParams.mcInfo));\n\n      $scope.connect2 = function (item) {\n        $scope.arr = [];\n        $scope.getWayData.weight = $scope.manualConnectInfo.packWeight;\n        $scope.getWayData.lcharacter = $scope.manualConnectInfo.propertyKey;\n        $scope.getDetailData.productId = $scope.manualConnectInfo.storePid;\n        $scope.getDetailData.pid = $scope.manualConnectInfo.pId;\n        $scope.getDetailData.shopId = $scope.manualConnectInfo.shopId;\n        Object(_connection_common__WEBPACK_IMPORTED_MODULE_0__[\"getTanData\"])(dsp, $scope);\n      };\n\n      $scope.connect2();\n    } // 将上面导航栏存入变量\n\n\n    var shopId, pid; // 将上面导航栏存入变量\n\n    $scope.tanchuang = false;\n    $scope.orange = null;\n    $scope.orange2 = null;\n    $scope.first = false;\n    $scope.last = false;\n    $scope.matchitem = null;\n    $scope.firstitem = null;\n    $scope.lastitem = null; //信息查询输入框\n\n    $scope.searchinfoarr = [];\n    $scope.searchinfostr = $stateParams.cjsku ? base64.decode($stateParams.cjsku) : '';\n    $scope.souresearchinfo = '';\n    $scope.arr = [];\n    $scope.sourceitem = null;\n    $scope.sourcetanchuang = false;\n    $scope.yunfeicountrystr = '';\n    $scope.selectshopstr = '';\n    $scope.searchinfoshop = searFromOrder || '';\n    $scope.classarr = ['yellow-bg', 'green-bg', 'pink-bg', 'blue-bg'];\n    $scope.shop = [];\n    $scope.specificSyncStore = {}; // 高级同步店铺名\n\n    $scope.startTime = ''; // 高级同步开始时间\n\n    $scope.endTime = ''; // 高级同步结束时间\n\n    $scope.productName = ''; // 高级同步商品名称\n\n    $scope.showspecificSync = false; // 是否弹出高级同步弹窗\n\n    $scope.showUpdateGuide = false; // 更新引导\n\n    $scope.showProductName = true; // 是否显示商品名称，shopee和Lazada店铺不显示\n\n    $scope.showProductSKU = false; // 是否显示商品SKU，Lazada店铺显示\n\n    $scope.showSelectDate = true; // 是否显示时间筛选， ebay店铺不支持\n\n    $scope.leftPageNum = 1; // 左边页码\n\n    $scope.rightPageNum = 1; // 右边页码\n\n    $scope.leftToGo = false; // 走遍是否to go\n\n    $scope.SKUList = ['']; // 高级同步输入的sku数组\n\n    var UpdateGuideType = localStorage.getItem('UpdateGuideType');\n\n    if (UpdateGuideType == 1) {\n      $scope.showUpdateGuide = false;\n    } else {\n      $scope.showUpdateGuide = true;\n    }\n\n    $scope.invalidShopMessage = JSON.parse(localStorage.getItem('invalidShopMessage')); //初始化数据\n\n    function getListLeft(search) {\n      Object(_connection_common__WEBPACK_IMPORTED_MODULE_0__[\"goGetShopPro\"])(dsp, $scope, vip, search);\n    }\n\n    $scope.getListLeft = function (search) {\n      getListLeft(search);\n    }; // dsp.addNodataPic($('.cj-load-wrap-right'), connectionPicHeight);\n    //下拉框选项\n\n\n    dsp.postFun('app/shop/getshop', {\n      \"data\": \"{'userId':'\" + $scope.userId + \"'}\"\n    }, getshop);\n    $scope.hasshopdata = false;\n\n    function getshop(n) {\n      var obj = JSON.parse(n.data.result);\n      var list = obj.shoplist.map(function (item) {\n        item.NAME = item.storeCountry ? \"\".concat(item.NAME, \" - \").concat(item.TYPE, \" - \").concat(item.storeCountry) : \"\".concat(item.NAME, \" - \").concat(item.TYPE);\n        return item;\n      });\n      list = list.filter(function (f) {\n        return f.TYPE != 'api';\n      }); // 0702产品要求过滤掉api\n\n      $scope.shopselectlist = list.slice();\n      $scope.shopinputlist = list.slice();\n      $scope.shopselectlist.unshift({\n        NAME: 'Select Store',\n        ID: ''\n      });\n      $scope.shopinputlist.unshift({\n        NAME: 'All Stores',\n        ID: ''\n      }); // $scope.selectshopinfo = '';\n\n      $scope.selectshopinfo = $scope.shopselectlist[0];\n      $scope.inputshopinfo = $scope.shopinputlist[0];\n      $scope.specificSyncStore = $scope.specificSyncStore[0];\n\n      if ($scope.specificSyncStore && ($scope.specificSyncStore.TYPE == 'shopee' || $scope.specificSyncStore.TYPE == 'Lazada')) {\n        $scope.showProductName = false;\n      } else {\n        $scope.showProductName = true;\n      }\n\n      if ($scope.specificSyncStore && $scope.specificSyncStore.TYPE == 'ebay') {\n        $scope.showSelectDate = false;\n        $scope.startTime = '';\n        $scope.endTime = '';\n      } else {\n        $scope.showSelectDate = true;\n      }\n\n      if ($scope.specificSyncStore && $scope.specificSyncStore.TYPE == 'Lazada') {\n        $scope.showProductSKU = true;\n        $scope.productName = '';\n      } else {\n        $scope.showProductSKU = false;\n        $scope.SKUList = [''];\n      }\n\n      if ($scope.invalidShopMessage) {\n        $scope.searchinfoshop = searFromOrder || $scope.invalidShopMessage.storeTitle;\n        var store = $scope.shopselectlist.find(function (item) {\n          return item.NAME.indexOf($scope.invalidShopMessage.shopName) >= 0 && item.NAME.indexOf($scope.invalidShopMessage.platForm) >= 0;\n        });\n        $scope.selectshopinfo = store ? store : $scope.shopselectlist[0];\n        $scope.shopProductId = $scope.invalidShopMessage.shopProductId || '';\n        setTimeout(function () {\n          $scope.searchshopcommodity($scope.selectshopinfo);\n        }, 0);\n        localStorage.removeItem('invalidShopMessage');\n      } else {\n        getListLeft();\n      }\n\n      $scope.syncshopcommodity($scope.selectshopinfo);\n    } //刷新信息\n    // checkIsEbayInsynn(dsp, $scope);\n    // $scope.renovation = function () {\n    //   goActSyncShopPro(dsp, $scope);\n    // }\n\n\n    $scope.$on('syncstoresuccess', function () {\n      $scope.getListLeft();\n    });\n    $scope.ifMatch = true; //下拉获取店铺信息之后进行商品筛选\n\n    $scope.selectshopstr = '';\n\n    $scope.searchshopcommodity = function (n, type) {\n      $scope.matchitem = null;\n      $scope.shopitemindex = -1;\n\n      if (n == null) {\n        n = '';\n      }\n\n      $scope.inputshopinfo = n;\n      getListLeft('search');\n      $scope.selectshopstr = n;\n      $scope.selectType = type;\n    };\n\n    $scope.syncshopcommodity = function (n) {\n      $scope.storeinfo = n;\n      $scope.$broadcast('currStoreId', n);\n    }; //搜索店铺\n\n\n    $scope.searchshop = function () {\n      $scope.matchitem = null;\n      $scope.shopitemindex = -1;\n      getListLeft('search');\n    };\n\n    $scope.enterSearchLeft = function (event) {\n      if (event.keyCode == 13) {\n        $scope.searchshop();\n      }\n    };\n\n    $scope.seaConResFun = function () {\n      var seachCs = encodeURI($scope.searchinfoshop);\n      location.href = \"#/products-connection/connected/\" + seachCs;\n    }; //获取搜索信息\n\n\n    $scope.searchinfo = function (item, index, index2) {\n      $scope.shop[index].cla[index2].flag = true;\n\n      if ($scope.searchinfostr.indexOf(item.classname) == -1) {\n        if ($scope.searchinfostr.substr($scope.searchinfostr.length - 1, 1) == ' ') {// alert('空格')\n        } else {\n          $scope.searchinfostr = $scope.searchinfostr + ' ';\n        }\n\n        $scope.searchinfostr += item.classname;\n        $scope.searchinfostr = $scope.searchinfostr.trim() + ' ';\n      }\n    };\n\n    $scope.searchinfo2 = function (item, index, index2) {\n      $scope.shop[index].tagsarr[index2].flag = true;\n\n      if ($scope.searchinfostr.indexOf(item.tagname) == -1) {\n        if ($scope.searchinfostr.substr($scope.searchinfostr.length - 1, 1) == ' ') {// alert('空格')\n        } else {\n          $scope.searchinfostr = $scope.searchinfostr + ' ';\n        }\n\n        $scope.searchinfostr += item.tagname;\n        $scope.searchinfostr = $scope.searchinfostr.trim() + ' ';\n      }\n    }; //删除搜索信息\n\n\n    $scope.deletesearchinfo = function (item, $event, index, index2) {\n      $event.stopPropagation(); //禁止事件冒泡\n\n      $scope.shop[index].cla[index2].flag = false;\n      var str = $scope.searchinfostr;\n      $scope.searchinfostr = str.replace(item.classname, '');\n    };\n\n    $scope.deletesearchinfo2 = function (item, $event, index, index2) {\n      $event.stopPropagation(); //禁止事件冒泡\n\n      $scope.shop[index].tagsarr[index2].flag = false;\n      var str = $scope.searchinfostr;\n      $scope.searchinfostr = str.replace(item.tagname, '');\n    }; // 右侧跳页\n\n\n    var rifhtToGo = function rifhtToGo() {\n      var allPageNum = $scope.cjProTotalNum && parseInt($scope.cjProTotalNum / 5) || 1;\n\n      if ($scope.rightPageNum > allPageNum) {\n        $scope.rightPageNum = $scope.cjProTotalNum % 5 ? allPageNum + 1 : allPageNum;\n      }\n\n      Object(_src_pages_mycj_mycj_common__WEBPACK_IMPORTED_MODULE_1__[\"pageFunWithParams\"])($(\"#page2\"), $scope.cjProTotalNum, 5, $scope.rightPageNum, function (n, type) {\n        $scope.rightPageNum = n;\n        if (type == 'init' && n == 1) return; // layer.load(2);\n        // dsp.load();\n\n        $scope.pagenum2 = n;\n        var str;\n\n        if ($scope.searchByPart) {\n          str = $scope.searchinfostr.replace(/'/g, \"''\").replace(/ /g, ',');\n        } else {\n          str = $scope.searchinfostr.replace(/'/g, \"''\");\n        }\n\n        var jsonObj = {};\n        jsonObj.pageSize = '5';\n        jsonObj.pageNum = n + ''; // jsonObj.shopId = $scope.selectshopstr;\n\n        jsonObj.userId = $scope.userId;\n        jsonObj.search = str;\n        $scope.shop2 = [];\n        $scope.shop2Source = false;\n        dsp.postFun('app/connection/CJList', {\n          \"data\": JSON.stringify(jsonObj)\n        }, function (name) {\n          var obj = JSON.parse(name.data.result);\n          $scope.shop2 = obj.root;\n          $scope.shop2Source = $scope.shop2.length == 0;\n        });\n      });\n    }; // 初始化右侧数据\n\n\n    function getListRight(type) {\n      // dsp.load();\n      var str;\n\n      if ($scope.searchByPart) {\n        str = $scope.searchinfostr.replace(/'/g, \"''\").replace(/ /g, ',');\n      } else {\n        str = $scope.searchinfostr.replace(/'/g, \"''\");\n      }\n\n      var jsonObj = {};\n      jsonObj.pageSize = '5';\n      jsonObj.pageNum = '1'; // jsonObj.shopId = $scope.selectshopstr;\n\n      jsonObj.userId = $scope.userId;\n      jsonObj.search = str;\n      $scope.shop2Source = false;\n      $scope.shop2 = [];\n      $rootScope.$on('app/connection/CJList', function (_, bool) {\n        return $scope.loading = bool;\n      });\n      dsp.postFun('app/connection/CJList', {\n        \"data\": JSON.stringify(jsonObj)\n      }, function (name) {\n        // dsp.closeLoad();\n        var obj = JSON.parse(name.data.result);\n\n        if (obj.totalProperty == 0) {\n          $scope.shop2Source = true;\n          $scope.shop2 = []; // dsp.addNodataPic($('.cj-load-wrap-right'), connectionPicHeight);\n\n          if (type == 'search') {\n            if (vip == 1) {\n              dsp.afterSearchPicVIP($('.cj-load-wrap-right'), connectionPicHeight);\n            } else {\n              dsp.afterSearchPic($('.cj-load-wrap-right'), connectionPicHeight);\n            }\n          } else if (vip == 1) {\n            dsp.beforeSearchPicVIP($('.cj-load-wrap-right'), connectionPicHeight);\n          } else {\n            dsp.beforeSearchPic($('.cj-load-wrap-right'), connectionPicHeight);\n          }\n\n          $scope.cjProTotalNum = 0;\n          $scope.hasCjProData = false;\n          return false;\n        }\n\n        dsp.removeNodataPic($('.cj-load-wrap-right'));\n        $scope.hasCjProData = true;\n        $scope.shop2 = obj.root;\n        $scope.shop2Source = $scope.shop2.length == 0;\n        $scope.cjProTotalNum = obj.totalProperty; // pageFunWithParams($(\"#page2\"), obj.totalProperty, 5, 1, function (n, type) {\n        //   if (type == 'init') return;\n        //   // layer.load(2);\n        //   // dsp.load();\n        //   $scope.pagenum2 = n;\n        //   var str;\n        //   if ($scope.searchByPart) {\n        //     str = $scope.searchinfostr.replace(/'/g, \"''\").replace(/ /g, ',');\n        //   } else {\n        //     str = $scope.searchinfostr.replace(/'/g, \"''\");\n        //   }\n        //   var jsonObj = {};\n        //   jsonObj.pageSize = '5';\n        //   jsonObj.pageNum = n + '';\n        //   // jsonObj.shopId = $scope.selectshopstr;\n        //   jsonObj.userId = $scope.userId;\n        //   jsonObj.search = str;\n        //   $scope.shop2 = [];\n        //   $scope.shop2Source = false;\n        //   dsp.postFun('app/connection/CJList', { \"data\": JSON.stringify(jsonObj) }, function (name) {\n        //     var obj = JSON.parse(name.data.result);\n        //     $scope.shop2 = obj.root;\n        //     $scope.shop2Source = $scope.shop2.length==0;\n        //   });\n        // })\n\n        rifhtToGo();\n      });\n    } //搜索\n\n\n    $scope.hasCjProData = false;\n\n    $scope.search = function () {\n      // layer.load(2);\n      $scope.searchByPart = false;\n      getListRight('search');\n      $scope.matchResult = true;\n      $scope.ifMatch = false;\n    };\n\n    $scope.enterSearchRight = function (event) {\n      if (event.keyCode == 13) {\n        $scope.search();\n      }\n    };\n\n    $scope.cancle = function (index) {\n      // $scope.shop[index].flag=false;\n      $scope.shop[index].win = false; // $scope.matchitem = null;\n    }; //match3\n\n\n    $scope.likeImgArr = [];\n\n    $scope.match3 = function (index, item) {\n      if (item.flag == false) {\n        $scope.matchitem = item;\n        $scope.shopitemindex = index;\n\n        for (var i = 0; i < $scope.shop.length; i++) {\n          $scope.shop[i].flag = false;\n        }\n\n        $scope.shop[index].flag = true;\n      } else {\n        $scope.shop[index].flag = false;\n        $scope.matchitem = null;\n        $scope.shopitemindex = -1;\n      }\n    };\n    /**同步店铺高级搜索初始化 */\n\n\n    $scope.initSyncCallback = function (advancedSearch) {\n      $scope.advancedSearch = advancedSearch;\n    }; //match6\n\n\n    $scope.match6 = function (item, index) {\n      if (item.flag == false) {\n        $scope.matchitem = item;\n        $scope.shopitemindex = index;\n\n        for (var i = 0; i < $scope.shop.length; i++) {\n          $scope.shop[i].flag = false;\n        } // $scope.shop[index].flag = true;\n\n      } else {\n        // $scope.shop[index].flag = false;\n        $scope.matchitem = null;\n        $scope.shopitemindex = -1;\n      }\n\n      var image;\n\n      if (item.image.includes('?')) {\n        image = item.image.substring(0, item.image.indexOf(\"?\"));\n      } else {\n        image = item.image;\n      } // alert('13123')\n\n\n      layer.load();\n      var formData = new FormData();\n      formData.append('imgUrl', image);\n      dsp.postFun('app/picture/searchProduct', formData, function (res) {\n        if (res.data.statusCode == 200) {\n          layer.closeAll('loading');\n          var resData = JSON.parse(res.data.result);\n\n          if (resData.totalProperty == 0) {\n            $scope.shop2 = []; // 搜索后\n            // dsp.addNodataPic($('.cj-load-wrap-right'), connectionPicHeight);\n\n            dsp.afterSearchPic($('.cj-load-wrap-right'), connectionPicHeight);\n            $scope.cjProTotalNum = 0;\n            $scope.hasCjProData = false;\n            return false;\n          }\n\n          dsp.removeNodataPic($('.cj-load-wrap-right'));\n          $scope.hasCjProData = true;\n          $scope.matchResult = true;\n          $scope.shop2 = resData.root;\n          $scope.cjProTotalNum = resData.totalProperty; // pageFunWithParams($(\"#page2\"), resData.totalProperty, 5, 1, function (n, type) {\n          //   if (type == 'init') return;\n          //   // layer.load(2);\n          //   // dsp.load();\n          //   $scope.pagenum2 = n;\n          //   var str;\n          //   if ($scope.searchByPart) {\n          //     str = $scope.searchinfostr.replace(/'/g, \"''\").replace(/ /g, ',');\n          //   } else {\n          //     str = $scope.searchinfostr.replace(/'/g, \"''\");\n          //   }\n          //   var jsonObj = {};\n          //   jsonObj.pageSize = '5';\n          //   jsonObj.pageNum = n + '';\n          //   // jsonObj.shopId = $scope.selectshopstr;\n          //   jsonObj.userId = $scope.userId;\n          //   jsonObj.search = str;\n          //   $scope.shop2 = [];\n          //   $scope.shop2Source = false;\n          //   dsp.postFun('app/connection/CJList', { \"data\": JSON.stringify(jsonObj) }, function (name) {\n          //     var obj = JSON.parse(name.data.result);\n          //     $scope.shop2 = obj.root;\n          //     $scope.shop2Source = $scope.shop2.length==0;\n          //   });\n          // })\n\n          rifhtToGo();\n        } else {\n          $scope.shop2 = [];\n          layer.closeAll('loading'); // dsp.addNodataPic($('.cj-load-wrap-right'), connectionPicHeight);\n\n          dsp.afterSearchPic($('.cj-load-wrap-right'), connectionPicHeight);\n          $scope.hasCjProData = false;\n          return layer.msg('Searching Failed. Images must be JPG or PNG.');\n        }\n      }, function (err) {\n        return console.error(error);\n      }, {\n        headers: {\n          'Content-Type': undefined\n        } // layer2: true\n\n      });\n    }; //match2\n\n\n    $scope.match2 = function (index, item) {\n      $scope.matchitem = item;\n      $scope.shopitemindex = index;\n\n      for (var i = 0; i < $scope.shop.length; i++) {\n        $scope.shop[i].win = false;\n      }\n\n      $scope.shop[index].win = true;\n\n      for (var i = 0; i < $scope.shop.length; i++) {\n        $scope.shop[i].flag = false;\n      }\n\n      $scope.shop[index].flag = true;\n    }; //match\n\n\n    $scope.match = function (val, index) {\n      $('#product-connection').attr('display', 'block');\n      $scope.matchitem = val;\n      $scope.shopitemindex = index;\n      shopId = val.pid;\n      $scope.matchResult = true;\n      $scope.ifMatch = false;\n      var str = $scope.searchinfostr.replace(/'/g, \"''\").replace(/ /g, ',');\n      $scope.searchByPart = true;\n      getListRight('search');\n    };\n\n    $scope.closetanchuang = function () {\n      $('body').css('overflow', 'auto');\n      $scope.arr = [];\n      $scope.first = false;\n      $scope.last = false;\n\n      for (var i = 0; i < $scope.shopList.length; i++) {\n        $scope.shopList[i].flag = false;\n      }\n\n      for (var i = 0; i < $scope.CJList.length; i++) {\n        $scope.CJList[i].flag = false;\n      }\n\n      $scope.tanchuang = false;\n      $scope.matchcjitem = null;\n    }; // 关联店铺\n\n\n    $scope.formateVariantkey = function (val) {\n      var str = String(val).replace(/\\s/g, ';');\n      return str;\n    };\n\n    $scope.formateVariantkeyNew = function (val) {\n      var str = '-' + String(val).replace(/\\s/g, '-');\n      return str;\n    }; //connect\n\n\n    $scope.connect = function (item) {\n      $scope.matchcjitem = item;\n      pid = item.ID; // $scope.arr=[];\n\n      if (!$scope.matchitem) {\n        layer.msg('Please select a product you want to connect in your store. ');\n        return;\n      }\n\n      if ($scope.matchitem.shopType != 'shopify' && $scope.matchitem.shopTyp != 'Woocommerce' && !item.customeDesign && item.customMessage) {\n        layer.msg('Unfortunately, The POD products are only available to be connected to Shopify currently.', {\n          time: 6000\n        });\n        return;\n      }\n\n      $scope.arr = [];\n      $scope.getWayData.isSupplier = [5, '5'].includes(item.PRODUCTTYPE) ? 1 : 0;\n      $scope.getWayData.sku = item.SKU;\n      $scope.getWayData.weight = item.packweight;\n      $scope.getWayData.lcharacter = item.PROPERTYKEY;\n      $scope.getWayData.shopType = $scope.matchitem.shopType;\n      $scope.getDetailData.productId = $scope.matchitem.pid;\n      $scope.getDetailData.pid = pid;\n      $scope.getDetailData.shopId = $scope.matchitem.shopId;\n      $scope.storeSku = '', $scope.cjSku = '', $scope.cjVARIANTKEY = '', $scope.storeTitle = '';\n      Object(_connection_common__WEBPACK_IMPORTED_MODULE_0__[\"getTanData\"])(dsp, $scope, $scope.matchRecommendation); //\n\n      $scope.isLevels = true;\n      $scope.Service = '1';\n      $scope.Levels = localStorage.getItem('connectedLevels') || '1';\n      $scope.ShopName = $scope.matchitem.shopName;\n\n      if ($scope.matchitem.shopType == 'shopify') {\n        var shopList = $scope.shopselectlist.filter(function (item) {\n          return item.ID == $scope.matchitem.shopId;\n        });\n        $scope.syncInventory = shopList[0].sync_inventory;\n\n        if (!$scope.syncInventory) {\n          $scope.Service = '0';\n          $scope.isLevels = false;\n        }\n      }\n    }; //获取物流方式\n\n\n    $scope.getwuliuway = function (wuliuway) {\n      $scope.wuliuway = wuliuway;\n      $scope.remark = wuliuway ? wuliuway.remark : '';\n    };\n\n    $scope.clearMatchValue = function () {\n      $scope.storeSku = '', $scope.cjSku = '', $scope.cjVARIANTKEY = '', $scope.storeTitle = '';\n    };\n\n    $scope.matchRecommendation = function (val, originWord, targetWord, matchType) {\n      var matchRecommendationNum = 0;\n\n      for (var i = 0; i < $scope.shopList.length; i++) {\n        var item1 = $scope.shopList[i].sku;\n\n        for (var j = 0; j < $scope.CJList.length; j++) {\n          var item2 = $scope.CJList[j].SKU;\n\n          if (originWord) {\n            if (matchType == 0) {\n              item1 = $scope.ruleSize(item1);\n              item2 = $scope.ruleSize(item2.replace(targetWord, originWord));\n            } else if (matchType == 1) {\n              item1 = $scope.ruleSize(item1);\n              item2 = originWord + $scope.ruleSize($scope.formateVariantkeyNew($scope.CJList[j].VARIANTKEY));\n            } else if (matchType == 2) {\n              item1 = $scope.shopList[i].product_id + $scope.ruleSize($scope.formateVariantkeyNew($scope.shopList[i].title));\n              item2 = originWord + $scope.ruleSize($scope.formateVariantkeyNew($scope.CJList[j].VARIANTKEY));\n            } else if (matchType == 3) {\n              item1 = $scope.shopList[i].product_id + $scope.ruleSize($scope.formateVariantkeyNew($scope.shopList[i].title));\n              item1 = item1.replace(targetWord, '');\n              item2 = originWord + $scope.ruleSize($scope.formateVariantkeyNew($scope.CJList[j].VARIANTKEY));\n            }\n          }\n\n          if (item1 && item2 && item1 == item2) {\n            if (!$scope.shopList[i].flag && !$scope.CJList[j].flag) {\n              Object(_connection_common__WEBPACK_IMPORTED_MODULE_0__[\"tanShopProClick\"])(val, i, $scope.shopList[i], $scope);\n              Object(_connection_common__WEBPACK_IMPORTED_MODULE_0__[\"tanCjProClick\"])(val, j, $scope.CJList[j], $scope);\n              matchRecommendationNum = matchRecommendationNum + 1;\n              continue;\n            }\n          }\n        }\n      }\n\n      if (matchRecommendationNum == 0) {// layer.msg(matchRecommendationNum+' matched.');\n      } else {\n        layer.msg(matchRecommendationNum + ' SKU automatic matched by CJ AI, please check if the system did it correctly.');\n      } // $scope.clearMatchValue()\n\n    };\n\n    $scope.tryMatchRecommendation = function (val) {\n      var needMatchValue = $scope.cjSku.substring($scope.cjSku.indexOf(\"-\"));\n      var storeSkuMatchValue = $scope.ruleSize($scope.storeSku.substring($scope.storeSku.indexOf(\"-\")));\n\n      if ($scope.ruleSize(needMatchValue) == $scope.ruleSize(storeSkuMatchValue)) {\n        $scope.matchRecommendation(val, $scope.storeSku.substring(0, $scope.storeSku.indexOf(\"-\")), $scope.cjSku.substring(0, $scope.cjSku.indexOf(\"-\")), 0);\n      } else {\n        needMatchValue = $scope.ruleSize($scope.cjVARIANTKEY);\n\n        if (needMatchValue == storeSkuMatchValue) {\n          $scope.matchRecommendation(val, $scope.storeSku.substring(0, $scope.storeSku.indexOf(\"-\")), $scope.cjSku.substring(0, 11), 1);\n        } else {\n          storeSkuMatchValue = $scope.ruleSize($scope.storeTitle);\n\n          if (needMatchValue == storeSkuMatchValue) {\n            $scope.matchRecommendation(val, $scope.storePid, $scope.cjSku.substring(0, 11), 2);\n          } else {\n            var tempArray = needMatchValue.split('-');\n            var tempStr = storeSkuMatchValue;\n\n            for (var i = 0; i < tempArray.length; i++) {\n              if (!tempArray[i] == '') {\n                tempStr = tempStr.replace('-' + tempArray[i], '');\n              }\n            }\n\n            if (!needMatchValue == '' && storeSkuMatchValue.replace(tempStr, '') == needMatchValue) {\n              $scope.matchRecommendation(val, $scope.storePid, tempStr, 3);\n            }\n          }\n        }\n      }\n\n      $scope.clearMatchValue();\n    };\n\n    $scope.ruleSize = function (val) {\n      var ruleProcessValue = '';\n\n      if (val.indexOf(\"5XL\") != -1) {\n        ruleProcessValue = val.replace(\"5XL\", \"XXXXXL\");\n      } else if (val.indexOf(\"4XL\") != -1) {\n        ruleProcessValue = val.replace(\"4XL\", \"XXXXL\");\n      } else if (val.indexOf(\"3XL\") != -1) {\n        ruleProcessValue = val.replace(\"3XL\", \"XXXL\");\n      } else if (val.indexOf(\"2XL\") != -1) {\n        ruleProcessValue = val.replace(\"2XL\", \"XXL\");\n      } else {\n        ruleProcessValue = val;\n      }\n\n      return ruleProcessValue;\n    }; //关联商品的第一次点击\n\n\n    $scope.firstclick = function (val, num, item) {\n      var isShow = item.flag;\n      Object(_connection_common__WEBPACK_IMPORTED_MODULE_0__[\"tanShopProClick\"])(val, num, item, $scope);\n      var changShow = item.flag;\n\n      if (isShow && !changShow) {\n        $scope.clearMatchValue();\n      }\n\n      if (item.sku && !isShow && changShow) {\n        $scope.storeSku = item.sku;\n        $scope.storeTitle = $scope.formateVariantkeyNew(item.title);\n        $scope.storePid = item.product_id;\n\n        if ($scope.cjSku != '') {\n          $scope.tryMatchRecommendation(val);\n        }\n      }\n    }; //关联商品的第二次点击\n\n\n    $scope.lastclick = function (val, num, item) {\n      var isShow = item.flag;\n      Object(_connection_common__WEBPACK_IMPORTED_MODULE_0__[\"tanCjProClick\"])(val, num, item, $scope);\n      var changShow = item.flag;\n\n      if (isShow && !changShow) {\n        $scope.clearMatchValue();\n      }\n\n      if (item.SKU && !isShow && changShow) {\n        $scope.cjSku = item.SKU;\n        $scope.cjVARIANTKEY = $scope.formateVariantkeyNew(item.VARIANTKEY);\n\n        if ($scope.storeSku != '') {\n          $scope.tryMatchRecommendation(val);\n        }\n      }\n    }; //取消关联\n\n\n    $scope.Unlink = function (index) {\n      $scope.arr.splice(index, 1);\n      $scope.shopList[index].flag = false;\n      $scope.CJList[index].flag = false;\n      var item1 = $scope.shopList.splice(index, 1);\n      var item2 = $scope.CJList.splice(index, 1);\n      $scope.shopList.push(item1[0]);\n      $scope.CJList.push(item2[0]);\n    }; //点击提交\n\n\n    $scope.goon = function () {\n      $scope.connectStatus = '0';\n      Object(_connection_common__WEBPACK_IMPORTED_MODULE_0__[\"goActConnect\"])(dsp, $scope);\n    }; // 打开高级同步弹窗\n\n\n    $scope.handleSpecificSync = function () {\n      $scope.specificSyncStore = $scope.selectshopinfo;\n      $scope.showspecificSync = true;\n      $scope.handleSelectSpecificSyncStore($scope.specificSyncStore);\n    }; // 下拉选择店铺\n\n\n    $scope.handleSelectSpecificSyncStore = function (val) {\n      var TYPE = val.TYPE;\n\n      if (TYPE == 'shopee' || TYPE == 'Lazada') {\n        $scope.showProductName = false;\n      } else {\n        $scope.showProductName = true;\n      }\n\n      if (TYPE == 'ebay') {\n        $scope.showSelectDate = false;\n        $scope.startTime = '';\n        $scope.endTime = '';\n      } else {\n        $scope.showSelectDate = true;\n      }\n\n      if (TYPE == 'Lazada') {\n        $scope.showProductSKU = true;\n        $scope.productName = '';\n      } else {\n        $scope.showProductSKU = false;\n        $scope.SKUList = [''];\n      }\n    }; // 关闭高级同步\n\n\n    $scope.handleCancelSync = function () {\n      $scope.specificSyncStore = {};\n      $scope.startTime = '';\n      $scope.endTime = '';\n      $scope.productName = '';\n      $scope.showspecificSync = false;\n      $scope.SKUList = [''];\n    }; // 高级同步事件\n\n\n    $scope.handleSpecificSyncConfirm = function () {\n      var ID = $scope.specificSyncStore.ID;\n\n      if (!ID) {\n        return layer.msg('Please select a store first!');\n      }\n\n      if (!$scope.startTime && $scope.endTime) {\n        return layer.msg('Please enter start date.');\n      }\n\n      if (!$scope.endTime && $scope.startTime) {\n        return layer.msg('Please enter end date.');\n      }\n\n      var start = new Date($scope.startTime).getTime();\n      var end = new Date($scope.endTime).getTime();\n\n      if (start > end) {\n        $scope.startTime = '';\n        $scope.endTime = '';\n        return layer.msg('End date cannot be earlier than start date.');\n      }\n\n      if ($scope.specificSyncStore && $scope.specificSyncStore.TYPE == 'shopee' && $scope.endTime && end - start > 1000 * 3600 * 24 * 15) {\n        $scope.startTime = '';\n        $scope.endTime = '';\n        return layer.msg('Time span should be no more than 15 days. Please select it again.');\n      }\n\n      var new_startTime = $scope.startTime ? \"\".concat($scope.startTime, \" 00:00:00\") : ''; // 后端要求这样传\n\n      var new_endTime = $scope.endTime ? \"\".concat($scope.endTime, \" 23:59:59\") : ''; // 后端要求这样传\n\n      var productName = $scope.productName;\n\n      if ($scope.specificSyncStore.TYPE == 'Lazada') {\n        productName = $scope.SKUList.join();\n      }\n\n      var params = {\n        startTime: new_startTime,\n        endTime: new_endTime,\n        productId: '',\n        productName: productName,\n        shopId: ID\n      };\n      var msgLoading = cjMessage.loading({\n        isFixed: true\n      });\n      dsp.postFun('platform-product/pull/pullShopProducts', params, function (response) {\n        msgLoading.hide();\n        var _response$data = response.data,\n            code = _response$data.code,\n            data = _response$data.data,\n            message = _response$data.message;\n        var customCodeMsg = ['30001', '30002', 30002, 30001];\n\n        var outMsg = function outMsg(msg) {\n          return layer.msg(msg);\n        };\n\n        if (customCodeMsg.includes(code)) return outMsg(message || 'Sync Failed');\n        var errMsg = {\n          20007: 'Failed to get product',\n          20000: 'Sync in progress... Please be patient',\n          5000: 'Wrong request parameter',\n          5001: \"You haven't bound the store yet\",\n          5002: 'Data update failed'\n        };\n        if (Object.keys(errMsg).includes(code + '')) return outMsg(errMsg[code]);\n        if (code != 200) return outMsg('Sync Failed');\n        $scope.$broadcast('$showProgressBar', {\n          selectshopinfo: $scope.specificSyncStore\n        });\n        $scope.handleCancelSync(); // if(code == 200) {\n        //   layer.msg('Synced Successfully');\n        //   $scope.handleCancelSync();\n        // } else {\n        //   layer.msg(message);\n        // }\n      }, function () {\n        // 容错处理\n        msgLoading.hide();\n        layer.msg('The server is busy now. Please try it later. ');\n      });\n    }; // 跳页输入\n\n\n    $scope.numberInput = function (type, num) {\n      if (type == 'left') {\n        $scope.leftToGo = true; // 左遍是否to go\n      }\n    }; // 跳页\n\n\n    $scope.changeFun = function (type) {\n      if (type == 'left') {\n        getListLeft();\n      } else if (type == 'right' && $scope.rightPageNum == 1) {\n        getListRight();\n      } else if (type == 'right' && $scope.rightPageNum != 1) {\n        rifhtToGo();\n      }\n    };\n\n    $scope.$on('$connectPage', function (d, data) {\n      var pageNum = data.pageNum;\n      $scope.leftPageNum = pageNum;\n    });\n    $scope.$on('syncSuccess', function (d, data) {\n      $scope.$broadcast('$showProgressBar', {\n        selectshopinfo: $scope.selectshopinfo\n      });\n    });\n    $scope.$on('hideProgress', function (d, data) {\n      getListLeft('search');\n    });\n\n    $scope.handleCloseGuide = function () {\n      $scope.showUpdateGuide = false;\n      localStorage.setItem('UpdateGuideType', 1);\n    };\n\n    $scope.$on('$syncSuccess', function (d, data) {\n      getListLeft('search');\n    });\n\n    $scope.handleAddSKU = function () {\n      $scope.SKUList.unshift('');\n    };\n\n    $scope.handleReduceSKU = function (i) {\n      var len = $scope.SKUList.length;\n      if (len == 1) return;\n      $scope.SKUList.splice(i, 1);\n    };\n  }]);\n  return app;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovY29ubmVjdGlvbi9jb25uZWN0aW9uLXBlbmRpbmcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL3BhZ2VzL215Y2ovY29ubmVjdGlvbi9jb25uZWN0aW9uLXBlbmRpbmcuanM/ZWRmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnb0dldFNob3BQcm8sIGdldFRhbkRhdGEsIHRhblNob3BQcm9DbGljaywgdGFuQ2pQcm9DbGljaywgZ29BY3RDb25uZWN0IH0gZnJvbSAnLi9jb25uZWN0aW9uLWNvbW1vbic7XHJcbmltcG9ydCB7IHBhZ2VGdW5XaXRoUGFyYW1zIH0gZnJvbSAnQHNyYy9wYWdlcy9teWNqL215Y2otY29tbW9uJztcclxuXHJcbi8vIGNvbXBvbmVudHNcclxuaW1wb3J0IHsgc3luY1Byb2R1Y3RNb2RhbCB9IGZyb20gJ0BzcmMvY29tcG9uZW50cy9zeW5jUHJvZHVjdE1vZGFsJ1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3Rpb25QZW5kaW5nRmFjdG9yeShhbmd1bGFyKSB7XHJcbiAgY29uc3QgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2Nvbm5lY3Rpb24tcGVuZGluZy5tb2R1bGUnLCBbXSk7XHJcbiAgY29uc3QgY29ubmVjdGlvblBpY0hlaWdodCA9IDUyMDtcclxuXHJcbiAgLy8gbG9hZCBjb21wb25lbnRzXHJcbiAgc3luY1Byb2R1Y3RNb2RhbChhcHApXHJcblxyXG4gIGFwcC5jb250cm9sbGVyKCdjb25uZWN0aW9uLXBlbmRpbmcuY3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJ2RzcCcsXHJcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkc3RhdGVQYXJhbXMsIGRzcCkge1xyXG4gICAgICAkc2NvcGUuaXNBdXRvQ29uZSA9IHRydWU7XHJcbiAgICAgIHZhciB2aXAgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmlwJykgPT0gdW5kZWZpbmVkID8gXCJcIiA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2aXAnKTtcclxuICAgICAgaWYgKHZpcCA9PSAnMScpIHsvL3ZpcEZsYWdcclxuICAgICAgICAkKCcubXljai1yaWdodC13cmFwJykuY3NzKCdiYWNrZ3JvdW5kJywgJyNGMEVERTcnKTtcclxuICAgICAgICBkc3AuYmVmb3JlU2VhcmNoUGljVklQKCQoJy5jai1sb2FkLXdyYXAtcmlnaHQnKSwgY29ubmVjdGlvblBpY0hlaWdodCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnLm15Y2otcmlnaHQtd3JhcCcpLmNzcygnYmFja2dyb3VuZCcsICcjZjJmM2Y1Jyk7XHJcbiAgICAgICAgZHNwLmJlZm9yZVNlYXJjaFBpYygkKCcuY2otbG9hZC13cmFwLXJpZ2h0JyksIGNvbm5lY3Rpb25QaWNIZWlnaHQpO1xyXG4gICAgICB9XHJcbiAgICAgIGRzcC5zZXRSaWdodE1pbkhlaWdodCgpO1xyXG4gICAgICAkKCcjcHJvZHVjdC1jb25uZWN0aW9uJykuY3NzKCdoZWlnaHQnLCAkKGRvY3VtZW50KS5oZWlnaHQoKSArICdweCcpO1xyXG4gICAgICB2YXIgYmFzZTY0ID0gbmV3IEJhc2U2NCgpO1xyXG4gICAgICAkc2NvcGUudXNlcklkID0gYmFzZTY0LmRlY29kZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykgPT0gdW5kZWZpbmVkID8gXCJcIiA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKSk7XHJcbiAgICAgIHZhciBzZWFyRnJvbU9yZGVyO1xyXG4gICAgICBpZiAoJHN0YXRlUGFyYW1zLnNlYXJjaHN0cikge1xyXG4gICAgICAgIHNlYXJGcm9tT3JkZXIgPSBiYXNlNjQuZGVjb2RlKCRzdGF0ZVBhcmFtcy5zZWFyY2hzdHIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlYXJGcm9tT3JkZXIgPSAnJztcclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUuZ2V0V2F5RGF0YSA9IHt9O1xyXG4gICAgICAkc2NvcGUuZ2V0RGV0YWlsRGF0YSA9IHt9O1xyXG4gICAgICBpZiAoJHN0YXRlUGFyYW1zLm1jSW5mbykge1xyXG4gICAgICAgICRzY29wZS5tYW51YWxDb25uZWN0SW5mbyA9IEpTT04ucGFyc2UoYmFzZTY0LmRlY29kZSgkc3RhdGVQYXJhbXMubWNJbmZvKSk7XHJcbiAgICAgICAgJHNjb3BlLmNvbm5lY3QyID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICRzY29wZS5hcnIgPSBbXTtcclxuICAgICAgICAgICRzY29wZS5nZXRXYXlEYXRhLndlaWdodCA9ICRzY29wZS5tYW51YWxDb25uZWN0SW5mby5wYWNrV2VpZ2h0O1xyXG4gICAgICAgICAgJHNjb3BlLmdldFdheURhdGEubGNoYXJhY3RlciA9ICRzY29wZS5tYW51YWxDb25uZWN0SW5mby5wcm9wZXJ0eUtleTtcclxuICAgICAgICAgICRzY29wZS5nZXREZXRhaWxEYXRhLnByb2R1Y3RJZCA9ICRzY29wZS5tYW51YWxDb25uZWN0SW5mby5zdG9yZVBpZDtcclxuICAgICAgICAgICRzY29wZS5nZXREZXRhaWxEYXRhLnBpZCA9ICRzY29wZS5tYW51YWxDb25uZWN0SW5mby5wSWQ7XHJcbiAgICAgICAgICAkc2NvcGUuZ2V0RGV0YWlsRGF0YS5zaG9wSWQgPSAkc2NvcGUubWFudWFsQ29ubmVjdEluZm8uc2hvcElkO1xyXG4gICAgICAgICAgZ2V0VGFuRGF0YShkc3AsICRzY29wZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5jb25uZWN0MigpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDlsIbkuIrpnaLlr7zoiKrmoI/lrZjlhaXlj5jph49cclxuICAgICAgdmFyIHNob3BJZCwgcGlkO1xyXG4gICAgICAvLyDlsIbkuIrpnaLlr7zoiKrmoI/lrZjlhaXlj5jph49cclxuICAgICAgJHNjb3BlLnRhbmNodWFuZyA9IGZhbHNlO1xyXG4gICAgICAkc2NvcGUub3JhbmdlID0gbnVsbDtcclxuICAgICAgJHNjb3BlLm9yYW5nZTIgPSBudWxsO1xyXG4gICAgICAkc2NvcGUuZmlyc3QgPSBmYWxzZTtcclxuICAgICAgJHNjb3BlLmxhc3QgPSBmYWxzZTtcclxuICAgICAgJHNjb3BlLm1hdGNoaXRlbSA9IG51bGw7XHJcbiAgICAgICRzY29wZS5maXJzdGl0ZW0gPSBudWxsO1xyXG4gICAgICAkc2NvcGUubGFzdGl0ZW0gPSBudWxsO1xyXG4gICAgICAvL+S/oeaBr+afpeivoui+k+WFpeahhlxyXG4gICAgICAkc2NvcGUuc2VhcmNoaW5mb2FyciA9IFtdO1xyXG4gICAgICAkc2NvcGUuc2VhcmNoaW5mb3N0ciA9ICRzdGF0ZVBhcmFtcy5janNrdT9iYXNlNjQuZGVjb2RlKCRzdGF0ZVBhcmFtcy5janNrdSk6Jyc7XHJcbiAgICAgICRzY29wZS5zb3VyZXNlYXJjaGluZm8gPSAnJztcclxuICAgICAgJHNjb3BlLmFyciA9IFtdO1xyXG4gICAgICAkc2NvcGUuc291cmNlaXRlbSA9IG51bGw7XHJcbiAgICAgICRzY29wZS5zb3VyY2V0YW5jaHVhbmcgPSBmYWxzZTtcclxuICAgICAgJHNjb3BlLnl1bmZlaWNvdW50cnlzdHIgPSAnJztcclxuICAgICAgJHNjb3BlLnNlbGVjdHNob3BzdHIgPSAnJztcclxuICAgICAgJHNjb3BlLnNlYXJjaGluZm9zaG9wID0gc2VhckZyb21PcmRlciB8fCAnJztcclxuICAgICAgJHNjb3BlLmNsYXNzYXJyID0gWyd5ZWxsb3ctYmcnLCAnZ3JlZW4tYmcnLCAncGluay1iZycsICdibHVlLWJnJ107XHJcbiAgICAgICRzY29wZS5zaG9wID0gW107XHJcbiAgICAgICRzY29wZS5zcGVjaWZpY1N5bmNTdG9yZSA9IHt9OyAvLyDpq5jnuqflkIzmraXlupfpk7rlkI1cclxuICAgICAgJHNjb3BlLnN0YXJ0VGltZSA9ICcnOyAvLyDpq5jnuqflkIzmraXlvIDlp4vml7bpl7RcclxuICAgICAgJHNjb3BlLmVuZFRpbWUgPSAnJzsgLy8g6auY57qn5ZCM5q2l57uT5p2f5pe26Ze0XHJcbiAgICAgICRzY29wZS5wcm9kdWN0TmFtZSA9ICcnOyAvLyDpq5jnuqflkIzmraXllYblk4HlkI3np7BcclxuICAgICAgJHNjb3BlLnNob3dzcGVjaWZpY1N5bmMgPSBmYWxzZTsgLy8g5piv5ZCm5by55Ye66auY57qn5ZCM5q2l5by556qXXHJcbiAgICAgICRzY29wZS5zaG93VXBkYXRlR3VpZGUgPSBmYWxzZTsgLy8g5pu05paw5byV5a+8XHJcbiAgICAgICRzY29wZS5zaG93UHJvZHVjdE5hbWUgPSB0cnVlOyAvLyDmmK/lkKbmmL7npLrllYblk4HlkI3np7DvvIxzaG9wZWXlkoxMYXphZGHlupfpk7rkuI3mmL7npLpcclxuICAgICAgJHNjb3BlLnNob3dQcm9kdWN0U0tVID0gZmFsc2U7IC8vIOaYr+WQpuaYvuekuuWVhuWTgVNLVe+8jExhemFkYeW6l+mTuuaYvuekulxyXG4gICAgICAkc2NvcGUuc2hvd1NlbGVjdERhdGUgPSB0cnVlOyAvLyDmmK/lkKbmmL7npLrml7bpl7TnrZvpgInvvIwgZWJheeW6l+mTuuS4jeaUr+aMgVxyXG4gICAgICAkc2NvcGUubGVmdFBhZ2VOdW0gPSAxOyAvLyDlt6bovrnpobXnoIFcclxuICAgICAgJHNjb3BlLnJpZ2h0UGFnZU51bSA9IDE7IC8vIOWPs+i+uemhteeggVxyXG4gICAgICAkc2NvcGUubGVmdFRvR28gPSBmYWxzZTsgLy8g6LWw6YGN5piv5ZCmdG8gZ29cclxuICAgICAgJHNjb3BlLlNLVUxpc3QgPSBbJyddOyAvLyDpq5jnuqflkIzmraXovpPlhaXnmoRza3XmlbDnu4RcclxuXHJcbiAgICAgIGNvbnN0IFVwZGF0ZUd1aWRlVHlwZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdVcGRhdGVHdWlkZVR5cGUnKTtcclxuICAgICAgaWYoVXBkYXRlR3VpZGVUeXBlID09IDEpIHtcclxuICAgICAgICAkc2NvcGUuc2hvd1VwZGF0ZUd1aWRlID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHNjb3BlLnNob3dVcGRhdGVHdWlkZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLmludmFsaWRTaG9wTWVzc2FnZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ludmFsaWRTaG9wTWVzc2FnZScpKTtcclxuXHJcblxyXG4gICAgICAvL+WIneWni+WMluaVsOaNrlxyXG4gICAgICBmdW5jdGlvbiBnZXRMaXN0TGVmdChzZWFyY2gpIHtcclxuICAgICAgICBnb0dldFNob3BQcm8oZHNwLCAkc2NvcGUsIHZpcCwgc2VhcmNoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLmdldExpc3RMZWZ0ID0gZnVuY3Rpb24gKHNlYXJjaCkge1xyXG4gICAgICAgIGdldExpc3RMZWZ0KHNlYXJjaCk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gZHNwLmFkZE5vZGF0YVBpYygkKCcuY2otbG9hZC13cmFwLXJpZ2h0JyksIGNvbm5lY3Rpb25QaWNIZWlnaHQpO1xyXG4gICAgICBcclxuICAgICAgLy/kuIvmi4nmoYbpgInpoblcclxuICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9zaG9wL2dldHNob3AnLCB7IFwiZGF0YVwiOiBcInsndXNlcklkJzonXCIgKyAkc2NvcGUudXNlcklkICsgXCInfVwiIH0sIGdldHNob3ApO1xyXG4gICAgICAkc2NvcGUuaGFzc2hvcGRhdGEgPSBmYWxzZTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGdldHNob3Aobikge1xyXG4gICAgICAgIHZhciBvYmogPSBKU09OLnBhcnNlKG4uZGF0YS5yZXN1bHQpO1xyXG4gICAgICAgIGxldCBsaXN0ID0gb2JqLnNob3BsaXN0Lm1hcChpdGVtPT57XHJcbiAgICAgICAgICBpdGVtLk5BTUUgPSBpdGVtLnN0b3JlQ291bnRyeT9gJHtpdGVtLk5BTUV9IC0gJHtpdGVtLlRZUEV9IC0gJHtpdGVtLnN0b3JlQ291bnRyeX1gOmAke2l0ZW0uTkFNRX0gLSAke2l0ZW0uVFlQRX1gO1xyXG4gICAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdCA9IGxpc3QuZmlsdGVyKGYgPT4gZi5UWVBFICE9ICdhcGknKTsgLy8gMDcwMuS6p+WTgeimgeaxgui/h+a7pOaOiWFwaVxyXG4gICAgICAgICRzY29wZS5zaG9wc2VsZWN0bGlzdCA9IGxpc3Quc2xpY2UoKTtcclxuICAgICAgICAkc2NvcGUuc2hvcGlucHV0bGlzdCA9IGxpc3Quc2xpY2UoKTtcclxuICAgICAgICAkc2NvcGUuc2hvcHNlbGVjdGxpc3QudW5zaGlmdCh7TkFNRTonU2VsZWN0IFN0b3JlJyxJRDonJ30pO1xyXG4gICAgICAgICRzY29wZS5zaG9waW5wdXRsaXN0LnVuc2hpZnQoe05BTUU6J0FsbCBTdG9yZXMnLElEOicnfSk7XHJcblxyXG4gICAgICAgIC8vICRzY29wZS5zZWxlY3RzaG9waW5mbyA9ICcnO1xyXG4gICAgICAgICRzY29wZS5zZWxlY3RzaG9waW5mbyA9ICRzY29wZS5zaG9wc2VsZWN0bGlzdFswXTtcclxuICAgICAgICAkc2NvcGUuaW5wdXRzaG9waW5mbyA9ICRzY29wZS5zaG9waW5wdXRsaXN0WzBdO1xyXG4gICAgICAgICRzY29wZS5zcGVjaWZpY1N5bmNTdG9yZSA9ICRzY29wZS5zcGVjaWZpY1N5bmNTdG9yZVswXTtcclxuICAgICAgICBpZigkc2NvcGUuc3BlY2lmaWNTeW5jU3RvcmUgJiYgKCRzY29wZS5zcGVjaWZpY1N5bmNTdG9yZS5UWVBFID09ICdzaG9wZWUnIHx8ICRzY29wZS5zcGVjaWZpY1N5bmNTdG9yZS5UWVBFID09ICdMYXphZGEnKSkge1xyXG4gICAgICAgICAgJHNjb3BlLnNob3dQcm9kdWN0TmFtZSA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2hvd1Byb2R1Y3ROYW1lID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoJHNjb3BlLnNwZWNpZmljU3luY1N0b3JlICYmICRzY29wZS5zcGVjaWZpY1N5bmNTdG9yZS5UWVBFID09ICdlYmF5Jykge1xyXG4gICAgICAgICAgJHNjb3BlLnNob3dTZWxlY3REYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAkc2NvcGUuc3RhcnRUaW1lID0gJyc7XHJcbiAgICAgICAgICAkc2NvcGUuZW5kVGltZSA9ICcnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2hvd1NlbGVjdERhdGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZigkc2NvcGUuc3BlY2lmaWNTeW5jU3RvcmUgJiYgJHNjb3BlLnNwZWNpZmljU3luY1N0b3JlLlRZUEUgPT0gJ0xhemFkYScpIHtcclxuICAgICAgICAgICRzY29wZS5zaG93UHJvZHVjdFNLVSA9IHRydWU7XHJcbiAgICAgICAgICAkc2NvcGUucHJvZHVjdE5hbWUgPSAnJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLnNob3dQcm9kdWN0U0tVID0gZmFsc2U7XHJcbiAgICAgICAgICAkc2NvcGUuU0tVTGlzdCA9IFsnJ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCRzY29wZS5pbnZhbGlkU2hvcE1lc3NhZ2Upe1xyXG4gICAgICAgICAgJHNjb3BlLnNlYXJjaGluZm9zaG9wID0gc2VhckZyb21PcmRlciB8fCAkc2NvcGUuaW52YWxpZFNob3BNZXNzYWdlLnN0b3JlVGl0bGVcclxuICAgICAgICAgIGNvbnN0IHN0b3JlID0gJHNjb3BlLnNob3BzZWxlY3RsaXN0LmZpbmQoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLk5BTUUuaW5kZXhPZigkc2NvcGUuaW52YWxpZFNob3BNZXNzYWdlLnNob3BOYW1lKT49MCAmJiBpdGVtLk5BTUUuaW5kZXhPZigkc2NvcGUuaW52YWxpZFNob3BNZXNzYWdlLnBsYXRGb3JtKT49MFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgICRzY29wZS5zZWxlY3RzaG9waW5mbyA9IHN0b3JlID8gc3RvcmUgOiAkc2NvcGUuc2hvcHNlbGVjdGxpc3RbMF07XHJcbiAgICAgICAgICAkc2NvcGUuc2hvcFByb2R1Y3RJZCA9ICRzY29wZS5pbnZhbGlkU2hvcE1lc3NhZ2Uuc2hvcFByb2R1Y3RJZCB8fCAnJ1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VhcmNoc2hvcGNvbW1vZGl0eSgkc2NvcGUuc2VsZWN0c2hvcGluZm8pXHJcbiAgICAgICAgICB9LDApXHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnaW52YWxpZFNob3BNZXNzYWdlJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZ2V0TGlzdExlZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLnN5bmNzaG9wY29tbW9kaXR5KCRzY29wZS5zZWxlY3RzaG9waW5mbyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8v5Yi35paw5L+h5oGvXHJcbiAgICAgIC8vIGNoZWNrSXNFYmF5SW5zeW5uKGRzcCwgJHNjb3BlKTtcclxuICAgICAgLy8gJHNjb3BlLnJlbm92YXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vICAgZ29BY3RTeW5jU2hvcFBybyhkc3AsICRzY29wZSk7XHJcbiAgICAgIC8vIH1cclxuICAgICAgJHNjb3BlLiRvbignc3luY3N0b3Jlc3VjY2VzcycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkc2NvcGUuZ2V0TGlzdExlZnQoKTtcclxuICAgICAgfSlcclxuXHJcblxyXG4gICAgICAkc2NvcGUuaWZNYXRjaCA9IHRydWU7XHJcbiAgICAgIC8v5LiL5ouJ6I635Y+W5bqX6ZO65L+h5oGv5LmL5ZCO6L+b6KGM5ZWG5ZOB562b6YCJXHJcbiAgICAgICRzY29wZS5zZWxlY3RzaG9wc3RyID0gJyc7XHJcbiAgICAgICRzY29wZS5zZWFyY2hzaG9wY29tbW9kaXR5ID0gKG4sIHR5cGUpID0+IHtcclxuICAgICAgICAkc2NvcGUubWF0Y2hpdGVtID0gbnVsbDtcclxuICAgICAgICAkc2NvcGUuc2hvcGl0ZW1pbmRleCA9IC0xO1xyXG4gICAgICAgIGlmIChuID09IG51bGwpIHtcclxuICAgICAgICAgIG4gPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLmlucHV0c2hvcGluZm8gPSBuO1xyXG4gICAgICAgIGdldExpc3RMZWZ0KCdzZWFyY2gnKTtcclxuICAgICAgICAkc2NvcGUuc2VsZWN0c2hvcHN0ciA9IG47XHJcbiAgICAgICAgJHNjb3BlLnNlbGVjdFR5cGUgPSB0eXBlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2NvcGUuc3luY3Nob3Bjb21tb2RpdHkgPSAobikgPT4ge1xyXG4gICAgICAgICRzY29wZS5zdG9yZWluZm8gPSBuO1xyXG4gICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdjdXJyU3RvcmVJZCcsIG4pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL+aQnOe0ouW6l+mTulxyXG4gICAgICAkc2NvcGUuc2VhcmNoc2hvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkc2NvcGUubWF0Y2hpdGVtID0gbnVsbDtcclxuICAgICAgICAkc2NvcGUuc2hvcGl0ZW1pbmRleCA9IC0xO1xyXG4gICAgICAgIGdldExpc3RMZWZ0KCdzZWFyY2gnKTtcclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUuZW50ZXJTZWFyY2hMZWZ0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMpIHtcclxuICAgICAgICAgICRzY29wZS5zZWFyY2hzaG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5zZWFDb25SZXNGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNlYWNoQ3MgPSBlbmNvZGVVUkkoJHNjb3BlLnNlYXJjaGluZm9zaG9wKTtcclxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gXCIjL3Byb2R1Y3RzLWNvbm5lY3Rpb24vY29ubmVjdGVkL1wiICsgc2VhY2hDc1xyXG4gICAgICB9XHJcbiAgICAgIC8v6I635Y+W5pCc57Si5L+h5oGvXHJcbiAgICAgICRzY29wZS5zZWFyY2hpbmZvID0gZnVuY3Rpb24gKGl0ZW0sIGluZGV4LCBpbmRleDIpIHtcclxuICAgICAgICAkc2NvcGUuc2hvcFtpbmRleF0uY2xhW2luZGV4Ml0uZmxhZyA9IHRydWU7XHJcbiAgICAgICAgaWYgKCRzY29wZS5zZWFyY2hpbmZvc3RyLmluZGV4T2YoaXRlbS5jbGFzc25hbWUpID09IC0xKSB7XHJcbiAgICAgICAgICBpZiAoJHNjb3BlLnNlYXJjaGluZm9zdHIuc3Vic3RyKCRzY29wZS5zZWFyY2hpbmZvc3RyLmxlbmd0aCAtIDEsIDEpID09ICcgJykge1xyXG4gICAgICAgICAgICAvLyBhbGVydCgn56m65qC8JylcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zZWFyY2hpbmZvc3RyID0gJHNjb3BlLnNlYXJjaGluZm9zdHIgKyAnICc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAkc2NvcGUuc2VhcmNoaW5mb3N0ciArPSBpdGVtLmNsYXNzbmFtZTtcclxuICAgICAgICAgICRzY29wZS5zZWFyY2hpbmZvc3RyID0gJHNjb3BlLnNlYXJjaGluZm9zdHIudHJpbSgpICsgJyAnO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUuc2VhcmNoaW5mbzIgPSBmdW5jdGlvbiAoaXRlbSwgaW5kZXgsIGluZGV4Mikge1xyXG4gICAgICAgICRzY29wZS5zaG9wW2luZGV4XS50YWdzYXJyW2luZGV4Ml0uZmxhZyA9IHRydWU7XHJcbiAgICAgICAgaWYgKCRzY29wZS5zZWFyY2hpbmZvc3RyLmluZGV4T2YoaXRlbS50YWduYW1lKSA9PSAtMSkge1xyXG4gICAgICAgICAgaWYgKCRzY29wZS5zZWFyY2hpbmZvc3RyLnN1YnN0cigkc2NvcGUuc2VhcmNoaW5mb3N0ci5sZW5ndGggLSAxLCAxKSA9PSAnICcpIHtcclxuICAgICAgICAgICAgLy8gYWxlcnQoJ+epuuagvCcpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VhcmNoaW5mb3N0ciA9ICRzY29wZS5zZWFyY2hpbmZvc3RyICsgJyAnO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgJHNjb3BlLnNlYXJjaGluZm9zdHIgKz0gaXRlbS50YWduYW1lO1xyXG4gICAgICAgICAgJHNjb3BlLnNlYXJjaGluZm9zdHIgPSAkc2NvcGUuc2VhcmNoaW5mb3N0ci50cmltKCkgKyAnICc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8v5Yig6Zmk5pCc57Si5L+h5oGvXHJcbiAgICAgICRzY29wZS5kZWxldGVzZWFyY2hpbmZvID0gZnVuY3Rpb24gKGl0ZW0sICRldmVudCwgaW5kZXgsIGluZGV4Mikge1xyXG4gICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTsvL+emgeatouS6i+S7tuWGkuazoVxyXG4gICAgICAgICRzY29wZS5zaG9wW2luZGV4XS5jbGFbaW5kZXgyXS5mbGFnID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHN0ciA9ICRzY29wZS5zZWFyY2hpbmZvc3RyO1xyXG4gICAgICAgICRzY29wZS5zZWFyY2hpbmZvc3RyID0gc3RyLnJlcGxhY2UoaXRlbS5jbGFzc25hbWUsICcnKVxyXG5cclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUuZGVsZXRlc2VhcmNoaW5mbzIgPSBmdW5jdGlvbiAoaXRlbSwgJGV2ZW50LCBpbmRleCwgaW5kZXgyKSB7XHJcbiAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOy8v56aB5q2i5LqL5Lu25YaS5rOhXHJcbiAgICAgICAgJHNjb3BlLnNob3BbaW5kZXhdLnRhZ3NhcnJbaW5kZXgyXS5mbGFnID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHN0ciA9ICRzY29wZS5zZWFyY2hpbmZvc3RyO1xyXG4gICAgICAgICRzY29wZS5zZWFyY2hpbmZvc3RyID0gc3RyLnJlcGxhY2UoaXRlbS50YWduYW1lLCAnJylcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g5Y+z5L6n6Lez6aG1XHJcbiAgICAgIGNvbnN0IHJpZmh0VG9HbyA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBhbGxQYWdlTnVtID0gJHNjb3BlLmNqUHJvVG90YWxOdW0gJiYgcGFyc2VJbnQoJHNjb3BlLmNqUHJvVG90YWxOdW0gLyA1KSB8fCAxO1xyXG4gICAgICAgIGlmKCRzY29wZS5yaWdodFBhZ2VOdW0gPiBhbGxQYWdlTnVtKSB7XHJcbiAgICAgICAgICAkc2NvcGUucmlnaHRQYWdlTnVtID0gJHNjb3BlLmNqUHJvVG90YWxOdW0gJSA1ID8gYWxsUGFnZU51bSsxIDogIGFsbFBhZ2VOdW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhZ2VGdW5XaXRoUGFyYW1zKCQoXCIjcGFnZTJcIiksICRzY29wZS5jalByb1RvdGFsTnVtLCA1LCAkc2NvcGUucmlnaHRQYWdlTnVtLCBmdW5jdGlvbiAobiwgdHlwZSkge1xyXG4gICAgICAgICAgJHNjb3BlLnJpZ2h0UGFnZU51bSA9IG47XHJcbiAgICAgICAgICBpZiAodHlwZSA9PSAnaW5pdCcgJiYgbiA9PSAxKSByZXR1cm47XHJcbiAgICAgICAgICAvLyBsYXllci5sb2FkKDIpO1xyXG4gICAgICAgICAgLy8gZHNwLmxvYWQoKTtcclxuICAgICAgICAgICRzY29wZS5wYWdlbnVtMiA9IG47XHJcbiAgICAgICAgICB2YXIgc3RyO1xyXG4gICAgICAgICAgaWYgKCRzY29wZS5zZWFyY2hCeVBhcnQpIHtcclxuICAgICAgICAgICAgc3RyID0gJHNjb3BlLnNlYXJjaGluZm9zdHIucmVwbGFjZSgvJy9nLCBcIicnXCIpLnJlcGxhY2UoLyAvZywgJywnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0ciA9ICRzY29wZS5zZWFyY2hpbmZvc3RyLnJlcGxhY2UoLycvZywgXCInJ1wiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhciBqc29uT2JqID0ge307XHJcbiAgICAgICAgICBqc29uT2JqLnBhZ2VTaXplID0gJzUnO1xyXG4gICAgICAgICAganNvbk9iai5wYWdlTnVtID0gbiArICcnO1xyXG4gICAgICAgICAgLy8ganNvbk9iai5zaG9wSWQgPSAkc2NvcGUuc2VsZWN0c2hvcHN0cjtcclxuICAgICAgICAgIGpzb25PYmoudXNlcklkID0gJHNjb3BlLnVzZXJJZDtcclxuICAgICAgICAgIGpzb25PYmouc2VhcmNoID0gc3RyO1xyXG4gICAgICAgICAgJHNjb3BlLnNob3AyID0gW107XHJcbiAgICAgICAgICAkc2NvcGUuc2hvcDJTb3VyY2UgPSBmYWxzZTtcclxuICAgICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvY29ubmVjdGlvbi9DSkxpc3QnLCB7IFwiZGF0YVwiOiBKU09OLnN0cmluZ2lmeShqc29uT2JqKSB9LCBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShuYW1lLmRhdGEucmVzdWx0KTtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3AyID0gb2JqLnJvb3Q7XHJcbiAgICAgICAgICAgICRzY29wZS5zaG9wMlNvdXJjZSA9ICRzY29wZS5zaG9wMi5sZW5ndGg9PTA7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDliJ3lp4vljJblj7PkvqfmlbDmja5cclxuICAgICAgZnVuY3Rpb24gZ2V0TGlzdFJpZ2h0KHR5cGUpIHtcclxuICAgICAgICAvLyBkc3AubG9hZCgpO1xyXG4gICAgICAgIHZhciBzdHI7XHJcbiAgICAgICAgaWYgKCRzY29wZS5zZWFyY2hCeVBhcnQpIHtcclxuICAgICAgICAgIHN0ciA9ICRzY29wZS5zZWFyY2hpbmZvc3RyLnJlcGxhY2UoLycvZywgXCInJ1wiKS5yZXBsYWNlKC8gL2csICcsJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHN0ciA9ICRzY29wZS5zZWFyY2hpbmZvc3RyLnJlcGxhY2UoLycvZywgXCInJ1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGpzb25PYmogPSB7fTtcclxuICAgICAgICBqc29uT2JqLnBhZ2VTaXplID0gJzUnO1xyXG4gICAgICAgIGpzb25PYmoucGFnZU51bSA9ICcxJztcclxuICAgICAgICAvLyBqc29uT2JqLnNob3BJZCA9ICRzY29wZS5zZWxlY3RzaG9wc3RyO1xyXG4gICAgICAgIGpzb25PYmoudXNlcklkID0gJHNjb3BlLnVzZXJJZDtcclxuICAgICAgICBqc29uT2JqLnNlYXJjaCA9IHN0cjtcclxuICAgICAgICAkc2NvcGUuc2hvcDJTb3VyY2UgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUuc2hvcDIgPSBbXTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRvbignYXBwL2Nvbm5lY3Rpb24vQ0pMaXN0JywgKF8sIGJvb2wpID0+ICRzY29wZS5sb2FkaW5nID0gYm9vbCk7XHJcbiAgICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9jb25uZWN0aW9uL0NKTGlzdCcsIHsgXCJkYXRhXCI6IEpTT04uc3RyaW5naWZ5KGpzb25PYmopIH0sIGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAvLyBkc3AuY2xvc2VMb2FkKCk7XHJcbiAgICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShuYW1lLmRhdGEucmVzdWx0KTtcclxuICAgICAgICAgIGlmIChvYmoudG90YWxQcm9wZXJ0eSA9PSAwKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zaG9wMlNvdXJjZSA9IHRydWU7XHJcbiAgICAgICAgICAgICRzY29wZS5zaG9wMiA9IFtdO1xyXG4gICAgICAgICAgICAvLyBkc3AuYWRkTm9kYXRhUGljKCQoJy5jai1sb2FkLXdyYXAtcmlnaHQnKSwgY29ubmVjdGlvblBpY0hlaWdodCk7XHJcbiAgICAgICAgICAgIGlmKHR5cGUgPT0gJ3NlYXJjaCcpIHtcclxuICAgICAgICAgICAgICBpZih2aXAgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgZHNwLmFmdGVyU2VhcmNoUGljVklQKCQoJy5jai1sb2FkLXdyYXAtcmlnaHQnKSwgY29ubmVjdGlvblBpY0hlaWdodCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRzcC5hZnRlclNlYXJjaFBpYygkKCcuY2otbG9hZC13cmFwLXJpZ2h0JyksIGNvbm5lY3Rpb25QaWNIZWlnaHQpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmKHZpcCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgZHNwLmJlZm9yZVNlYXJjaFBpY1ZJUCgkKCcuY2otbG9hZC13cmFwLXJpZ2h0JyksIGNvbm5lY3Rpb25QaWNIZWlnaHQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGRzcC5iZWZvcmVTZWFyY2hQaWMoJCgnLmNqLWxvYWQtd3JhcC1yaWdodCcpLCBjb25uZWN0aW9uUGljSGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUuY2pQcm9Ub3RhbE51bSA9IDA7XHJcbiAgICAgICAgICAgICRzY29wZS5oYXNDalByb0RhdGEgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZHNwLnJlbW92ZU5vZGF0YVBpYygkKCcuY2otbG9hZC13cmFwLXJpZ2h0JykpO1xyXG4gICAgICAgICAgJHNjb3BlLmhhc0NqUHJvRGF0YSA9IHRydWU7XHJcbiAgICAgICAgICAkc2NvcGUuc2hvcDIgPSBvYmoucm9vdDtcclxuICAgICAgICAgICRzY29wZS5zaG9wMlNvdXJjZSA9ICRzY29wZS5zaG9wMi5sZW5ndGg9PTA7XHJcbiAgICAgICAgICAkc2NvcGUuY2pQcm9Ub3RhbE51bSA9IG9iai50b3RhbFByb3BlcnR5O1xyXG4gICAgICAgICAgLy8gcGFnZUZ1bldpdGhQYXJhbXMoJChcIiNwYWdlMlwiKSwgb2JqLnRvdGFsUHJvcGVydHksIDUsIDEsIGZ1bmN0aW9uIChuLCB0eXBlKSB7XHJcbiAgICAgICAgICAvLyAgIGlmICh0eXBlID09ICdpbml0JykgcmV0dXJuO1xyXG4gICAgICAgICAgLy8gICAvLyBsYXllci5sb2FkKDIpO1xyXG4gICAgICAgICAgLy8gICAvLyBkc3AubG9hZCgpO1xyXG4gICAgICAgICAgLy8gICAkc2NvcGUucGFnZW51bTIgPSBuO1xyXG4gICAgICAgICAgLy8gICB2YXIgc3RyO1xyXG4gICAgICAgICAgLy8gICBpZiAoJHNjb3BlLnNlYXJjaEJ5UGFydCkge1xyXG4gICAgICAgICAgLy8gICAgIHN0ciA9ICRzY29wZS5zZWFyY2hpbmZvc3RyLnJlcGxhY2UoLycvZywgXCInJ1wiKS5yZXBsYWNlKC8gL2csICcsJyk7XHJcbiAgICAgICAgICAvLyAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyAgICAgc3RyID0gJHNjb3BlLnNlYXJjaGluZm9zdHIucmVwbGFjZSgvJy9nLCBcIicnXCIpO1xyXG4gICAgICAgICAgLy8gICB9XHJcbiAgICAgICAgICAvLyAgIHZhciBqc29uT2JqID0ge307XHJcbiAgICAgICAgICAvLyAgIGpzb25PYmoucGFnZVNpemUgPSAnNSc7XHJcbiAgICAgICAgICAvLyAgIGpzb25PYmoucGFnZU51bSA9IG4gKyAnJztcclxuICAgICAgICAgIC8vICAgLy8ganNvbk9iai5zaG9wSWQgPSAkc2NvcGUuc2VsZWN0c2hvcHN0cjtcclxuICAgICAgICAgIC8vICAganNvbk9iai51c2VySWQgPSAkc2NvcGUudXNlcklkO1xyXG4gICAgICAgICAgLy8gICBqc29uT2JqLnNlYXJjaCA9IHN0cjtcclxuICAgICAgICAgIC8vICAgJHNjb3BlLnNob3AyID0gW107XHJcbiAgICAgICAgICAvLyAgICRzY29wZS5zaG9wMlNvdXJjZSA9IGZhbHNlO1xyXG4gICAgICAgICAgLy8gICBkc3AucG9zdEZ1bignYXBwL2Nvbm5lY3Rpb24vQ0pMaXN0JywgeyBcImRhdGFcIjogSlNPTi5zdHJpbmdpZnkoanNvbk9iaikgfSwgZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgIC8vICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShuYW1lLmRhdGEucmVzdWx0KTtcclxuICAgICAgICAgIC8vICAgICAkc2NvcGUuc2hvcDIgPSBvYmoucm9vdDtcclxuICAgICAgICAgIC8vICAgICAkc2NvcGUuc2hvcDJTb3VyY2UgPSAkc2NvcGUuc2hvcDIubGVuZ3RoPT0wO1xyXG4gICAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAgIC8vIH0pXHJcbiAgICAgICAgICByaWZodFRvR28oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy/mkJzntKJcclxuICAgICAgJHNjb3BlLmhhc0NqUHJvRGF0YSA9IGZhbHNlO1xyXG4gICAgICAkc2NvcGUuc2VhcmNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGxheWVyLmxvYWQoMik7XHJcbiAgICAgICAgJHNjb3BlLnNlYXJjaEJ5UGFydCA9IGZhbHNlO1xyXG4gICAgICAgIGdldExpc3RSaWdodCgnc2VhcmNoJyk7XHJcbiAgICAgICAgJHNjb3BlLm1hdGNoUmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUuaWZNYXRjaCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5lbnRlclNlYXJjaFJpZ2h0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMpIHtcclxuICAgICAgICAgICRzY29wZS5zZWFyY2goKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLmNhbmNsZSA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIC8vICRzY29wZS5zaG9wW2luZGV4XS5mbGFnPWZhbHNlO1xyXG4gICAgICAgICRzY29wZS5zaG9wW2luZGV4XS53aW4gPSBmYWxzZTtcclxuICAgICAgICAvLyAkc2NvcGUubWF0Y2hpdGVtID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICAvL21hdGNoM1xyXG4gICAgICAkc2NvcGUubGlrZUltZ0FyciA9IFtdXHJcbiAgICAgICRzY29wZS5tYXRjaDMgPSBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcclxuICAgICAgICBpZiAoaXRlbS5mbGFnID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAkc2NvcGUubWF0Y2hpdGVtID0gaXRlbTtcclxuICAgICAgICAgICRzY29wZS5zaG9waXRlbWluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5zaG9wLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zaG9wW2ldLmZsYWcgPSBmYWxzZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgJHNjb3BlLnNob3BbaW5kZXhdLmZsYWcgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2hvcFtpbmRleF0uZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgJHNjb3BlLm1hdGNoaXRlbSA9IG51bGw7XHJcbiAgICAgICAgICAkc2NvcGUuc2hvcGl0ZW1pbmRleCA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLyoq5ZCM5q2l5bqX6ZO66auY57qn5pCc57Si5Yid5aeL5YyWICovXHJcbiAgICAgICRzY29wZS5pbml0U3luY0NhbGxiYWNrID0gZnVuY3Rpb24oYWR2YW5jZWRTZWFyY2gpe1xyXG4gICAgICAgICRzY29wZS5hZHZhbmNlZFNlYXJjaCA9IGFkdmFuY2VkU2VhcmNoXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIFxyXG5cclxuICAgICAgLy9tYXRjaDZcclxuICAgICAgJHNjb3BlLm1hdGNoNiA9IGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICAgIGlmIChpdGVtLmZsYWcgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICRzY29wZS5tYXRjaGl0ZW0gPSBpdGVtO1xyXG4gICAgICAgICAgJHNjb3BlLnNob3BpdGVtaW5kZXggPSBpbmRleDtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLnNob3AubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3BbaV0uZmxhZyA9IGZhbHNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyAkc2NvcGUuc2hvcFtpbmRleF0uZmxhZyA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vICRzY29wZS5zaG9wW2luZGV4XS5mbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAkc2NvcGUubWF0Y2hpdGVtID0gbnVsbDtcclxuICAgICAgICAgICRzY29wZS5zaG9waXRlbWluZGV4ID0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpbWFnZTtcclxuICAgICAgICBpZiAoaXRlbS5pbWFnZS5pbmNsdWRlcygnPycpKSB7XHJcbiAgICAgICAgICBpbWFnZSA9IGl0ZW0uaW1hZ2Uuc3Vic3RyaW5nKDAsIGl0ZW0uaW1hZ2UuaW5kZXhPZihcIj9cIikpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpbWFnZSA9IGl0ZW0uaW1hZ2VcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWxlcnQoJzEzMTIzJylcclxuICAgICAgICBsYXllci5sb2FkKClcclxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1nVXJsJywgaW1hZ2UpO1xyXG4gICAgICAgIGRzcC5wb3N0RnVuKFxyXG4gICAgICAgICAgJ2FwcC9waWN0dXJlL3NlYXJjaFByb2R1Y3QnLFxyXG4gICAgICAgICAgZm9ybURhdGEsXHJcbiAgICAgICAgICByZXMgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PSAyMDApIHtcclxuICAgICAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHJlc0RhdGEgPSBKU09OLnBhcnNlKHJlcy5kYXRhLnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgaWYgKHJlc0RhdGEudG90YWxQcm9wZXJ0eSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvcDIgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vIOaQnOe0ouWQjlxyXG4gICAgICAgICAgICAgICAgLy8gZHNwLmFkZE5vZGF0YVBpYygkKCcuY2otbG9hZC13cmFwLXJpZ2h0JyksIGNvbm5lY3Rpb25QaWNIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgZHNwLmFmdGVyU2VhcmNoUGljKCQoJy5jai1sb2FkLXdyYXAtcmlnaHQnKSwgY29ubmVjdGlvblBpY0hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2pQcm9Ub3RhbE51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGFzQ2pQcm9EYXRhID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGRzcC5yZW1vdmVOb2RhdGFQaWMoJCgnLmNqLWxvYWQtd3JhcC1yaWdodCcpKTtcclxuICAgICAgICAgICAgICAkc2NvcGUuaGFzQ2pQcm9EYXRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAkc2NvcGUubWF0Y2hSZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICRzY29wZS5zaG9wMiA9IHJlc0RhdGEucm9vdDtcclxuICAgICAgICAgICAgICAkc2NvcGUuY2pQcm9Ub3RhbE51bSA9IHJlc0RhdGEudG90YWxQcm9wZXJ0eTtcclxuICAgICAgICAgICAgICAvLyBwYWdlRnVuV2l0aFBhcmFtcygkKFwiI3BhZ2UyXCIpLCByZXNEYXRhLnRvdGFsUHJvcGVydHksIDUsIDEsIGZ1bmN0aW9uIChuLCB0eXBlKSB7XHJcbiAgICAgICAgICAgICAgLy8gICBpZiAodHlwZSA9PSAnaW5pdCcpIHJldHVybjtcclxuICAgICAgICAgICAgICAvLyAgIC8vIGxheWVyLmxvYWQoMik7XHJcbiAgICAgICAgICAgICAgLy8gICAvLyBkc3AubG9hZCgpO1xyXG4gICAgICAgICAgICAgIC8vICAgJHNjb3BlLnBhZ2VudW0yID0gbjtcclxuICAgICAgICAgICAgICAvLyAgIHZhciBzdHI7XHJcbiAgICAgICAgICAgICAgLy8gICBpZiAoJHNjb3BlLnNlYXJjaEJ5UGFydCkge1xyXG4gICAgICAgICAgICAgIC8vICAgICBzdHIgPSAkc2NvcGUuc2VhcmNoaW5mb3N0ci5yZXBsYWNlKC8nL2csIFwiJydcIikucmVwbGFjZSgvIC9nLCAnLCcpO1xyXG4gICAgICAgICAgICAgIC8vICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAvLyAgICAgc3RyID0gJHNjb3BlLnNlYXJjaGluZm9zdHIucmVwbGFjZSgvJy9nLCBcIicnXCIpO1xyXG4gICAgICAgICAgICAgIC8vICAgfVxyXG4gICAgICAgICAgICAgIC8vICAgdmFyIGpzb25PYmogPSB7fTtcclxuICAgICAgICAgICAgICAvLyAgIGpzb25PYmoucGFnZVNpemUgPSAnNSc7XHJcbiAgICAgICAgICAgICAgLy8gICBqc29uT2JqLnBhZ2VOdW0gPSBuICsgJyc7XHJcbiAgICAgICAgICAgICAgLy8gICAvLyBqc29uT2JqLnNob3BJZCA9ICRzY29wZS5zZWxlY3RzaG9wc3RyO1xyXG4gICAgICAgICAgICAgIC8vICAganNvbk9iai51c2VySWQgPSAkc2NvcGUudXNlcklkO1xyXG4gICAgICAgICAgICAgIC8vICAganNvbk9iai5zZWFyY2ggPSBzdHI7XHJcbiAgICAgICAgICAgICAgLy8gICAkc2NvcGUuc2hvcDIgPSBbXTtcclxuICAgICAgICAgICAgICAvLyAgICRzY29wZS5zaG9wMlNvdXJjZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIC8vICAgZHNwLnBvc3RGdW4oJ2FwcC9jb25uZWN0aW9uL0NKTGlzdCcsIHsgXCJkYXRhXCI6IEpTT04uc3RyaW5naWZ5KGpzb25PYmopIH0sIGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgLy8gICAgIHZhciBvYmogPSBKU09OLnBhcnNlKG5hbWUuZGF0YS5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgIC8vICAgICAkc2NvcGUuc2hvcDIgPSBvYmoucm9vdDtcclxuICAgICAgICAgICAgICAvLyAgICAgJHNjb3BlLnNob3AyU291cmNlID0gJHNjb3BlLnNob3AyLmxlbmd0aD09MDtcclxuICAgICAgICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgICAgICAgIC8vIH0pXHJcbiAgICAgICAgICAgICAgcmlmaHRUb0dvKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnNob3AyID0gW11cclxuICAgICAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgICAgICAgIC8vIGRzcC5hZGROb2RhdGFQaWMoJCgnLmNqLWxvYWQtd3JhcC1yaWdodCcpLCBjb25uZWN0aW9uUGljSGVpZ2h0KTtcclxuICAgICAgICAgICAgICBkc3AuYWZ0ZXJTZWFyY2hQaWMoJCgnLmNqLWxvYWQtd3JhcC1yaWdodCcpLCBjb25uZWN0aW9uUGljSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAkc2NvcGUuaGFzQ2pQcm9EYXRhID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGxheWVyLm1zZygnU2VhcmNoaW5nIEZhaWxlZC4gSW1hZ2VzIG11c3QgYmUgSlBHIG9yIFBORy4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGVyciA9PiBjb25zb2xlLmVycm9yKGVycm9yKSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gbGF5ZXIyOiB0cnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgXHJcblxyXG4gICAgICAvL21hdGNoMlxyXG4gICAgICAkc2NvcGUubWF0Y2gyID0gZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XHJcbiAgICAgICAgJHNjb3BlLm1hdGNoaXRlbSA9IGl0ZW07XHJcbiAgICAgICAgJHNjb3BlLnNob3BpdGVtaW5kZXggPSBpbmRleDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5zaG9wLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2hvcFtpXS53aW4gPSBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUuc2hvcFtpbmRleF0ud2luID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5zaG9wLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2hvcFtpXS5mbGFnID0gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLnNob3BbaW5kZXhdLmZsYWcgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIC8vbWF0Y2hcclxuICAgICAgJHNjb3BlLm1hdGNoID0gZnVuY3Rpb24gKHZhbCwgaW5kZXgpIHtcclxuICAgICAgICAkKCcjcHJvZHVjdC1jb25uZWN0aW9uJykuYXR0cignZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICRzY29wZS5tYXRjaGl0ZW0gPSB2YWw7XHJcbiAgICAgICAgJHNjb3BlLnNob3BpdGVtaW5kZXggPSBpbmRleDtcclxuICAgICAgICBzaG9wSWQgPSB2YWwucGlkO1xyXG4gICAgICAgICRzY29wZS5tYXRjaFJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgJHNjb3BlLmlmTWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICB2YXIgc3RyID0gJHNjb3BlLnNlYXJjaGluZm9zdHIucmVwbGFjZSgvJy9nLCBcIicnXCIpLnJlcGxhY2UoLyAvZywgJywnKTtcclxuICAgICAgICAkc2NvcGUuc2VhcmNoQnlQYXJ0ID0gdHJ1ZTtcclxuICAgICAgICBnZXRMaXN0UmlnaHQoJ3NlYXJjaCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2NvcGUuY2xvc2V0YW5jaHVhbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnYXV0bycpO1xyXG4gICAgICAgICRzY29wZS5hcnIgPSBbXTtcclxuICAgICAgICAkc2NvcGUuZmlyc3QgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUubGFzdCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLnNob3BMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2hvcExpc3RbaV0uZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5DSkxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICRzY29wZS5DSkxpc3RbaV0uZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUudGFuY2h1YW5nID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLm1hdGNoY2ppdGVtID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICAvLyDlhbPogZTlupfpk7pcclxuXHJcblxyXG4gICAgICAkc2NvcGUuZm9ybWF0ZVZhcmlhbnRrZXkgPSAodmFsKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc3RyID0gU3RyaW5nKHZhbCkucmVwbGFjZSgvXFxzL2csICc7Jyk7XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUuZm9ybWF0ZVZhcmlhbnRrZXlOZXcgPSAodmFsKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc3RyID0gJy0nICsgU3RyaW5nKHZhbCkucmVwbGFjZSgvXFxzL2csICctJyk7XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAvL2Nvbm5lY3RcclxuICAgICAgJHNjb3BlLmNvbm5lY3QgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICRzY29wZS5tYXRjaGNqaXRlbSA9IGl0ZW07XHJcbiAgICAgICAgcGlkID0gaXRlbS5JRDtcclxuICAgICAgICAvLyAkc2NvcGUuYXJyPVtdO1xyXG4gICAgICAgIGlmICghJHNjb3BlLm1hdGNoaXRlbSkge1xyXG4gICAgICAgICAgbGF5ZXIubXNnKCdQbGVhc2Ugc2VsZWN0IGEgcHJvZHVjdCB5b3Ugd2FudCB0byBjb25uZWN0IGluIHlvdXIgc3RvcmUuICcpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJHNjb3BlLm1hdGNoaXRlbS5zaG9wVHlwZSAhPSAnc2hvcGlmeScgJiYgJHNjb3BlLm1hdGNoaXRlbS5zaG9wVHlwICE9ICdXb29jb21tZXJjZScgJiYgIWl0ZW0uY3VzdG9tZURlc2lnbiAmJiBpdGVtLmN1c3RvbU1lc3NhZ2UpIHtcclxuICAgICAgICAgIGxheWVyLm1zZygnVW5mb3J0dW5hdGVseSwgVGhlIFBPRCBwcm9kdWN0cyBhcmUgb25seSBhdmFpbGFibGUgdG8gYmUgY29ubmVjdGVkIHRvIFNob3BpZnkgY3VycmVudGx5LicsIHtcclxuICAgICAgICAgICAgdGltZTogNjAwMFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5hcnIgPSBbXTtcclxuICAgICAgICAkc2NvcGUuZ2V0V2F5RGF0YS5pc1N1cHBsaWVyID0gWzUsICc1J10uaW5jbHVkZXMoaXRlbS5QUk9EVUNUVFlQRSkgPyAxIDogMFxyXG4gICAgICAgICRzY29wZS5nZXRXYXlEYXRhLnNrdSA9IGl0ZW0uU0tVXHJcbiAgICAgICAgJHNjb3BlLmdldFdheURhdGEud2VpZ2h0ID0gaXRlbS5wYWNrd2VpZ2h0O1xyXG4gICAgICAgICRzY29wZS5nZXRXYXlEYXRhLmxjaGFyYWN0ZXIgPSBpdGVtLlBST1BFUlRZS0VZO1xyXG4gICAgICAgICRzY29wZS5nZXRXYXlEYXRhLnNob3BUeXBlID0gJHNjb3BlLm1hdGNoaXRlbS5zaG9wVHlwZTtcclxuICAgICAgICAkc2NvcGUuZ2V0RGV0YWlsRGF0YS5wcm9kdWN0SWQgPSAkc2NvcGUubWF0Y2hpdGVtLnBpZDtcclxuICAgICAgICAkc2NvcGUuZ2V0RGV0YWlsRGF0YS5waWQgPSBwaWQ7XHJcbiAgICAgICAgJHNjb3BlLmdldERldGFpbERhdGEuc2hvcElkID0gJHNjb3BlLm1hdGNoaXRlbS5zaG9wSWQ7XHJcbiAgICAgICAgJHNjb3BlLnN0b3JlU2t1ID0gJycsJHNjb3BlLmNqU2t1ID0gJycsJHNjb3BlLmNqVkFSSUFOVEtFWSA9ICcnLCRzY29wZS5zdG9yZVRpdGxlID0gJyc7XHJcbiAgICAgICAgZ2V0VGFuRGF0YShkc3AsICRzY29wZSwkc2NvcGUubWF0Y2hSZWNvbW1lbmRhdGlvbik7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAkc2NvcGUuaXNMZXZlbHMgPSB0cnVlO1xyXG4gICAgICAgICRzY29wZS5TZXJ2aWNlID0gJzEnO1xyXG4gICAgICAgICRzY29wZS5MZXZlbHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY29ubmVjdGVkTGV2ZWxzJykgfHwgJzEnO1xyXG4gICAgICAgICRzY29wZS5TaG9wTmFtZSA9ICRzY29wZS5tYXRjaGl0ZW0uc2hvcE5hbWU7XHJcbiAgICAgICAgaWYgKCRzY29wZS5tYXRjaGl0ZW0uc2hvcFR5cGUgPT0gJ3Nob3BpZnknKSB7XHJcbiAgICAgICAgICBjb25zdCBzaG9wTGlzdCA9ICRzY29wZS5zaG9wc2VsZWN0bGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtLklEID09ICRzY29wZS5tYXRjaGl0ZW0uc2hvcElkKTtcclxuICAgICAgICAgICRzY29wZS5zeW5jSW52ZW50b3J5ID0gc2hvcExpc3RbMF0uc3luY19pbnZlbnRvcnk7XHJcbiAgICAgICAgICBpZiAoISRzY29wZS5zeW5jSW52ZW50b3J5KSB7XHJcbiAgICAgICAgICAgICRzY29wZS5TZXJ2aWNlID0gJzAnXHJcbiAgICAgICAgICAgICRzY29wZS5pc0xldmVscyA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy/ojrflj5bnianmtYHmlrnlvI9cclxuICAgICAgJHNjb3BlLmdldHd1bGl1d2F5ID0gZnVuY3Rpb24gKHd1bGl1d2F5KSB7XHJcbiAgICAgICAgJHNjb3BlLnd1bGl1d2F5ID0gd3VsaXV3YXk7XHJcbiAgICAgICAgJHNjb3BlLnJlbWFyayA9IHd1bGl1d2F5ID8gd3VsaXV3YXkucmVtYXJrIDogJyc7XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLmNsZWFyTWF0Y2hWYWx1ZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHNjb3BlLnN0b3JlU2t1ID0gJycsJHNjb3BlLmNqU2t1ID0gJycsJHNjb3BlLmNqVkFSSUFOVEtFWSA9ICcnLCRzY29wZS5zdG9yZVRpdGxlID0gJyc7XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLm1hdGNoUmVjb21tZW5kYXRpb24gPSBmdW5jdGlvbiAodmFsLG9yaWdpbldvcmQsdGFyZ2V0V29yZCxtYXRjaFR5cGUpIHtcclxuICAgICAgICB2YXIgbWF0Y2hSZWNvbW1lbmRhdGlvbk51bSA9IDBcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5zaG9wTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdmFyIGl0ZW0xID0gJHNjb3BlLnNob3BMaXN0W2ldLnNrdVxyXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAkc2NvcGUuQ0pMaXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtMiA9ICRzY29wZS5DSkxpc3Rbal0uU0tVXHJcbiAgICAgICAgICAgIGlmKG9yaWdpbldvcmQpe1xyXG4gICAgICAgICAgICAgIGlmKG1hdGNoVHlwZT09MCl7XHJcbiAgICAgICAgICAgICAgICBpdGVtMSA9ICRzY29wZS5ydWxlU2l6ZShpdGVtMSlcclxuICAgICAgICAgICAgICAgIGl0ZW0yID0gJHNjb3BlLnJ1bGVTaXplKGl0ZW0yLnJlcGxhY2UodGFyZ2V0V29yZCxvcmlnaW5Xb3JkKSlcclxuICAgICAgICAgICAgICB9ZWxzZSBpZihtYXRjaFR5cGU9PTEpe1xyXG4gICAgICAgICAgICAgICAgaXRlbTEgPSAkc2NvcGUucnVsZVNpemUoaXRlbTEpXHJcbiAgICAgICAgICAgICAgICBpdGVtMiA9IG9yaWdpbldvcmQgKyAkc2NvcGUucnVsZVNpemUoJHNjb3BlLmZvcm1hdGVWYXJpYW50a2V5TmV3KCRzY29wZS5DSkxpc3Rbal0uVkFSSUFOVEtFWSkpXHJcbiAgICAgICAgICAgICAgfWVsc2UgaWYobWF0Y2hUeXBlPT0yKXtcclxuICAgICAgICAgICAgICAgIGl0ZW0xID0gJHNjb3BlLnNob3BMaXN0W2ldLnByb2R1Y3RfaWQgKyAkc2NvcGUucnVsZVNpemUoJHNjb3BlLmZvcm1hdGVWYXJpYW50a2V5TmV3KCRzY29wZS5zaG9wTGlzdFtpXS50aXRsZSkpXHJcbiAgICAgICAgICAgICAgICBpdGVtMiA9IG9yaWdpbldvcmQgKyAkc2NvcGUucnVsZVNpemUoJHNjb3BlLmZvcm1hdGVWYXJpYW50a2V5TmV3KCRzY29wZS5DSkxpc3Rbal0uVkFSSUFOVEtFWSkpXHJcbiAgICAgICAgICAgICAgfWVsc2UgaWYobWF0Y2hUeXBlPT0zKXtcclxuICAgICAgICAgICAgICAgIGl0ZW0xID0gJHNjb3BlLnNob3BMaXN0W2ldLnByb2R1Y3RfaWQgKyAkc2NvcGUucnVsZVNpemUoJHNjb3BlLmZvcm1hdGVWYXJpYW50a2V5TmV3KCRzY29wZS5zaG9wTGlzdFtpXS50aXRsZSkpXHJcbiAgICAgICAgICAgICAgICBpdGVtMSA9IGl0ZW0xLnJlcGxhY2UodGFyZ2V0V29yZCwnJylcclxuICAgICAgICAgICAgICAgIGl0ZW0yID0gb3JpZ2luV29yZCArICRzY29wZS5ydWxlU2l6ZSgkc2NvcGUuZm9ybWF0ZVZhcmlhbnRrZXlOZXcoJHNjb3BlLkNKTGlzdFtqXS5WQVJJQU5US0VZKSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoaXRlbTEgJiYgaXRlbTIgJiYgaXRlbTEgPT0gaXRlbTIpe1xyXG4gICAgICAgICAgICAgIGlmKCEkc2NvcGUuc2hvcExpc3RbaV0uZmxhZyAmJiAhJHNjb3BlLkNKTGlzdFtqXS5mbGFnKSB7XHJcbiAgICAgICAgICAgICAgICB0YW5TaG9wUHJvQ2xpY2sodmFsLCBpLCAkc2NvcGUuc2hvcExpc3RbaV0sICRzY29wZSk7XHJcbiAgICAgICAgICAgICAgICB0YW5DalByb0NsaWNrKHZhbCwgaiwgJHNjb3BlLkNKTGlzdFtqXSwgJHNjb3BlKTtcclxuICAgICAgICAgICAgICAgIG1hdGNoUmVjb21tZW5kYXRpb25OdW0gPSBtYXRjaFJlY29tbWVuZGF0aW9uTnVtICsgMVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG1hdGNoUmVjb21tZW5kYXRpb25OdW09PTApe1xyXG4gICAgICAgICAgLy8gbGF5ZXIubXNnKG1hdGNoUmVjb21tZW5kYXRpb25OdW0rJyBtYXRjaGVkLicpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgbGF5ZXIubXNnKG1hdGNoUmVjb21tZW5kYXRpb25OdW0rJyBTS1UgYXV0b21hdGljIG1hdGNoZWQgYnkgQ0ogQUksIHBsZWFzZSBjaGVjayBpZiB0aGUgc3lzdGVtIGRpZCBpdCBjb3JyZWN0bHkuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICRzY29wZS5jbGVhck1hdGNoVmFsdWUoKVxyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS50cnlNYXRjaFJlY29tbWVuZGF0aW9uID0gZnVuY3Rpb24odmFsKXtcclxuICAgICAgICB2YXIgbmVlZE1hdGNoVmFsdWUgPSAkc2NvcGUuY2pTa3Uuc3Vic3RyaW5nKCRzY29wZS5jalNrdS5pbmRleE9mKFwiLVwiKSlcclxuICAgICAgICB2YXIgc3RvcmVTa3VNYXRjaFZhbHVlID0gJHNjb3BlLnJ1bGVTaXplKCRzY29wZS5zdG9yZVNrdS5zdWJzdHJpbmcoJHNjb3BlLnN0b3JlU2t1LmluZGV4T2YoXCItXCIpKSlcclxuICAgICAgICBpZigkc2NvcGUucnVsZVNpemUobmVlZE1hdGNoVmFsdWUpID09ICRzY29wZS5ydWxlU2l6ZShzdG9yZVNrdU1hdGNoVmFsdWUpKXtcclxuICAgICAgICAgICRzY29wZS5tYXRjaFJlY29tbWVuZGF0aW9uKHZhbCwkc2NvcGUuc3RvcmVTa3Uuc3Vic3RyaW5nKDAsJHNjb3BlLnN0b3JlU2t1LmluZGV4T2YoXCItXCIpKSwkc2NvcGUuY2pTa3Uuc3Vic3RyaW5nKDAsJHNjb3BlLmNqU2t1LmluZGV4T2YoXCItXCIpKSwwKVxyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgIG5lZWRNYXRjaFZhbHVlID0gJHNjb3BlLnJ1bGVTaXplKCRzY29wZS5jalZBUklBTlRLRVkpXHJcbiAgICAgICAgICBpZihuZWVkTWF0Y2hWYWx1ZSA9PSBzdG9yZVNrdU1hdGNoVmFsdWUpe1xyXG4gICAgICAgICAgICAkc2NvcGUubWF0Y2hSZWNvbW1lbmRhdGlvbih2YWwsJHNjb3BlLnN0b3JlU2t1LnN1YnN0cmluZygwLCRzY29wZS5zdG9yZVNrdS5pbmRleE9mKFwiLVwiKSksJHNjb3BlLmNqU2t1LnN1YnN0cmluZygwLDExKSwxKVxyXG4gICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBzdG9yZVNrdU1hdGNoVmFsdWUgPSAkc2NvcGUucnVsZVNpemUoJHNjb3BlLnN0b3JlVGl0bGUpXHJcbiAgICAgICAgICAgIGlmKG5lZWRNYXRjaFZhbHVlID09IHN0b3JlU2t1TWF0Y2hWYWx1ZSl7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm1hdGNoUmVjb21tZW5kYXRpb24odmFsLCRzY29wZS5zdG9yZVBpZCwkc2NvcGUuY2pTa3Uuc3Vic3RyaW5nKDAsMTEpLDIpXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIHZhciB0ZW1wQXJyYXkgPSBuZWVkTWF0Y2hWYWx1ZS5zcGxpdCgnLScpO1xyXG4gICAgICAgICAgICAgIHZhciB0ZW1wU3RyID0gc3RvcmVTa3VNYXRjaFZhbHVlXHJcbiAgICAgICAgICAgICAgZm9yICh2YXIgaT0wO2k8dGVtcEFycmF5Lmxlbmd0aCA7aSsrICl7XHJcbiAgICAgICAgICAgICAgICBpZighdGVtcEFycmF5W2ldPT0nJyl7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBTdHIgPSB0ZW1wU3RyLnJlcGxhY2UoJy0nK3RlbXBBcnJheVtpXSwnJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYoIW5lZWRNYXRjaFZhbHVlID09ICcnICYmIHN0b3JlU2t1TWF0Y2hWYWx1ZS5yZXBsYWNlKHRlbXBTdHIsJycpID09IG5lZWRNYXRjaFZhbHVlKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXRjaFJlY29tbWVuZGF0aW9uKHZhbCwkc2NvcGUuc3RvcmVQaWQsdGVtcFN0ciwzKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUuY2xlYXJNYXRjaFZhbHVlKClcclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUucnVsZVNpemUgPSBmdW5jdGlvbih2YWwpe1xyXG4gICAgICAgIHZhciBydWxlUHJvY2Vzc1ZhbHVlID0nJ1xyXG4gICAgICAgIGlmKHZhbC5pbmRleE9mKFwiNVhMXCIpIT0tMSl7XHJcbiAgICAgICAgICBydWxlUHJvY2Vzc1ZhbHVlID0gdmFsLnJlcGxhY2UoXCI1WExcIixcIlhYWFhYTFwiKVxyXG4gICAgICAgIH1lbHNlIGlmKHZhbC5pbmRleE9mKFwiNFhMXCIpIT0tMSkge1xyXG4gICAgICAgICAgcnVsZVByb2Nlc3NWYWx1ZSA9IHZhbC5yZXBsYWNlKFwiNFhMXCIsIFwiWFhYWExcIilcclxuICAgICAgICB9ZWxzZSBpZih2YWwuaW5kZXhPZihcIjNYTFwiKSE9LTEpIHtcclxuICAgICAgICAgIHJ1bGVQcm9jZXNzVmFsdWUgPSB2YWwucmVwbGFjZShcIjNYTFwiLCBcIlhYWExcIilcclxuICAgICAgICB9ZWxzZSBpZih2YWwuaW5kZXhPZihcIjJYTFwiKSE9LTEpIHtcclxuICAgICAgICAgIHJ1bGVQcm9jZXNzVmFsdWUgPSB2YWwucmVwbGFjZShcIjJYTFwiLCBcIlhYTFwiKVxyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgIHJ1bGVQcm9jZXNzVmFsdWUgPSB2YWxcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJ1bGVQcm9jZXNzVmFsdWVcclxuICAgICAgfVxyXG5cclxuICAgICAgLy/lhbPogZTllYblk4HnmoTnrKzkuIDmrKHngrnlh7tcclxuICAgICAgJHNjb3BlLmZpcnN0Y2xpY2sgPSBmdW5jdGlvbiAodmFsLCBudW0sIGl0ZW0pIHtcclxuICAgICAgICBjb25zdCBpc1Nob3cgPSBpdGVtLmZsYWdcclxuICAgICAgICB0YW5TaG9wUHJvQ2xpY2sodmFsLCBudW0sIGl0ZW0sICRzY29wZSk7XHJcbiAgICAgICAgY29uc3QgY2hhbmdTaG93ID0gaXRlbS5mbGFnXHJcbiAgICAgICAgaWYoaXNTaG93ICYmICFjaGFuZ1Nob3cpe1xyXG4gICAgICAgICAgJHNjb3BlLmNsZWFyTWF0Y2hWYWx1ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGl0ZW0uc2t1ICYmICFpc1Nob3cgJiYgY2hhbmdTaG93KSB7XHJcbiAgICAgICAgICAkc2NvcGUuc3RvcmVTa3UgPSBpdGVtLnNrdVxyXG4gICAgICAgICAgJHNjb3BlLnN0b3JlVGl0bGUgPSAkc2NvcGUuZm9ybWF0ZVZhcmlhbnRrZXlOZXcoaXRlbS50aXRsZSlcclxuICAgICAgICAgICRzY29wZS5zdG9yZVBpZCA9IGl0ZW0ucHJvZHVjdF9pZFxyXG4gICAgICAgICAgaWYoJHNjb3BlLmNqU2t1ICE9Jycpe1xyXG4gICAgICAgICAgICAkc2NvcGUudHJ5TWF0Y2hSZWNvbW1lbmRhdGlvbih2YWwpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8v5YWz6IGU5ZWG5ZOB55qE56ys5LqM5qyh54K55Ye7XHJcbiAgICAgICRzY29wZS5sYXN0Y2xpY2sgPSBmdW5jdGlvbiAodmFsLCBudW0sIGl0ZW0pIHtcclxuICAgICAgICBjb25zdCBpc1Nob3cgPSBpdGVtLmZsYWdcclxuICAgICAgICB0YW5DalByb0NsaWNrKHZhbCwgbnVtLCBpdGVtLCAkc2NvcGUpO1xyXG4gICAgICAgIGNvbnN0IGNoYW5nU2hvdyA9IGl0ZW0uZmxhZ1xyXG4gICAgICAgIGlmKGlzU2hvdyAmJiAhY2hhbmdTaG93KXtcclxuICAgICAgICAgICRzY29wZS5jbGVhck1hdGNoVmFsdWUoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpdGVtLlNLVSAmJiAhaXNTaG93ICYmIGNoYW5nU2hvdyl7XHJcbiAgICAgICAgICAkc2NvcGUuY2pTa3UgPSBpdGVtLlNLVVxyXG4gICAgICAgICAgJHNjb3BlLmNqVkFSSUFOVEtFWSA9ICRzY29wZS5mb3JtYXRlVmFyaWFudGtleU5ldyhpdGVtLlZBUklBTlRLRVkpXHJcbiAgICAgICAgICBpZigkc2NvcGUuc3RvcmVTa3UgIT0nJyl7XHJcbiAgICAgICAgICAgICRzY29wZS50cnlNYXRjaFJlY29tbWVuZGF0aW9uKHZhbClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy/lj5bmtojlhbPogZRcclxuICAgICAgJHNjb3BlLlVubGluayA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICRzY29wZS5hcnIuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAkc2NvcGUuc2hvcExpc3RbaW5kZXhdLmZsYWcgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUuQ0pMaXN0W2luZGV4XS5mbGFnID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGl0ZW0xID0gJHNjb3BlLnNob3BMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgdmFyIGl0ZW0yID0gJHNjb3BlLkNKTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICRzY29wZS5zaG9wTGlzdC5wdXNoKGl0ZW0xWzBdKTtcclxuICAgICAgICAkc2NvcGUuQ0pMaXN0LnB1c2goaXRlbTJbMF0pO1xyXG4gICAgICB9XHJcbiAgICAgIC8v54K55Ye75o+Q5LqkXHJcbiAgICAgICRzY29wZS5nb29uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRzY29wZS5jb25uZWN0U3RhdHVzID0gJzAnO1xyXG4gICAgICAgIGdvQWN0Q29ubmVjdChkc3AsICRzY29wZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOaJk+W8gOmrmOe6p+WQjOatpeW8ueeql1xyXG4gICAgICAkc2NvcGUuaGFuZGxlU3BlY2lmaWNTeW5jID0gKCkgPT4ge1xyXG4gICAgICAgICRzY29wZS5zcGVjaWZpY1N5bmNTdG9yZSA9ICRzY29wZS5zZWxlY3RzaG9waW5mbztcclxuICAgICAgICAkc2NvcGUuc2hvd3NwZWNpZmljU3luYyA9IHRydWU7XHJcbiAgICAgICAgJHNjb3BlLmhhbmRsZVNlbGVjdFNwZWNpZmljU3luY1N0b3JlKCRzY29wZS5zcGVjaWZpY1N5bmNTdG9yZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOS4i+aLiemAieaLqeW6l+mTulxyXG4gICAgICAkc2NvcGUuaGFuZGxlU2VsZWN0U3BlY2lmaWNTeW5jU3RvcmUgPSAodmFsKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBUWVBFIH0gPSB2YWw7XHJcbiAgICAgICAgaWYoVFlQRSA9PSAnc2hvcGVlJyB8fCBUWVBFID09ICdMYXphZGEnKSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2hvd1Byb2R1Y3ROYW1lID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS5zaG93UHJvZHVjdE5hbWUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihUWVBFID09ICdlYmF5Jykge1xyXG4gICAgICAgICAgJHNjb3BlLnNob3dTZWxlY3REYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAkc2NvcGUuc3RhcnRUaW1lID0gJyc7XHJcbiAgICAgICAgICAkc2NvcGUuZW5kVGltZSA9ICcnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2hvd1NlbGVjdERhdGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihUWVBFID09ICdMYXphZGEnKSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2hvd1Byb2R1Y3RTS1UgPSB0cnVlO1xyXG4gICAgICAgICAgJHNjb3BlLnByb2R1Y3ROYW1lID0gJyc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS5zaG93UHJvZHVjdFNLVSA9IGZhbHNlO1xyXG4gICAgICAgICAgJHNjb3BlLlNLVUxpc3QgPSBbJyddO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g5YWz6Zet6auY57qn5ZCM5q2lXHJcbiAgICAgICRzY29wZS5oYW5kbGVDYW5jZWxTeW5jID0gKCkgPT4ge1xyXG4gICAgICAgICRzY29wZS5zcGVjaWZpY1N5bmNTdG9yZSA9IHt9O1xyXG4gICAgICAgICRzY29wZS5zdGFydFRpbWUgPSAnJztcclxuICAgICAgICAkc2NvcGUuZW5kVGltZSA9ICcnO1xyXG4gICAgICAgICRzY29wZS5wcm9kdWN0TmFtZSA9ICcnO1xyXG4gICAgICAgICRzY29wZS5zaG93c3BlY2lmaWNTeW5jID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLlNLVUxpc3QgPSBbJyddO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDpq5jnuqflkIzmraXkuovku7ZcclxuICAgICAgJHNjb3BlLmhhbmRsZVNwZWNpZmljU3luY0NvbmZpcm0gPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBJRCB9ID0gJHNjb3BlLnNwZWNpZmljU3luY1N0b3JlO1xyXG4gICAgICAgIGlmKCFJRCkge1xyXG4gICAgICAgICAgcmV0dXJuIGxheWVyLm1zZygnUGxlYXNlIHNlbGVjdCBhIHN0b3JlIGZpcnN0IScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighJHNjb3BlLnN0YXJ0VGltZSAmJiAkc2NvcGUuZW5kVGltZSl7XHJcbiAgICAgICAgICByZXR1cm4gbGF5ZXIubXNnKCdQbGVhc2UgZW50ZXIgc3RhcnQgZGF0ZS4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoISRzY29wZS5lbmRUaW1lICYmICRzY29wZS5zdGFydFRpbWUpe1xyXG4gICAgICAgICAgcmV0dXJuIGxheWVyLm1zZygnUGxlYXNlIGVudGVyIGVuZCBkYXRlLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCRzY29wZS5zdGFydFRpbWUpLmdldFRpbWUoKTtcclxuICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgkc2NvcGUuZW5kVGltZSkuZ2V0VGltZSgpO1xyXG4gICAgICAgIGlmKHN0YXJ0ID4gZW5kKSB7XHJcbiAgICAgICAgICAkc2NvcGUuc3RhcnRUaW1lID0gJyc7XHJcbiAgICAgICAgICAkc2NvcGUuZW5kVGltZSA9ICcnO1xyXG4gICAgICAgICAgcmV0dXJuIGxheWVyLm1zZygnRW5kIGRhdGUgY2Fubm90IGJlIGVhcmxpZXIgdGhhbiBzdGFydCBkYXRlLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZigkc2NvcGUuc3BlY2lmaWNTeW5jU3RvcmUgJiYgJHNjb3BlLnNwZWNpZmljU3luY1N0b3JlLlRZUEUgPT0gJ3Nob3BlZScgJiYgJHNjb3BlLmVuZFRpbWUgJiYgZW5kIC0gc3RhcnQgPiAxMDAwKjM2MDAqMjQqMTUpIHtcclxuICAgICAgICAgICRzY29wZS5zdGFydFRpbWUgPSAnJztcclxuICAgICAgICAgICRzY29wZS5lbmRUaW1lID0gJyc7XHJcbiAgICAgICAgICByZXR1cm4gbGF5ZXIubXNnKCdUaW1lIHNwYW4gc2hvdWxkIGJlIG5vIG1vcmUgdGhhbiAxNSBkYXlzLiBQbGVhc2Ugc2VsZWN0IGl0IGFnYWluLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuZXdfc3RhcnRUaW1lID0gJHNjb3BlLnN0YXJ0VGltZSA/IGAkeyRzY29wZS5zdGFydFRpbWV9IDAwOjAwOjAwYCA6ICcnOyAvLyDlkI7nq6/opoHmsYLov5nmoLfkvKBcclxuICAgICAgICBjb25zdCBuZXdfZW5kVGltZSA9ICRzY29wZS5lbmRUaW1lID8gYCR7JHNjb3BlLmVuZFRpbWV9IDIzOjU5OjU5YCA6ICcnOyAvLyDlkI7nq6/opoHmsYLov5nmoLfkvKBcclxuXHJcbiAgICAgICAgbGV0IHByb2R1Y3ROYW1lID0gJHNjb3BlLnByb2R1Y3ROYW1lO1xyXG4gICAgICAgIGlmKCRzY29wZS5zcGVjaWZpY1N5bmNTdG9yZS5UWVBFID09ICdMYXphZGEnKSB7XHJcbiAgICAgICAgICBwcm9kdWN0TmFtZSA9ICRzY29wZS5TS1VMaXN0LmpvaW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICAgICAgc3RhcnRUaW1lOiBuZXdfc3RhcnRUaW1lLFxyXG4gICAgICAgICAgZW5kVGltZTogbmV3X2VuZFRpbWUsXHJcbiAgICAgICAgICBwcm9kdWN0SWQ6ICcnLFxyXG4gICAgICAgICAgcHJvZHVjdE5hbWU6IHByb2R1Y3ROYW1lLFxyXG4gICAgICAgICAgc2hvcElkOiBJRFxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdMKgbXNnTG9hZGluZ8KgPSBjak1lc3NhZ2UubG9hZGluZyh7wqBpc0ZpeGVkOiB0cnVlIH0pO1xyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdwbGF0Zm9ybS1wcm9kdWN0L3B1bGwvcHVsbFNob3BQcm9kdWN0cycsIHBhcmFtcywgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICBtc2dMb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgIGNvbnN0IHsgY29kZSwgZGF0YSwgbWVzc2FnZSB9ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgIGNvbnN0IGN1c3RvbUNvZGVNc2cgPSBbJzMwMDAxJywgJzMwMDAyJywgMzAwMDIsIDMwMDAxXTtcclxuICAgICAgICAgIGNvbnN0IG91dE1zZyA9IG1zZyA9PiBsYXllci5tc2cobXNnKTtcclxuICAgICAgICAgIGlmKGN1c3RvbUNvZGVNc2cuaW5jbHVkZXMoY29kZSkpIHJldHVybiBvdXRNc2cobWVzc2FnZSB8fCAnU3luYyBGYWlsZWQnKTtcclxuICAgICAgICAgIGNvbnN0IGVyck1zZyA9IHtcclxuICAgICAgICAgICAgMjAwMDc6ICdGYWlsZWQgdG8gZ2V0IHByb2R1Y3QnLFxyXG4gICAgICAgICAgICAyMDAwMDogJ1N5bmMgaW4gcHJvZ3Jlc3MuLi4gUGxlYXNlIGJlIHBhdGllbnQnLFxyXG4gICAgICAgICAgICA1MDAwOidXcm9uZyByZXF1ZXN0IHBhcmFtZXRlcicsXHJcbiAgICAgICAgICAgIDUwMDE6XCJZb3UgaGF2ZW4ndCBib3VuZCB0aGUgc3RvcmUgeWV0XCIsXHJcbiAgICAgICAgICAgIDUwMDI6J0RhdGEgdXBkYXRlIGZhaWxlZCdcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGVyck1zZykuaW5jbHVkZXMoY29kZSArICcnKSkgcmV0dXJuIG91dE1zZyhlcnJNc2dbY29kZV0pO1xyXG4gICAgICAgIGlmKGNvZGUgIT0gMjAwKSByZXR1cm4gb3V0TXNnKCdTeW5jIEZhaWxlZCcpO1xyXG4gICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCckc2hvd1Byb2dyZXNzQmFyJywgeyBcclxuICAgICAgICAgIHNlbGVjdHNob3BpbmZvOiAkc2NvcGUuc3BlY2lmaWNTeW5jU3RvcmUgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHNjb3BlLmhhbmRsZUNhbmNlbFN5bmMoKTtcclxuICAgICAgICAgIC8vIGlmKGNvZGUgPT0gMjAwKSB7XHJcbiAgICAgICAgICAvLyAgIGxheWVyLm1zZygnU3luY2VkIFN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgLy8gICAkc2NvcGUuaGFuZGxlQ2FuY2VsU3luYygpO1xyXG4gICAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgIC8vICAgbGF5ZXIubXNnKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgIC8vIOWuuemUmeWkhOeQhlxyXG4gICAgICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICBsYXllci5tc2coJ1RoZSBzZXJ2ZXIgaXMgYnVzeSBub3cuIFBsZWFzZSB0cnkgaXQgbGF0ZXIuICcpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOi3s+mhtei+k+WFpVxyXG4gICAgICAkc2NvcGUubnVtYmVySW5wdXQgPSAodHlwZSwgbnVtKSA9PiB7XHJcbiAgICAgICAgaWYodHlwZSA9PSAnbGVmdCcpIHtcclxuICAgICAgICAgICRzY29wZS5sZWZ0VG9HbyA9IHRydWU7IC8vIOW3pumBjeaYr+WQpnRvIGdvXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDot7PpobVcclxuICAgICAgJHNjb3BlLmNoYW5nZUZ1biA9ICh0eXBlKSA9PiB7XHJcbiAgICAgICAgaWYodHlwZSA9PSAnbGVmdCcpIHtcclxuICAgICAgICAgIGdldExpc3RMZWZ0KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmKHR5cGUgPT0gJ3JpZ2h0JyAmJiAkc2NvcGUucmlnaHRQYWdlTnVtID09IDEpIHtcclxuICAgICAgICAgIGdldExpc3RSaWdodCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZih0eXBlID09ICdyaWdodCcgJiYgJHNjb3BlLnJpZ2h0UGFnZU51bSAhPSAxKSB7XHJcbiAgICAgICAgICByaWZodFRvR28oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRzY29wZS4kb24oJyRjb25uZWN0UGFnZScsIChkLGRhdGEpID0+IHtcclxuICAgICAgICBjb25zdCB7IHBhZ2VOdW0gfSA9IGRhdGE7XHJcbiAgICAgICAgJHNjb3BlLmxlZnRQYWdlTnVtID0gcGFnZU51bTtcclxuICAgICAgfSlcclxuXHJcbiAgICAgICRzY29wZS4kb24oJ3N5bmNTdWNjZXNzJywgKGQsIGRhdGEpID0+IHtcclxuICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJHNob3dQcm9ncmVzc0JhcicsIHsgXHJcbiAgICAgICAgICBzZWxlY3RzaG9waW5mbzogJHNjb3BlLnNlbGVjdHNob3BpbmZvIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgJHNjb3BlLiRvbignaGlkZVByb2dyZXNzJywgKGQsIGRhdGEpID0+IHtcclxuICAgICAgICBnZXRMaXN0TGVmdCgnc2VhcmNoJyk7XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAkc2NvcGUuaGFuZGxlQ2xvc2VHdWlkZSA9ICgpID0+IHtcclxuICAgICAgICAkc2NvcGUuc2hvd1VwZGF0ZUd1aWRlID0gZmFsc2U7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ1VwZGF0ZUd1aWRlVHlwZScsIDEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2NvcGUuJG9uKCckc3luY1N1Y2Nlc3MnLCAoZCwgZGF0YSkgPT4ge1xyXG4gICAgICAgIGdldExpc3RMZWZ0KCdzZWFyY2gnKTtcclxuICAgICAgfSlcclxuXHJcbiAgICAgICRzY29wZS5oYW5kbGVBZGRTS1UgPSAoKSA9PiB7XHJcbiAgICAgICAgJHNjb3BlLlNLVUxpc3QudW5zaGlmdCgnJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRzY29wZS5oYW5kbGVSZWR1Y2VTS1UgPSAoaSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9ICRzY29wZS5TS1VMaXN0Lmxlbmd0aDtcclxuICAgICAgICBpZihsZW4gPT0gMSkgcmV0dXJuIDtcclxuICAgICAgICAkc2NvcGUuU0tVTGlzdC5zcGxpY2UoaSwgMSlcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgfV0pO1xyXG5cclxuICByZXR1cm4gYXBwO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFEQTtBQUNBO0FBRkE7QUFPQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/pages/mycj/connection/connection-pending.js\n");

/***/ })

}]);