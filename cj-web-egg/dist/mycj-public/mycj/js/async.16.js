(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[16],{

/***/ "../src/pages/mycj/connection/relevant-packaging.js":
/*!**********************************************************!*\
  !*** ../src/pages/mycj/connection/relevant-packaging.js ***!
  \**********************************************************/
/*! exports provided: relevantPackagingFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"relevantPackagingFactory\", function() { return relevantPackagingFactory; });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nfunction relevantPackagingFactory(angular) {\n  var app = angular.module('relevant-packaging.module', []);\n  app.controller('relevant-packaging.ctrl', ['$scope', '$rootScope', '$stateParams', 'dsp', function ($scope, $rootScope, $stateParams, dsp) {\n    /*\r\n    * 默认配置\r\n    * */\n    dsp.setRightMinHeight(); // $('.header-nav li').eq(2).addClass('active');\n\n    $('.header-nav li').eq(2).addClass('active productActive');\n    $scope.PACKAGE_LIMIT_NUM = 5; // 最多添加包装 5 个\n    //数据声明\n\n    $scope.pageNum = '1';\n    $scope.pageSize = '8';\n    $scope.totalNum = null;\n    $scope.inputStr = '';\n    $scope.dataList = null;\n    $scope.matchingType = '1'; //配货类型\n\n    $scope.count = '1'; //配货数量\n\n    $scope.packagingType = '1'; //包装类型\n\n    $scope.packagingPropertiesArr = [{\n      name: 'Plastic bags',\n      prop: 'PLASTIC_BAG',\n      flag: false\n    }, {\n      name: 'Cartons',\n      prop: 'PAPER_BOX',\n      flag: false\n    }, {\n      name: 'Plastic box',\n      prop: 'PLASTIC_BOX',\n      flag: false\n    }, {\n      name: 'Cloth bags',\n      prop: 'FARBIC_BAG',\n      flag: false\n    }, {\n      name: 'Paper bags',\n      prop: 'PAPER_BAG',\n      flag: false\n    }, {\n      name: 'Tags',\n      prop: 'HANG_TAG',\n      flag: false\n    }, {\n      name: 'Stickers',\n      prop: 'STICKER',\n      flag: false\n    }, {\n      name: 'Cards',\n      prop: 'KAPIAN',\n      flag: false\n    }, {\n      name: 'Gifts',\n      prop: 'GIFT',\n      flag: false\n    }, {\n      name: 'Others',\n      prop: 'MATERIAL',\n      flag: false\n    }]; //包装性质\n\n    $scope.packingKey = ''; //包装性质\n\n    $scope.queryType = 'Name'; // 搜索类型\n\n    $scope.queryName = 'Packaging Name'; // 搜索类型\n\n    $scope.queryNameLower = String($scope.queryName).toLocaleLowerCase(); // 搜索类型小写\n\n    $scope.packageSelectedArr = {}; // 已选择包装类型\n    // 统计选择了商品的变体数量\n\n    $scope.packageSelectedNum = {};\n    $scope.associationType = $stateParams.type;\n\n    if ($stateParams.itemData == 1) {\n      var data = localStorage.getItem('relevantpackage');\n      $scope.itemData = JSON.parse($rootScope.base64.decode(data));\n    } else {\n      var _data = JSON.parse($rootScope.base64.decode($stateParams.itemData));\n\n      $scope.itemData = [_data];\n    }\n\n    console.log('itemData====', $scope.itemData);\n    $scope.itemDataList = $scope.itemData.length < 6; // 是否来自商品页\n\n    $scope.isFromPro = !!$scope.itemData.pid == true;\n\n    (function () {\n      // 如果选择的是变体，则获取已经选择 sku\n      if (!$scope.isFromPro) {\n        _getCheckedList($scope.itemData.VID).then(function (data) {\n          // 统计选择了商品的变体数量 mock\n          // $scope.packageSelectedArr = {\n          //   '576A8447-006A-4DD5-ABB6-2646E967876B':[{sku:'hhhdfhdh',packVid:'TWEWRWRTYU'}]\n          // }\n          $scope.packageSelectedArr = lodash__WEBPACK_IMPORTED_MODULE_0___default.a.groupBy(data, 'packPid');\n        });\n      }\n    })(); //加减\n\n\n    $scope.plusOne = function () {\n      $scope.count = $scope.count * 1 + 1 + '';\n    };\n\n    $scope.minusOne = function () {\n      if ($scope.count == '1') return;\n      $scope.count = $scope.count * 1 - 1 + '';\n    };\n\n    $scope.checkIsNum = function () {\n      if (isNaN($scope.count * 1) || $scope.count * 1 < 1) {\n        $scope.count = '1';\n      }\n    }; //搜索 查询\n    //包装类型\n\n\n    $scope.packagingTypeFun = function (type) {\n      $scope.packagingType = type;\n      $scope.pageNum = '1';\n      getData();\n    }; //包装性质\n\n\n    $scope.packagingPropertiesFun = function (item) {\n      item.flag = !item.flag; // 最多只能选 3 个\n\n      if ($scope.packagingPropertiesArr.filter(function (pack) {\n        return pack.flag === true;\n      }).length > 3) {\n        item.flag = !item.flag;\n        layer.msg('You can select 3 packages at most once.');\n        return;\n      }\n\n      $scope.pageNum = '1';\n      var arr = [];\n      $scope.packagingPropertiesArr.forEach(function (o, i) {\n        if (o.flag) {\n          arr.push(o.prop);\n        }\n      });\n      $scope.packingKey = arr.join(',');\n      getData();\n    };\n\n    $scope.searchPro = function () {\n      $scope.pageNum = '1';\n      getData();\n    };\n\n    $scope.enterSearch = function (event) {\n      if (event.keyCode == 13) {\n        $scope.searchPro();\n      }\n    }; //获取数据\n\n\n    function getData() {\n      var _parms;\n\n      var parms = (_parms = {}, _defineProperty(_parms, $scope.queryType, $scope.inputStr), _defineProperty(_parms, \"type\", $scope.packagingType), _defineProperty(_parms, \"pageNum\", $scope.pageNum), _defineProperty(_parms, \"pageSize\", $scope.pageSize), _defineProperty(_parms, \"packingKey\", $scope.packingKey), _parms);\n      var msgLoading = cjMessage.loading({\n        isFixed: true\n      });\n      $scope.dataList = null;\n      dsp.postFun('cj/PackProduct/queryPackProductInfo', parms, function (res) {\n        msgLoading.hide();\n\n        if (res.data.statusCode === '200') {\n          $scope.dataList = res.data.result.list;\n          $scope.totalNum = res.data.result.count;\n          $scope.totalPageNum = Math.ceil($scope.totalNum / $scope.pageSize);\n          $scope.$broadcast('page-data', {\n            pagesizeList: ['8', '16', '24'],\n            pageNum: $scope.pageNum,\n            totalNum: $scope.totalPageNum,\n            totalCounts: $scope.totalNum,\n            pageSize: $scope.pageSize\n          });\n        }\n      }, function (err) {\n        msgLoading.hide();\n        console.log(err);\n      });\n    }\n\n    getData();\n    $scope.$on('pagedata-fa', function (d, data) {\n      $scope.pageNum = data.pageNum;\n      $scope.pageSize = data.pageSize;\n      getData(dsp, $scope);\n    }); //切换关联订单或商品选项\n\n    $scope.matchingChange = function (type) {\n      $scope.matchingType = type;\n      checkStandInfoChecked();\n    }; // 选择商品\n\n\n    $scope.showPackage = false;\n\n    $scope.selectPro = function (proItem, e, index) {\n      // 存当前选择的 item\n      $scope.currentItem = {\n        proItem: proItem,\n        e: e\n      };\n      var current = $(e.currentTarget);\n\n      var _current$offset = current.offset(),\n          top = _current$offset.top,\n          left = _current$offset.left;\n\n      var headerHeight = $('mycj-header').height();\n      console.log(proItem); // 把当前选择的商品凸显\n\n      $(e.currentTarget).css('z-index', 4); // 计算展开盒子默认位置\n\n      $('.package-sku-box').css({\n        'left': left,\n        'top': top + $('#router-outlet-wrap').scrollTop() - headerHeight,\n        'z-index': 9\n      });\n\n      if (proItem.standInfo) {\n        $scope.standInfo = proItem.standInfo;\n        checkStandInfoChecked(); // 计算展开盒子展开时位置\n\n        _positionVariantPopup();\n\n        $scope.showPackage = !$scope.showPackage;\n        console.log('showProduct====', $scope.showPackage);\n      } else {\n        var msgLoading = cjMessage.loading({\n          isFixed: true\n        }); // 获取变体信息\n\n        dsp.getFun('cj/PackProduct/getProductStandInfo?pid=' + proItem.PID, function (res) {\n          layer.closeAll('loading');\n          msgLoading.hide();\n\n          if (res.data.statusCode === '200') {\n            // 获取到变体信息\n            $scope.standInfo = res.data.result;\n            $scope.dataList[index].standInfo = $scope.standInfo;\n            $scope.showPackage = true;\n            checkStandInfoChecked(); // 计算展开盒子展开时位置\n\n            _positionVariantPopup();\n          }\n        }, function (err) {\n          $scope.standInfo = [];\n          layer.closeAll('loading');\n          console.log(err);\n        });\n      }\n    }; // 只要列表数据有变动就要合并检查\n\n\n    $scope.$watch('dataList', function () {\n      checkStandInfoChecked();\n    }); // 检查展开盒子的高度，如果页面变动，要及时变动\n\n    function _positionVariantPopup() {\n      // 如果没选中\n      if (!$scope.currentItem) {\n        return;\n      } // index 为选择商品的序号\n\n\n      var e = $scope.currentItem.e;\n      var current = $(e.currentTarget);\n\n      var _current$offset2 = current.offset(),\n          top = _current$offset2.top,\n          left = _current$offset2.left;\n\n      var headerHeight = $(\"mycj-header\").height(); // 计算展开盒子展开时位置\n\n      if ($(window).width() - left - current.width() > $(\".package-sku-box\").outerWidth()) {\n        // 如果右边能展示 则在右边屏幕展示，显示不下，从左边推出\n        $(\".package-sku-box\").animate({\n          left: current.width() + left,\n          top: top + $(\"#router-outlet-wrap\").scrollTop() - headerHeight\n        }, 100);\n      } else {\n        // 从左边展开\n        $(\".package-sku-box\").animate({\n          left: left - $(\".package-sku-box\").outerWidth(),\n          top: top + $(\"#router-outlet-wrap\").scrollTop() - headerHeight\n        }, 100);\n      }\n    } // 关闭选择商品\n\n\n    $scope.closePackageBox = function () {\n      // 当前选择的 item\n      var _$scope$currentItem = $scope.currentItem,\n          proItem = _$scope$currentItem.proItem,\n          e = _$scope$currentItem.e;\n      var current = $(e.currentTarget);\n      current.css('z-index', 'auto'); // 删除临时选中显示的信息\n\n      delete proItem.tempStand;\n      $scope.showPackage = false;\n    }; // 查看关联包装 sku\n\n\n    $scope.pickPackageSku = function (standItem) {\n      // 当前选择的商品\n      var proItem = $scope.currentItem.proItem; // 选中当前 sku 效果\n\n      $scope.standInfo.forEach(function (standItem) {\n        return standItem.selecting = false;\n      });\n      standItem.selecting = true; // 当前选中的包装 sku\n      // console.log('当前的 list: ', $scope.dataList);\n      // console.log('选中的 item: ', proItem);\n      // console.log('选中的规格 standItem: ', standItem);\n      // 临时存放当前选中的包装 sku\n\n      proItem.tempStand = {\n        IMG: standItem.imgUrl,\n        // 图片\n        NAMEEN: standItem.name,\n        // 名称\n        WEIGHT: standItem.weight,\n        // 重量\n        long: standItem.long,\n        // 长度\n        width: standItem.width,\n        // 宽度\n        height: standItem.height,\n        // 高度\n        SELLPRICE: standItem.price,\n        // 价格\n        goodNum: standItem.remained,\n        // 库存\n        correlationNum: standItem.connected // 关联数\n        // selectNum:proItem.selectNum // 当前商品的选择的 sku 数\n\n      };\n    }; // 切换选择关联包装 sku\n\n\n    $scope.changeSelectPackageSku = function (standItem, e) {\n      e.stopPropagation(); // 当前选择的商品\n\n      var proItem = $scope.currentItem.proItem;\n      var isRemove = false; //是否重复选择并移除\n      // 判断是否已经已选中\n\n      $scope.skus = lodash__WEBPACK_IMPORTED_MODULE_0___default.a.flatten(Object.values($scope.packageSelectedArr));\n      var skuArr = $scope.skus.map(function (i) {\n        return i.sku;\n      });\n\n      if (skuArr.includes(standItem.sku)) {\n        // 删除\n        _deleteSelectPackageSku(standItem.sku);\n      } else {\n        // 最多添加 5 个\n        if ($scope.skus.length === $scope.PACKAGE_LIMIT_NUM) {\n          layer.msg('Sorry, the packages selected exceed the limit.');\n          return;\n        } // 如果没有，添加到数组中\n\n\n        var packObj = {\n          sku: standItem.sku,\n          packVid: standItem.vid,\n          matchingType: $scope.matchingType\n        };\n\n        if ($scope.packageSelectedArr[proItem.PID]) {\n          $scope.packageSelectedArr[proItem.PID].push(packObj);\n        } else {\n          $scope.packageSelectedArr[proItem.PID] = [packObj];\n        }\n      }\n\n      checkStandInfoChecked();\n\n      _positionVariantPopup();\n    }; // 删除关联 sku\n\n\n    function _deleteSelectPackageSku(sku) {\n      for (var key in $scope.packageSelectedArr) {\n        // value = [{sku:'ewqeqweqwe',vid:'EREWREWRW'},{sku:'gergergre',vid:'BBNDFD'}]\n        $scope.packageSelectedArr[key] = $scope.packageSelectedArr[key].filter(function (value) {\n          return value.sku !== sku;\n        });\n      }\n    } // 取消选择关联包装 sku\n\n\n    $scope.cancelSelectPackageSku = function (sku) {\n      _deleteSelectPackageSku(sku);\n\n      checkStandInfoChecked();\n    };\n    /**\r\n     * 根据前端缓存的选中状态，修改信息状态\r\n     * 1. 缓存选择的变体 id\r\n     * 2. 缓存选择商品的变体数量\r\n     */\n\n\n    function checkStandInfoChecked() {\n      // 找到对应 item 标签，增加选中状态\n      $scope.skus = lodash__WEBPACK_IMPORTED_MODULE_0___default.a.flatten(Object.values($scope.packageSelectedArr));\n      var skuArr = $scope.skus.map(function (i) {\n        return i.sku;\n      });\n      $scope.standInfo && $scope.standInfo.forEach(function (item) {\n        // 如果已经选择了选择的变体 id\n        if (skuArr.includes(item.sku)) {\n          item.isSelected = true;\n        } else {\n          item.isSelected = false;\n        }\n      }); // 找到已经选择了的商品的,标记起选中数量\n\n      $scope.dataList && $scope.dataList.forEach(function (item) {\n        item.selectNum = $scope.packageSelectedArr[item.PID] && $scope.packageSelectedArr[item.PID].length;\n      });\n    } // 取消\n\n\n    $scope.cancel = function () {\n      history.go(-1);\n    }; // 确认选择\n\n\n    $scope.confirm = function () {\n      // const shopIdAll = $scope.itemData.map(o => o.shopId)\n      // console.log(shopIdAll)\n      $scope.dataList.forEach(function (o, i) {\n        if (o.select) {\n          $scope.packVid = o.ID;\n        }\n      }); // 包装商品集合\n\n      var packList = [];\n\n      lodash__WEBPACK_IMPORTED_MODULE_0___default.a.flatten(Object.values($scope.packageSelectedArr)).map(function (i) {\n        packList.push({\n          packVid: i.packVid,\n          matchingType: i.matchingType\n        });\n      }); // 如果没有选择\n\n\n      if (packList.length === 0) {\n        layer.msg('Please choose the packing');\n        return;\n      }\n\n      var plist = $scope.itemData.map(function (_item) {\n        return {\n          pid: _item.pid,\n          vid: _item.vid,\n          shopId: _item.shopId,\n          packList: packList\n        };\n      });\n      var parms = plist;\n      var msgLoading = cjMessage.loading();\n      dsp.postFun('cj/PackConnection/batchAddCorrelation', parms, function (res) {\n        msgLoading.hide();\n\n        if (res.data.statusCode == '200') {\n          layer.msg('Connection completed');\n          history.go(-1);\n        } else {\n          // code为509时：没有相关的商店商品  绑定失败\n          layer.msg('Connection failed');\n        }\n      }, function (err) {\n        msgLoading.hide();\n        console.log(err);\n      });\n    };\n\n    $scope.chanPageSize = function () {\n      $scope.pageNum = '1';\n      getData();\n    };\n\n    $scope.chanPageNum = function () {\n      if (!isNaN($scope.pageNum * 1) && $scope.pageNum * 1 > 0 && $scope.pageNum * 1 <= $scope.totalNum) {\n        getData();\n      } else {\n        $scope.pageNum = '1';\n      }\n    };\n\n    $scope.categoryItemClick = function (key) {\n      $scope.isShowCategory = 0;\n      $scope.queryType = key;\n      var keyNameObj = {\n        'name': 'Name',\n        'sku': 'SKU'\n      };\n      $scope.queryName = 'Packaging ' + keyNameObj[key];\n      $scope.queryNameLower = String($scope.queryName).toLocaleLowerCase(); // 搜索类型小写\n    }; //获取商品变体集合\n\n\n    $scope.onClickViewPackageShow = function () {\n      // 获取变体集合\n      // 初始化下拉框\n      $('.singleSelect').select2();\n      dsp.getFun('cj/PackProduct/getProductStandList?pid=' + $scope.itemData.pid + '&type=' + $scope.itemData.connectType + '&shopId=' + $scope.itemData.shopId, function (res) {\n        layer.closeAll('loading');\n\n        if (res.data.statusCode === '200') {\n          console.log(res.data);\n          $scope.viewPackagingModal = true;\n          $scope.proStandList = res.data.result;\n        }\n      }, function (err) {\n        $scope.proStandList = [];\n        layer.closeAll('loading');\n        console.log(err);\n      });\n    }; // 选择某个包装变体，查询详情\n\n\n    $scope.onSelectPackaging = function () {\n      if ($scope.selectedVid) {\n        // 选择了变体，显示变体下关联的包装商品\n        _getCheckedList($scope.selectedVid).then(function (data) {\n          $scope.vidCheckedList = data;\n          $scope.$apply();\n        });\n      } else {\n        // 没有选择，则不要\n        $scope.vidCheckedList = [];\n      }\n    }; // 关闭 view 弹框\n\n\n    $scope.closeViewPackagingModal = function () {\n      $scope.viewPackagingModal = false;\n      $scope.vidCheckedList = [];\n      $scope.selectedVid = '';\n      $('.singleSelect').select2('destroy');\n    }; // 获取变体已关联包装商品\n\n\n    function _getCheckedList(vid) {\n      return new Promise(function (resolve, reject) {\n        dsp.postFun('cj/PackProduct/getCheckedList', {\n          vid: vid,\n          shopId: $scope.itemData.shopId\n        }, function (res) {\n          layer.closeAll('loading');\n\n          if (res.data.statusCode == '200') {\n            resolve(res.data.result.checkedList);\n          } else {\n            reject();\n            $scope.vidCheckedList = [];\n          }\n        }, function (err) {\n          layer.closeAll('loading');\n          console.log(err);\n        });\n      });\n    } // 选中关联商品列表弹窗\n\n\n    $scope.openProduct = function () {\n      $scope.showProduct = true;\n    };\n\n    $scope.cencelProduct = function () {\n      $scope.showProduct = false;\n    };\n  }]);\n  return app;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovY29ubmVjdGlvbi9yZWxldmFudC1wYWNrYWdpbmcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL3BhZ2VzL215Y2ovY29ubmVjdGlvbi9yZWxldmFudC1wYWNrYWdpbmcuanM/NmM4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVsZXZhbnRQYWNrYWdpbmdGYWN0b3J5KGFuZ3VsYXIpIHtcclxuICBjb25zdCBhcHAgPSBhbmd1bGFyLm1vZHVsZSgncmVsZXZhbnQtcGFja2FnaW5nLm1vZHVsZScsIFtdKTtcclxuXHJcbiAgYXBwLmNvbnRyb2xsZXIoJ3JlbGV2YW50LXBhY2thZ2luZy5jdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckc3RhdGVQYXJhbXMnLCAnZHNwJyxcclxuICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRzdGF0ZVBhcmFtcywgZHNwKSB7XHJcbiAgICAgIC8qXHJcbiAgICAgICog6buY6K6k6YWN572uXHJcbiAgICAgICogKi9cclxuICAgICAgZHNwLnNldFJpZ2h0TWluSGVpZ2h0KCk7XHJcbiAgICAgIC8vICQoJy5oZWFkZXItbmF2IGxpJykuZXEoMikuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKCcuaGVhZGVyLW5hdiBsaScpLmVxKDIpLmFkZENsYXNzKCdhY3RpdmUgcHJvZHVjdEFjdGl2ZScpO1xyXG4gICAgICBcclxuICAgICAgJHNjb3BlLlBBQ0tBR0VfTElNSVRfTlVNID0gNSAvLyDmnIDlpJrmt7vliqDljIXoo4UgNSDkuKpcclxuICAgICAgLy/mlbDmja7lo7DmmI5cclxuICAgICAgJHNjb3BlLnBhZ2VOdW0gPSAnMSc7XHJcbiAgICAgICRzY29wZS5wYWdlU2l6ZSA9ICc4JztcclxuICAgICAgJHNjb3BlLnRvdGFsTnVtID0gbnVsbDtcclxuICAgICAgJHNjb3BlLmlucHV0U3RyID0gJyc7XHJcbiAgICAgICRzY29wZS5kYXRhTGlzdCA9IG51bGw7XHJcbiAgICAgICRzY29wZS5tYXRjaGluZ1R5cGUgPSAnMSc7Ly/phY3otKfnsbvlnotcclxuICAgICAgJHNjb3BlLmNvdW50ID0gJzEnOy8v6YWN6LSn5pWw6YePXHJcbiAgICAgICRzY29wZS5wYWNrYWdpbmdUeXBlID0gJzEnLy/ljIXoo4XnsbvlnotcclxuICAgICAgJHNjb3BlLnBhY2thZ2luZ1Byb3BlcnRpZXNBcnIgPSBbXHJcbiAgICAgICAgeyBuYW1lOiAnUGxhc3RpYyBiYWdzJywgcHJvcDogJ1BMQVNUSUNfQkFHJywgZmxhZzogZmFsc2UgfSxcclxuICAgICAgICB7IG5hbWU6ICdDYXJ0b25zJywgcHJvcDogJ1BBUEVSX0JPWCcsIGZsYWc6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnUGxhc3RpYyBib3gnLCBwcm9wOiAnUExBU1RJQ19CT1gnLCBmbGFnOiBmYWxzZSB9LFxyXG4gICAgICAgIHsgbmFtZTogJ0Nsb3RoIGJhZ3MnLCBwcm9wOiAnRkFSQklDX0JBRycsIGZsYWc6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnUGFwZXIgYmFncycsIHByb3A6ICdQQVBFUl9CQUcnLCBmbGFnOiBmYWxzZSB9LFxyXG4gICAgICAgIHsgbmFtZTogJ1RhZ3MnLCBwcm9wOiAnSEFOR19UQUcnLCBmbGFnOiBmYWxzZSB9LFxyXG4gICAgICAgIHsgbmFtZTogJ1N0aWNrZXJzJywgcHJvcDogJ1NUSUNLRVInLCBmbGFnOiBmYWxzZSB9LFxyXG4gICAgICAgIHsgbmFtZTogJ0NhcmRzJywgcHJvcDogJ0tBUElBTicsIGZsYWc6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnR2lmdHMnLCBwcm9wOiAnR0lGVCcsIGZsYWc6IGZhbHNlIH0sXHJcbiAgICAgICAgeyBuYW1lOiAnT3RoZXJzJywgcHJvcDogJ01BVEVSSUFMJywgZmxhZzogZmFsc2UgfVxyXG4gICAgICBdOy8v5YyF6KOF5oCn6LSoXHJcbiAgICAgICRzY29wZS5wYWNraW5nS2V5ID0gJyc7Ly/ljIXoo4XmgKfotKhcclxuICAgICAgJHNjb3BlLnF1ZXJ5VHlwZSA9ICdOYW1lJzsgLy8g5pCc57Si57G75Z6LXHJcbiAgICAgICRzY29wZS5xdWVyeU5hbWUgPSAnUGFja2FnaW5nIE5hbWUnOyAvLyDmkJzntKLnsbvlnotcclxuICAgICAgJHNjb3BlLnF1ZXJ5TmFtZUxvd2VyID0gU3RyaW5nKCRzY29wZS5xdWVyeU5hbWUpLnRvTG9jYWxlTG93ZXJDYXNlKCk7ICAvLyDmkJzntKLnsbvlnovlsI/lhplcclxuICAgICAgJHNjb3BlLnBhY2thZ2VTZWxlY3RlZEFyciA9IHt9OyAvLyDlt7LpgInmi6nljIXoo4XnsbvlnotcclxuICAgICAgLy8g57uf6K6h6YCJ5oup5LqG5ZWG5ZOB55qE5Y+Y5L2T5pWw6YePXHJcbiAgICAgICRzY29wZS5wYWNrYWdlU2VsZWN0ZWROdW0gPSB7fVxyXG4gICAgICAkc2NvcGUuYXNzb2NpYXRpb25UeXBlID0gJHN0YXRlUGFyYW1zLnR5cGU7XHJcbiAgICAgIGlmKCRzdGF0ZVBhcmFtcy5pdGVtRGF0YT09MSl7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZWxldmFudHBhY2thZ2UnKTtcclxuICAgICAgICAkc2NvcGUuaXRlbURhdGEgPSBKU09OLnBhcnNlKCRyb290U2NvcGUuYmFzZTY0LmRlY29kZShkYXRhKSk7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIGNvbnN0IGRhdGEgID0gSlNPTi5wYXJzZSgkcm9vdFNjb3BlLmJhc2U2NC5kZWNvZGUoJHN0YXRlUGFyYW1zLml0ZW1EYXRhKSk7XHJcbiAgICAgICAgJHNjb3BlLml0ZW1EYXRhID0gW2RhdGFdO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ2l0ZW1EYXRhPT09PScsJHNjb3BlLml0ZW1EYXRhKVxyXG4gICAgICAkc2NvcGUuaXRlbURhdGFMaXN0ID0gJHNjb3BlLml0ZW1EYXRhLmxlbmd0aCA8IDZcclxuICAgICAgLy8g5piv5ZCm5p2l6Ieq5ZWG5ZOB6aG1XHJcbiAgICAgICRzY29wZS5pc0Zyb21Qcm8gPSAhISRzY29wZS5pdGVtRGF0YS5waWQgPT0gdHJ1ZTtcclxuXHJcbiAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAvLyDlpoLmnpzpgInmi6nnmoTmmK/lj5jkvZPvvIzliJnojrflj5blt7Lnu4/pgInmi6kgc2t1XHJcbiAgICAgICAgICBpZighJHNjb3BlLmlzRnJvbVBybyl7XHJcbiAgICAgICAgICAgIF9nZXRDaGVja2VkTGlzdCgkc2NvcGUuaXRlbURhdGEuVklEKS50aGVuKGRhdGE9PntcclxuICAgICAgICAgICAgICAgIC8vIOe7n+iuoemAieaLqeS6huWVhuWTgeeahOWPmOS9k+aVsOmHjyBtb2NrXHJcbiAgICAgICAgICAgICAgICAvLyAkc2NvcGUucGFja2FnZVNlbGVjdGVkQXJyID0ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAnNTc2QTg0NDctMDA2QS00REQ1LUFCQjYtMjY0NkU5Njc4NzZCJzpbe3NrdTonaGhoZGZoZGgnLHBhY2tWaWQ6J1RXRVdSV1JUWVUnfV1cclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICRzY29wZS5wYWNrYWdlU2VsZWN0ZWRBcnIgPSBfLmdyb3VwQnkoZGF0YSwncGFja1BpZCcpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSkoKVxyXG5cclxuICAgICAgLy/liqDlh49cclxuICAgICAgJHNjb3BlLnBsdXNPbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHNjb3BlLmNvdW50ID0gJHNjb3BlLmNvdW50ICogMSArIDEgKyAnJztcclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUubWludXNPbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCRzY29wZS5jb3VudCA9PSAnMScpIHJldHVybjtcclxuICAgICAgICAkc2NvcGUuY291bnQgPSAkc2NvcGUuY291bnQgKiAxIC0gMSArICcnO1xyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5jaGVja0lzTnVtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChpc05hTigkc2NvcGUuY291bnQgKiAxKSB8fCAkc2NvcGUuY291bnQgKiAxIDwgMSkge1xyXG4gICAgICAgICAgJHNjb3BlLmNvdW50ID0gJzEnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvL+aQnOe0oiDmn6Xor6JcclxuICAgICAgLy/ljIXoo4XnsbvlnotcclxuICAgICAgJHNjb3BlLnBhY2thZ2luZ1R5cGVGdW4gPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICRzY29wZS5wYWNrYWdpbmdUeXBlID0gdHlwZTtcclxuICAgICAgICAkc2NvcGUucGFnZU51bSA9ICcxJztcclxuICAgICAgICBnZXREYXRhKCk7XHJcbiAgICAgIH07XHJcbiAgICAgIC8v5YyF6KOF5oCn6LSoXHJcbiAgICAgICRzY29wZS5wYWNrYWdpbmdQcm9wZXJ0aWVzRnVuID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICBpdGVtLmZsYWcgPSAhaXRlbS5mbGFnO1xyXG5cclxuICAgICAgICAvLyDmnIDlpJrlj6rog73pgIkgMyDkuKpcclxuICAgICAgICBpZigkc2NvcGUucGFja2FnaW5nUHJvcGVydGllc0Fyci5maWx0ZXIocGFjaz0+cGFjay5mbGFnID09PSB0cnVlKS5sZW5ndGggPiAzKXtcclxuICAgICAgICAgIGl0ZW0uZmxhZyA9ICFpdGVtLmZsYWc7XHJcbiAgICAgICAgICBsYXllci5tc2coJ1lvdSBjYW4gc2VsZWN0IDMgcGFja2FnZXMgYXQgbW9zdCBvbmNlLicpXHJcbiAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5wYWdlTnVtID0gJzEnO1xyXG4gICAgICAgIGxldCBhcnIgPSBbXTtcclxuICAgICAgICAkc2NvcGUucGFja2FnaW5nUHJvcGVydGllc0Fyci5mb3JFYWNoKChvLCBpKSA9PiB7XHJcbiAgICAgICAgICBpZiAoby5mbGFnKSB7XHJcbiAgICAgICAgICAgIGFyci5wdXNoKG8ucHJvcClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAkc2NvcGUucGFja2luZ0tleSA9IGFyci5qb2luKCcsJyk7XHJcblxyXG4gICAgICAgIGdldERhdGEoKTtcclxuICAgICAgfTtcclxuICAgICAgJHNjb3BlLnNlYXJjaFBybyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkc2NvcGUucGFnZU51bSA9ICcxJztcclxuICAgICAgICBnZXREYXRhKCk7XHJcbiAgICAgIH07XHJcbiAgICAgICRzY29wZS5lbnRlclNlYXJjaCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2VhcmNoUHJvKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvL+iOt+WPluaVsOaNrlxyXG4gICAgICBmdW5jdGlvbiBnZXREYXRhKCkge1xyXG4gICAgICAgIHZhciBwYXJtcyA9IHtcclxuICAgICAgICAgIFskc2NvcGUucXVlcnlUeXBlXTogJHNjb3BlLmlucHV0U3RyLFxyXG4gICAgICAgICAgdHlwZTogJHNjb3BlLnBhY2thZ2luZ1R5cGUsXHJcbiAgICAgICAgICBwYWdlTnVtOiAkc2NvcGUucGFnZU51bSxcclxuICAgICAgICAgIHBhZ2VTaXplOiAkc2NvcGUucGFnZVNpemUsXHJcbiAgICAgICAgICBwYWNraW5nS2V5OiAkc2NvcGUucGFja2luZ0tleVxyXG4gICAgICAgIH07XHJcblxyXG7CoMKgwqDCoMKgwqDCoMKgY29uc3TCoG1zZ0xvYWRpbmfCoD3CoGNqTWVzc2FnZS5sb2FkaW5nKHvCoGlzRml4ZWQ6IHRydWXCoH0pXHJcbiAgICAgICAgJHNjb3BlLmRhdGFMaXN0ID0gbnVsbDtcclxuICAgICAgICBkc3AucG9zdEZ1bignY2ovUGFja1Byb2R1Y3QvcXVlcnlQYWNrUHJvZHVjdEluZm8nLCBwYXJtcywgKHJlcykgPT4ge1xyXG4gICAgICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PT0gJzIwMCcpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGFMaXN0ID0gcmVzLmRhdGEucmVzdWx0Lmxpc3Q7XHJcbiAgICAgICAgICAgICRzY29wZS50b3RhbE51bSA9IHJlcy5kYXRhLnJlc3VsdC5jb3VudDtcclxuICAgICAgICAgICAgJHNjb3BlLnRvdGFsUGFnZU51bSA9IE1hdGguY2VpbCgkc2NvcGUudG90YWxOdW0gLyAkc2NvcGUucGFnZVNpemUpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgncGFnZS1kYXRhJywge1xyXG4gICAgICAgICAgICAgIHBhZ2VzaXplTGlzdDogWyc4JywgJzE2JywgJzI0J10sXHJcbiAgICAgICAgICAgICAgcGFnZU51bTogJHNjb3BlLnBhZ2VOdW0sXHJcbiAgICAgICAgICAgICAgdG90YWxOdW06ICRzY29wZS50b3RhbFBhZ2VOdW0sXHJcbiAgICAgICAgICAgICAgdG90YWxDb3VudHM6ICRzY29wZS50b3RhbE51bSxcclxuICAgICAgICAgICAgICBwYWdlU2l6ZTogJHNjb3BlLnBhZ2VTaXplXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgIG1zZ0xvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBnZXREYXRhKCk7XHJcblxyXG4gICAgICAkc2NvcGUuJG9uKCdwYWdlZGF0YS1mYScsIGZ1bmN0aW9uKGQsIGRhdGEpIHtcclxuICAgICAgICAkc2NvcGUucGFnZU51bSA9IGRhdGEucGFnZU51bTtcclxuICAgICAgICAkc2NvcGUucGFnZVNpemUgPSBkYXRhLnBhZ2VTaXplO1xyXG4gICAgICAgIGdldERhdGEoZHNwLCAkc2NvcGUpO1xyXG4gICAgICB9KTtcclxuICAgICAgLy/liIfmjaLlhbPogZTorqLljZXmiJbllYblk4HpgInpoblcclxuICAgICAgJHNjb3BlLm1hdGNoaW5nQ2hhbmdlID0gKHR5cGUpPT57XHJcbiAgICAgICAgJHNjb3BlLm1hdGNoaW5nVHlwZSA9IHR5cGU7XHJcbiAgICAgICAgY2hlY2tTdGFuZEluZm9DaGVja2VkKCk7XHJcbiAgICAgIH1cclxuICAgICAgLy8g6YCJ5oup5ZWG5ZOBXHJcbiAgICAgICRzY29wZS5zaG93UGFja2FnZT1mYWxzZTtcclxuICAgICAgJHNjb3BlLnNlbGVjdFBybyA9IGZ1bmN0aW9uKHByb0l0ZW0sZSxpbmRleCkge1xyXG4gICAgICAgIC8vIOWtmOW9k+WJjemAieaLqeeahCBpdGVtXHJcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRJdGVtID0ge3Byb0l0ZW0sZX1cclxuXHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSAkKGUuY3VycmVudFRhcmdldClcclxuICAgICAgICBsZXQgeyB0b3AsbGVmdCB9ID0gY3VycmVudC5vZmZzZXQoKVxyXG4gICAgICAgIGxldCBoZWFkZXJIZWlnaHQgPSAkKCdteWNqLWhlYWRlcicpLmhlaWdodCgpXHJcbiAgICAgICAgY29uc29sZS5sb2cocHJvSXRlbSlcclxuICAgICAgICAvLyDmiorlvZPliY3pgInmi6nnmoTllYblk4Hlh7jmmL5cclxuICAgICAgICAkKGUuY3VycmVudFRhcmdldCkuY3NzKCd6LWluZGV4Jyw0KVxyXG5cclxuICAgICAgICAvLyDorqHnrpflsZXlvIDnm5LlrZDpu5jorqTkvY3nva5cclxuICAgICAgICAkKCcucGFja2FnZS1za3UtYm94JykuY3NzKHtcclxuICAgICAgICAgICdsZWZ0JzpsZWZ0LFxyXG4gICAgICAgICAgJ3RvcCc6dG9wICsgJCgnI3JvdXRlci1vdXRsZXQtd3JhcCcpLnNjcm9sbFRvcCgpIC0gaGVhZGVySGVpZ2h0LFxyXG4gICAgICAgICAgJ3otaW5kZXgnOjlcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZihwcm9JdGVtLnN0YW5kSW5mbyl7XHJcbiAgICAgICAgICAkc2NvcGUuc3RhbmRJbmZvPXByb0l0ZW0uc3RhbmRJbmZvO1xyXG4gICAgICAgICAgY2hlY2tTdGFuZEluZm9DaGVja2VkKClcclxuXHJcbiAgICAgICAgICAvLyDorqHnrpflsZXlvIDnm5LlrZDlsZXlvIDml7bkvY3nva5cclxuICAgICAgICAgIF9wb3NpdGlvblZhcmlhbnRQb3B1cCgpO1xyXG4gICAgICAgICAgJHNjb3BlLnNob3dQYWNrYWdlID0gISRzY29wZS5zaG93UGFja2FnZTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdzaG93UHJvZHVjdD09PT0nLCRzY29wZS5zaG93UGFja2FnZSlcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgIGNvbnN0wqBtc2dMb2FkaW5nwqA9wqBjak1lc3NhZ2UubG9hZGluZyh7wqBpc0ZpeGVkOiB0cnVlwqB9KTtcclxuICAgICAgICAgIC8vIOiOt+WPluWPmOS9k+S/oeaBr1xyXG4gICAgICAgICAgZHNwLmdldEZ1bignY2ovUGFja1Byb2R1Y3QvZ2V0UHJvZHVjdFN0YW5kSW5mbz9waWQ9Jytwcm9JdGVtLlBJRCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgICAgICBtc2dMb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09ICcyMDAnKSB7XHJcbiAgICAgICAgICAgICAgLy8g6I635Y+W5Yiw5Y+Y5L2T5L+h5oGvXHJcbiAgICAgICAgICAgICAgJHNjb3BlLnN0YW5kSW5mbyA9IHJlcy5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAkc2NvcGUuZGF0YUxpc3RbaW5kZXhdLnN0YW5kSW5mbz0kc2NvcGUuc3RhbmRJbmZvO1xyXG4gICAgICAgICAgICAgICRzY29wZS5zaG93UGFja2FnZT10cnVlO1xyXG4gICAgICAgICAgICAgIGNoZWNrU3RhbmRJbmZvQ2hlY2tlZCgpXHJcblxyXG4gICAgICAgICAgICAgIC8vIOiuoeeul+WxleW8gOebkuWtkOWxleW8gOaXtuS9jee9rlxyXG4gICAgICAgICAgICAgIF9wb3NpdGlvblZhcmlhbnRQb3B1cCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgICAgJHNjb3BlLnN0YW5kSW5mbyA9IFtdXHJcbiAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIOWPquimgeWIl+ihqOaVsOaNruacieWPmOWKqOWwseimgeWQiOW5tuajgOafpVxyXG4gICAgICAkc2NvcGUuJHdhdGNoKCdkYXRhTGlzdCcsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNoZWNrU3RhbmRJbmZvQ2hlY2tlZCgpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyDmo4Dmn6XlsZXlvIDnm5LlrZDnmoTpq5jluqbvvIzlpoLmnpzpobXpnaLlj5jliqjvvIzopoHlj4rml7blj5jliqhcclxuICAgICAgZnVuY3Rpb24gX3Bvc2l0aW9uVmFyaWFudFBvcHVwKCkge1xyXG4gICAgICAgIC8vIOWmguaenOayoemAieS4rVxyXG4gICAgICAgIGlmKCEkc2NvcGUuY3VycmVudEl0ZW0pe1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGluZGV4IOS4uumAieaLqeWVhuWTgeeahOW6j+WPt1xyXG4gICAgICAgIGxldCB7IGUgfSA9ICRzY29wZS5jdXJyZW50SXRlbTtcclxuXHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcbiAgICAgICAgbGV0IHsgdG9wLCBsZWZ0IH0gPSBjdXJyZW50Lm9mZnNldCgpO1xyXG4gICAgICAgIGxldCBoZWFkZXJIZWlnaHQgPSAkKFwibXljai1oZWFkZXJcIikuaGVpZ2h0KCk7XHJcblxyXG4gICAgICAgIC8vIOiuoeeul+WxleW8gOebkuWtkOWxleW8gOaXtuS9jee9rlxyXG4gICAgICAgIGlmKCQod2luZG93KS53aWR0aCgpIC0gbGVmdCAtIGN1cnJlbnQud2lkdGgoKSA+ICQoXCIucGFja2FnZS1za3UtYm94XCIpLm91dGVyV2lkdGgoKSl7XHJcbiAgICAgICAgICAvLyDlpoLmnpzlj7Povrnog73lsZXnpLog5YiZ5Zyo5Y+z6L655bGP5bmV5bGV56S677yM5pi+56S65LiN5LiL77yM5LuO5bem6L655o6o5Ye6XHJcbiAgICAgICAgICAkKFwiLnBhY2thZ2Utc2t1LWJveFwiKS5hbmltYXRlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgbGVmdDogY3VycmVudC53aWR0aCgpICsgbGVmdCxcclxuICAgICAgICAgICAgICB0b3A6IHRvcCArICQoXCIjcm91dGVyLW91dGxldC13cmFwXCIpLnNjcm9sbFRvcCgpIC0gaGVhZGVySGVpZ2h0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAxMDBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgLy8g5LuO5bem6L655bGV5byAXHJcbiAgICAgICAgICAkKFwiLnBhY2thZ2Utc2t1LWJveFwiKS5hbmltYXRlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgbGVmdDogbGVmdCAtICAgJChcIi5wYWNrYWdlLXNrdS1ib3hcIikub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICAgIHRvcDogdG9wICsgJChcIiNyb3V0ZXItb3V0bGV0LXdyYXBcIikuc2Nyb2xsVG9wKCkgLSBoZWFkZXJIZWlnaHQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgMTAwXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOWFs+mXremAieaLqeWVhuWTgVxyXG4gICAgICAkc2NvcGUuY2xvc2VQYWNrYWdlQm94ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8g5b2T5YmN6YCJ5oup55qEIGl0ZW1cclxuICAgICAgICBsZXQgeyBwcm9JdGVtLCBlfSA9ICRzY29wZS5jdXJyZW50SXRlbVxyXG4gICAgICAgIGxldCBjdXJyZW50ID0gJChlLmN1cnJlbnRUYXJnZXQpXHJcbiAgICAgICAgY3VycmVudC5jc3MoJ3otaW5kZXgnLCdhdXRvJylcclxuXHJcbiAgICAgICAgLy8g5Yig6Zmk5Li05pe26YCJ5Lit5pi+56S655qE5L+h5oGvXHJcbiAgICAgICAgZGVsZXRlIHByb0l0ZW0udGVtcFN0YW5kXHJcbiAgICAgICAgJHNjb3BlLnNob3dQYWNrYWdlID0gZmFsc2U7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyDmn6XnnIvlhbPogZTljIXoo4Ugc2t1XHJcbiAgICAgICRzY29wZS5waWNrUGFja2FnZVNrdSA9IGZ1bmN0aW9uKHN0YW5kSXRlbSl7XHJcbiAgICAgICAgLy8g5b2T5YmN6YCJ5oup55qE5ZWG5ZOBXHJcbiAgICAgICAgbGV0IHsgcHJvSXRlbSB9ID0gJHNjb3BlLmN1cnJlbnRJdGVtXHJcblxyXG4gICAgICAgIC8vIOmAieS4reW9k+WJjSBza3Ug5pWI5p6cXHJcbiAgICAgICAgJHNjb3BlLnN0YW5kSW5mby5mb3JFYWNoKHN0YW5kSXRlbSA9PiBzdGFuZEl0ZW0uc2VsZWN0aW5nID0gZmFsc2UpXHJcbiAgICAgICAgc3RhbmRJdGVtLnNlbGVjdGluZyA9ICB0cnVlXHJcblxyXG4gICAgICAgIC8vIOW9k+WJjemAieS4reeahOWMheijhSBza3VcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygn5b2T5YmN55qEIGxpc3Q6ICcsICRzY29wZS5kYXRhTGlzdCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ+mAieS4reeahCBpdGVtOiAnLCBwcm9JdGVtKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygn6YCJ5Lit55qE6KeE5qC8IHN0YW5kSXRlbTogJywgc3RhbmRJdGVtKTtcclxuXHJcbiAgICAgICAgLy8g5Li05pe25a2Y5pS+5b2T5YmN6YCJ5Lit55qE5YyF6KOFIHNrdVxyXG4gICAgICAgIHByb0l0ZW0udGVtcFN0YW5kID0ge1xyXG4gICAgICAgICAgSU1HOnN0YW5kSXRlbS5pbWdVcmwsIC8vIOWbvueJh1xyXG4gICAgICAgICAgTkFNRUVOOnN0YW5kSXRlbS5uYW1lLCAvLyDlkI3np7BcclxuICAgICAgICAgIFdFSUdIVDpzdGFuZEl0ZW0ud2VpZ2h0LCAvLyDph43ph49cclxuICAgICAgICAgIGxvbmc6c3RhbmRJdGVtLmxvbmcsIC8vIOmVv+W6plxyXG4gICAgICAgICAgd2lkdGg6c3RhbmRJdGVtLndpZHRoLCAvLyDlrr3luqZcclxuICAgICAgICAgIGhlaWdodDpzdGFuZEl0ZW0uaGVpZ2h0LCAvLyDpq5jluqZcclxuICAgICAgICAgIFNFTExQUklDRTpzdGFuZEl0ZW0ucHJpY2UsIC8vIOS7t+agvFxyXG4gICAgICAgICAgZ29vZE51bTpzdGFuZEl0ZW0ucmVtYWluZWQsIC8vIOW6k+WtmFxyXG4gICAgICAgICAgY29ycmVsYXRpb25OdW06c3RhbmRJdGVtLmNvbm5lY3RlZCwgLy8g5YWz6IGU5pWwXHJcbiAgICAgICAgICAvLyBzZWxlY3ROdW06cHJvSXRlbS5zZWxlY3ROdW0gLy8g5b2T5YmN5ZWG5ZOB55qE6YCJ5oup55qEIHNrdSDmlbBcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9XHJcbiAgICAgIC8vIOWIh+aNoumAieaLqeWFs+iBlOWMheijhSBza3VcclxuICAgICAgJHNjb3BlLmNoYW5nZVNlbGVjdFBhY2thZ2VTa3UgPSBmdW5jdGlvbihzdGFuZEl0ZW0sZSl7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICAgIC8vIOW9k+WJjemAieaLqeeahOWVhuWTgVxyXG4gICAgICAgIGxldCB7IHByb0l0ZW0gfSA9ICRzY29wZS5jdXJyZW50SXRlbVxyXG4gICAgICAgIGxldCBpc1JlbW92ZSA9IGZhbHNlOy8v5piv5ZCm6YeN5aSN6YCJ5oup5bm256e76ZmkXHJcbiAgICAgICAgLy8g5Yik5pat5piv5ZCm5bey57uP5bey6YCJ5LitXHJcbiAgICAgICAgJHNjb3BlLnNrdXMgPSBfLmZsYXR0ZW4oT2JqZWN0LnZhbHVlcygkc2NvcGUucGFja2FnZVNlbGVjdGVkQXJyKSk7XHJcbiAgICAgICAgY29uc3Qgc2t1QXJyID0gICRzY29wZS5za3VzLm1hcChpPT5pLnNrdSlcclxuICAgICAgICBpZihza3VBcnIuaW5jbHVkZXMoc3RhbmRJdGVtLnNrdSkpe1xyXG4gICAgICAgICAgLy8g5Yig6ZmkXHJcbiAgICAgICAgICBfZGVsZXRlU2VsZWN0UGFja2FnZVNrdShzdGFuZEl0ZW0uc2t1KVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgLy8g5pyA5aSa5re75YqgIDUg5LiqXHJcbiAgICAgICAgICBpZigkc2NvcGUuc2t1cy5sZW5ndGggPT09ICRzY29wZS5QQUNLQUdFX0xJTUlUX05VTSl7XHJcbiAgICAgICAgICAgIGxheWVyLm1zZygnU29ycnksIHRoZSBwYWNrYWdlcyBzZWxlY3RlZCBleGNlZWQgdGhlIGxpbWl0LicpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8g5aaC5p6c5rKh5pyJ77yM5re75Yqg5Yiw5pWw57uE5LitXHJcbiAgICAgICAgICBjb25zdCBwYWNrT2JqID0ge1xyXG4gICAgICAgICAgICBza3U6c3RhbmRJdGVtLnNrdSxcclxuICAgICAgICAgICAgcGFja1ZpZDpzdGFuZEl0ZW0udmlkLFxyXG4gICAgICAgICAgICBtYXRjaGluZ1R5cGU6JHNjb3BlLm1hdGNoaW5nVHlwZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYoJHNjb3BlLnBhY2thZ2VTZWxlY3RlZEFycltwcm9JdGVtLlBJRF0pe1xyXG4gICAgICAgICAgICAkc2NvcGUucGFja2FnZVNlbGVjdGVkQXJyW3Byb0l0ZW0uUElEXS5wdXNoKHBhY2tPYmopXHJcbiAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgJHNjb3BlLnBhY2thZ2VTZWxlY3RlZEFycltwcm9JdGVtLlBJRF0gPSBbcGFja09ial1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2hlY2tTdGFuZEluZm9DaGVja2VkKClcclxuICAgICAgICBfcG9zaXRpb25WYXJpYW50UG9wdXAoKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDliKDpmaTlhbPogZQgc2t1XHJcbiAgICAgIGZ1bmN0aW9uIF9kZWxldGVTZWxlY3RQYWNrYWdlU2t1KHNrdSkge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluICRzY29wZS5wYWNrYWdlU2VsZWN0ZWRBcnIpIHtcclxuICAgICAgICAgIC8vIHZhbHVlID0gW3tza3U6J2V3cWVxd2Vxd2UnLHZpZDonRVJFV1JFV1JXJ30se3NrdTonZ2VyZ2VyZ3JlJyx2aWQ6J0JCTkRGRCd9XVxyXG4gICAgICAgICAgJHNjb3BlLnBhY2thZ2VTZWxlY3RlZEFycltrZXldID0gJHNjb3BlLnBhY2thZ2VTZWxlY3RlZEFycltrZXldLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZS5za3UgIT09IHNrdSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAvLyDlj5bmtojpgInmi6nlhbPogZTljIXoo4Ugc2t1XHJcbiAgICAgICRzY29wZS5jYW5jZWxTZWxlY3RQYWNrYWdlU2t1ID0gZnVuY3Rpb24oc2t1KXtcclxuICAgICAgICBfZGVsZXRlU2VsZWN0UGFja2FnZVNrdShza3UpXHJcbiAgICAgICAgY2hlY2tTdGFuZEluZm9DaGVja2VkKClcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIOagueaNruWJjeerr+e8k+WtmOeahOmAieS4reeKtuaAge+8jOS/ruaUueS/oeaBr+eKtuaAgVxyXG4gICAgICAgKiAxLiDnvJPlrZjpgInmi6nnmoTlj5jkvZMgaWRcclxuICAgICAgICogMi4g57yT5a2Y6YCJ5oup5ZWG5ZOB55qE5Y+Y5L2T5pWw6YePXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBjaGVja1N0YW5kSW5mb0NoZWNrZWQoKSB7XHJcbiAgICAgICAgLy8g5om+5Yiw5a+55bqUIGl0ZW0g5qCH562+77yM5aKe5Yqg6YCJ5Lit54q25oCBXHJcblxyXG4gICAgICAgICRzY29wZS5za3VzID0gIF8uZmxhdHRlbihPYmplY3QudmFsdWVzKCRzY29wZS5wYWNrYWdlU2VsZWN0ZWRBcnIpKTtcclxuICAgICAgICBjb25zdCBza3VBcnIgPSAgJHNjb3BlLnNrdXMubWFwKGk9Pmkuc2t1KVxyXG5cclxuICAgICAgICAkc2NvcGUuc3RhbmRJbmZvICYmICRzY29wZS5zdGFuZEluZm8uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgLy8g5aaC5p6c5bey57uP6YCJ5oup5LqG6YCJ5oup55qE5Y+Y5L2TIGlkXHJcbiAgICAgICAgICBpZiAoc2t1QXJyLmluY2x1ZGVzKGl0ZW0uc2t1KSkge1xyXG4gICAgICAgICAgICBpdGVtLmlzU2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaXRlbS5pc1NlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIC8vIOaJvuWIsOW3sue7j+mAieaLqeS6hueahOWVhuWTgeeahCzmoIforrDotbfpgInkuK3mlbDph49cclxuICAgICAgICAkc2NvcGUuZGF0YUxpc3QgJiYgJHNjb3BlLmRhdGFMaXN0LmZvckVhY2goaXRlbT0+e1xyXG4gICAgICAgICAgaXRlbS5zZWxlY3ROdW0gPSAkc2NvcGUucGFja2FnZVNlbGVjdGVkQXJyW2l0ZW0uUElEXSAmJiAkc2NvcGUucGFja2FnZVNlbGVjdGVkQXJyW2l0ZW0uUElEXS5sZW5ndGhcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyDlj5bmtohcclxuICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGhpc3RvcnkuZ28oLTEpO1xyXG4gICAgICB9O1xyXG4gICAgICAvLyDnoa7orqTpgInmi6lcclxuICAgICAgJHNjb3BlLmNvbmZpcm0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBjb25zdCBzaG9wSWRBbGwgPSAkc2NvcGUuaXRlbURhdGEubWFwKG8gPT4gby5zaG9wSWQpXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coc2hvcElkQWxsKVxyXG4gICAgICAgICRzY29wZS5kYXRhTGlzdC5mb3JFYWNoKChvLCBpKSA9PiB7XHJcbiAgICAgICAgICBpZiAoby5zZWxlY3QpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnBhY2tWaWQgPSBvLklEO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIOWMheijheWVhuWTgembhuWQiFxyXG4gICAgICAgIGxldCBwYWNrTGlzdCA9IFtdXHJcbiAgICAgICAgXy5mbGF0dGVuKE9iamVjdC52YWx1ZXMoJHNjb3BlLnBhY2thZ2VTZWxlY3RlZEFycikpLm1hcChpPT57XHJcbiAgICAgICAgICBwYWNrTGlzdC5wdXNoKHtcclxuICAgICAgICAgICAgcGFja1ZpZDppLnBhY2tWaWQsXHJcbiAgICAgICAgICAgIG1hdGNoaW5nVHlwZTppLm1hdGNoaW5nVHlwZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIOWmguaenOayoeaciemAieaLqVxyXG4gICAgICAgIGlmIChwYWNrTGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIGxheWVyLm1zZygnUGxlYXNlIGNob29zZSB0aGUgcGFja2luZycpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcGxpc3QgPSAkc2NvcGUuaXRlbURhdGEubWFwKF9pdGVtPT57XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwaWQ6X2l0ZW0ucGlkLFxyXG4gICAgICAgICAgICB2aWQ6X2l0ZW0udmlkLFxyXG4gICAgICAgICAgICBzaG9wSWQ6X2l0ZW0uc2hvcElkLFxyXG4gICAgICAgICAgICBwYWNrTGlzdDpwYWNrTGlzdFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdmFyIHBhcm1zID0gcGxpc3Q7XHJcbiAgICAgICAgY29uc3TCoG1zZ0xvYWRpbmfCoD3CoGNqTWVzc2FnZS5sb2FkaW5nKClcclxuICAgICAgICBkc3AucG9zdEZ1bignY2ovUGFja0Nvbm5lY3Rpb24vYmF0Y2hBZGRDb3JyZWxhdGlvbicsIHBhcm1zLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICBtc2dMb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXNDb2RlID09ICcyMDAnKSB7XHJcbiAgICAgICAgICAgIGxheWVyLm1zZygnQ29ubmVjdGlvbiBjb21wbGV0ZWQnKVxyXG4gICAgICAgICAgICBoaXN0b3J5LmdvKC0xKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAvLyBjb2Rl5Li6NTA55pe277ya5rKh5pyJ55u45YWz55qE5ZWG5bqX5ZWG5ZOBICDnu5HlrprlpLHotKVcclxuICAgICAgICAgICAgbGF5ZXIubXNnKCdDb25uZWN0aW9uIGZhaWxlZCcpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgfSlcclxuICAgICAgfTtcclxuXHJcbiAgICAgICRzY29wZS5jaGFuUGFnZVNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHNjb3BlLnBhZ2VOdW0gPSAnMSc7XHJcbiAgICAgICAgZ2V0RGF0YSgpO1xyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5jaGFuUGFnZU51bSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIWlzTmFOKCRzY29wZS5wYWdlTnVtICogMSkgJiYgJHNjb3BlLnBhZ2VOdW0gKiAxID4gMCAmJiAkc2NvcGUucGFnZU51bSAqIDEgPD0gJHNjb3BlLnRvdGFsTnVtKSB7XHJcbiAgICAgICAgICBnZXREYXRhKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS5wYWdlTnVtID0gJzEnO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgJHNjb3BlLmNhdGVnb3J5SXRlbUNsaWNrID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICRzY29wZS5pc1Nob3dDYXRlZ29yeSA9IDA7XHJcbiAgICAgICAgJHNjb3BlLnF1ZXJ5VHlwZSA9IGtleVxyXG5cclxuICAgICAgICBjb25zdCBrZXlOYW1lT2JqID0ge1xyXG4gICAgICAgICAgJ25hbWUnOidOYW1lJyxcclxuICAgICAgICAgICdza3UnOidTS1UnXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUucXVlcnlOYW1lID0gJ1BhY2thZ2luZyAnKyBrZXlOYW1lT2JqW2tleV1cclxuICAgICAgICAkc2NvcGUucXVlcnlOYW1lTG93ZXIgPSBTdHJpbmcoJHNjb3BlLnF1ZXJ5TmFtZSkudG9Mb2NhbGVMb3dlckNhc2UoKTsgIC8vIOaQnOe0ouexu+Wei+Wwj+WGmVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvL+iOt+WPluWVhuWTgeWPmOS9k+mbhuWQiFxyXG4gICAgICAkc2NvcGUub25DbGlja1ZpZXdQYWNrYWdlU2hvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIC8vIOiOt+WPluWPmOS9k+mbhuWQiFxyXG4gICAgICAgICAgLy8g5Yid5aeL5YyW5LiL5ouJ5qGGXHJcbiAgICAgICAgICAkKCcuc2luZ2xlU2VsZWN0Jykuc2VsZWN0MigpO1xyXG5cclxuICAgICAgICAgIGRzcC5nZXRGdW4oJ2NqL1BhY2tQcm9kdWN0L2dldFByb2R1Y3RTdGFuZExpc3Q/cGlkPScrJHNjb3BlLml0ZW1EYXRhLnBpZCsnJnR5cGU9Jyskc2NvcGUuaXRlbURhdGEuY29ubmVjdFR5cGUgKycmc2hvcElkPScrJHNjb3BlLml0ZW1EYXRhLnNob3BJZCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09ICcyMDAnKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpO1xyXG4gICAgICAgICAgICAgICRzY29wZS52aWV3UGFja2FnaW5nTW9kYWwgPSB0cnVlXHJcbiAgICAgICAgICAgICAgJHNjb3BlLnByb1N0YW5kTGlzdCA9IHJlcy5kYXRhLnJlc3VsdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICRzY29wZS5wcm9TdGFuZExpc3QgPSBbXVxyXG4gICAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgfSlcclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOmAieaLqeafkOS4quWMheijheWPmOS9k++8jOafpeivouivpuaDhVxyXG4gICAgICAkc2NvcGUub25TZWxlY3RQYWNrYWdpbmcgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGlmKCRzY29wZS5zZWxlY3RlZFZpZCl7XHJcbiAgICAgICAgICAvLyDpgInmi6nkuoblj5jkvZPvvIzmmL7npLrlj5jkvZPkuIvlhbPogZTnmoTljIXoo4XllYblk4FcclxuICAgICAgICAgIF9nZXRDaGVja2VkTGlzdCgkc2NvcGUuc2VsZWN0ZWRWaWQpLnRoZW4oZGF0YT0+e1xyXG4gICAgICAgICAgICAkc2NvcGUudmlkQ2hlY2tlZExpc3QgPSBkYXRhXHJcbiAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKVxyXG4gICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAvLyDmsqHmnInpgInmi6nvvIzliJnkuI3opoFcclxuICAgICAgICAgICRzY29wZS52aWRDaGVja2VkTGlzdCA9IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDlhbPpl60gdmlldyDlvLnmoYZcclxuICAgICAgJHNjb3BlLmNsb3NlVmlld1BhY2thZ2luZ01vZGFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRzY29wZS52aWV3UGFja2FnaW5nTW9kYWwgPSBmYWxzZVxyXG4gICAgICAgICRzY29wZS52aWRDaGVja2VkTGlzdCA9IFtdXHJcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkVmlkID0gJydcclxuICAgICAgICAkKCcuc2luZ2xlU2VsZWN0Jykuc2VsZWN0MignZGVzdHJveScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDojrflj5blj5jkvZPlt7LlhbPogZTljIXoo4XllYblk4FcclxuICAgICAgZnVuY3Rpb24gX2dldENoZWNrZWRMaXN0KHZpZCl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntcclxuICAgICAgICAgIGRzcC5wb3N0RnVuKCdjai9QYWNrUHJvZHVjdC9nZXRDaGVja2VkTGlzdCcsIHt2aWQ6dmlkLHNob3BJZDokc2NvcGUuaXRlbURhdGEuc2hvcElkfSwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PSAnMjAwJykge1xyXG4gICAgICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEucmVzdWx0LmNoZWNrZWRMaXN0KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlamVjdCgpXHJcbiAgICAgICAgICAgICAgJHNjb3BlLnZpZENoZWNrZWRMaXN0ID0gW11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOmAieS4reWFs+iBlOWVhuWTgeWIl+ihqOW8ueeql1xyXG4gICAgICAkc2NvcGUub3BlblByb2R1Y3QgPSAoKSA9PiB7XHJcbiAgICAgICAgJHNjb3BlLnNob3dQcm9kdWN0ID0gdHJ1ZVxyXG4gICAgICB9XHJcblxyXG4gICAgICAkc2NvcGUuY2VuY2VsUHJvZHVjdCA9ICgpID0+IHtcclxuICAgICAgICAkc2NvcGUuc2hvd1Byb2R1Y3QgPSBmYWxzZVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfV0pO1xyXG5cclxuICByZXR1cm4gYXBwO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQVFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUxBO0FBQUE7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBVEE7QUFBQTtBQUFBO0FBQ0E7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/pages/mycj/connection/relevant-packaging.js\n");

/***/ })

}]);