(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[29],{

/***/ "../src/pages/mycj/goods/goods-cart.js":
/*!*********************************************!*\
  !*** ../src/pages/mycj/goods/goods-cart.js ***!
  \*********************************************/
/*! exports provided: goodsCartFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"goodsCartFactory\", function() { return goodsCartFactory; });\nfunction goodsCartFactory(angular) {\n  var module = angular.module('goods-cart.module', ['home-service']);\n  var winHeight = $(window).height() * 1;\n  var rightBarHeight = winHeight - 160;\n  module.controller('goods-cart.ctrl', ['$scope', 'dsp', '$location', 'cjhome', '$state', '$rootScope', function ($scope, dsp, $location, cjhome, $state, $rootScope) {\n    var userInfo = $rootScope.userInfo;\n    $scope.isVip = userInfo.vip == 1;\n    $scope.isdelete = false;\n    $scope.iswishist = false;\n    $scope.item = '';\n    $scope.index = '';\n    $scope.delType = '';\n    $scope.wisType = '';\n    $scope.buylist = [];\n    $scope.noOrders = false;\n    $scope.idList = [];\n    $scope.hasLogin = dsp.isInLoginState();\n    $scope.bundleshow = false; // 组合商品详情\n\n    $scope.showPurchaseButton = true; // 从skulist过来的\n\n    $scope.isApplied = false; // 从skulist过来的\n    // 组合商品列表\n\n    $scope.groupProductList = []; // 关闭组合商品弹窗\n\n    $scope.closeBundle = function () {\n      $scope.bundleshow = !$scope.bundleshow;\n    }; // 打开组合商品弹窗\n\n\n    $scope.openBundle = function (list) {\n      $scope.bundleshow = true;\n      $scope.groupProductList = list;\n    }; //返回\n\n\n    $scope.back = function () {\n      history.go(-1);\n    }; //数据操作存储后台\n\n\n    function dataStorage(t) {\n      var msgLoading = cjMessage.loading({\n        isFixed: true\n      });\n      dsp.postFun('app/buyOrder/editShoppingCart', {\n        productList: $scope.buylist\n      }, function (data) {\n        if (data.data.code === '200') {\n          if (t === 'addToCart') layer.msg('Added Successfully');\n        }\n\n        msgLoading.hide();\n      }, function (data) {\n        msgLoading.hide();\n      });\n      allprice();\n    } // 获取购物车数据\n\n\n    function getCartdata() {\n      dsp.postFun('app/buyOrder/getShoppingCart', {}, function (data) {\n        if (data.data.code == 200) {\n          if (data.data.shoppingCart) {\n            if (!$scope.isApplied) {\n              $scope.buylist = data.data.shoppingCart.productList.map(function (item) {\n                item.checked = true;\n                return item;\n              }) || [];\n              $scope.isApplied = true;\n            } else {\n              $scope.buylist = data.data.shoppingCart.productList || [];\n            }\n\n            if ($scope.buylist.length == 0) {\n              $scope.noOrders = true;\n            } else {\n              $scope.noOrders = false;\n            }\n\n            dataStorage();\n            setTimeout(function () {\n              var body = document.body.clientHeight;\n              var h = document.getElementById('myContent').clientHeight;\n              var bottom = document.getElementById('relatedList').clientHeight;\n              var box = document.getElementById('my-right-list-box');\n\n              var _height = body - 200;\n\n              var fixedBox = document.getElementById('fixedBox').style;\n              var w = box.clientWidth + 'px';\n\n              if (h > _height) {\n                fixedBox.width = '100%';\n                fixedBox.position = 'sticky';\n                fixedBox.left = 0;\n                fixedBox.right = 0;\n              } else {\n                fixedBox.width = '100%';\n                fixedBox.position = 'relative';\n                fixedBox.left = 0;\n                fixedBox.right = 0;\n              }\n\n              var ele = dsp.getScroll();\n\n              ele.onscroll = function (e) {\n                var scrolltop = e.target.scrollTop;\n\n                if (bottom > 0 && h - scrolltop <= bottom || h - scrolltop < 800 || h < _height) {\n                  fixedBox.width = '100%';\n                  fixedBox.position = 'relative';\n                  fixedBox.left = 0;\n                  fixedBox.right = 0;\n                } // else if(h - scrolltop < 800) {\n                //   fixedBox.position = 'relative';\n                //   fixedBox.paddingLeft = 0;\n                //   fixedBox.paddingRight = 0;\n                // } \n                else {\n                    fixedBox.width = '100%';\n                    fixedBox.position = 'sticky';\n                    fixedBox.left = 0;\n                    fixedBox.right = 0;\n                  }\n              };\n            }, 1000);\n          }\n        }\n      }, function (data) {});\n    }\n\n    getCartdata(); //计算价钱\n\n    function allprice() {\n      $scope.total = 0;\n      $scope.sum = 0;\n      var arr = [];\n      $scope.buylist.forEach(function (o, i) {\n        if (o.checked) {\n          arr.push(o);\n        }\n      });\n      console.log($scope.buylist);\n\n      if ($scope.buylist.length > 0) {\n        if (arr.length == $scope.buylist.length) {\n          $scope.checked = true;\n        } else {\n          $scope.checked = false;\n        }\n      } else {\n        $scope.checked = false;\n      }\n\n      arr.forEach(function (o, i) {\n        var oprice = o.nowPrice ? o.nowPrice : o.SELLPRICE;\n        $scope.total += Number(oprice) * Number(o.itemcount);\n        $scope.sum += Number(o.itemcount);\n      });\n    } //加减修改数量\n\n\n    $scope.checkIsNum = function (val, index) {\n      if (isNaN(val) || val * 1 < 1) {\n        if (index >= 0) {\n          $scope.buylist[index].itemcount = '1';\n        } else {\n          $scope.itemcount = '1';\n        }\n      }\n\n      allprice();\n    };\n\n    $scope.plusOne = function (val, index) {\n      if (index >= 0) {\n        $scope.buylist[index].itemcount = $scope.buylist[index].itemcount * 1 + 1 + ''; // localStorage.setItem('buylist', JSON.stringify($scope.buylist));\n\n        allprice();\n      } else {\n        $scope.itemcount = $scope.itemcount * 1 + 1 + '';\n      }\n    };\n\n    $scope.minusOne = function (val, index) {\n      if (val == '1') return;\n\n      if (index >= 0) {\n        if (val == '') {\n          $scope.buylist[index].itemcount = '1';\n        } else {\n          $scope.buylist[index].itemcount = $scope.buylist[index].itemcount * 1 - 1 + '';\n        } // localStorage.setItem('buylist', JSON.stringify($scope.buylist));\n\n\n        allprice();\n      } else {\n        if (val == '') {\n          $scope.itemcount = '1';\n        } else {\n          $scope.itemcount = $scope.itemcount * 1 - 1 + '';\n        }\n      }\n    }; //删除\n\n\n    $scope.delbuy = function (item, index) {\n      $scope.isdelete = true;\n      $scope.item = item;\n      $scope.index = index;\n      $scope.delType = 'cld';\n      $scope.wisType = 'cld';\n    }; //批量删除\n\n\n    $scope.batchDel = function () {\n      console.log($scope.buylist);\n      var a = 0;\n      $scope.buylist.forEach(function (o, i) {\n        if (o.checked) {\n          a += 1;\n        }\n      });\n\n      if (a > 0) {\n        $scope.isdelete = true;\n        $scope.delType = 'all';\n        $scope.wisType = 'all';\n      } else {\n        layer.msg('Please select product.');\n      }\n    };\n\n    $scope.delete = function () {\n      if ($scope.delType == 'cld') {\n        $scope.buylist.splice($scope.index, 1);\n      } else if ($scope.delType == 'all') {\n        console.log($scope.buylist);\n        var arr = [];\n        $scope.buylist.forEach(function (o, i) {\n          if (!o.checked) {\n            arr.push(o);\n          }\n        });\n        $scope.buylist = arr;\n      }\n\n      dataStorage();\n      getCartdata();\n      $scope.isdelete = false;\n      console.log($scope.buylist);\n\n      if ($scope.buylist.length < 1) {\n        $scope.checked = false;\n      }\n    }; //移除到收藏\n\n\n    $scope.collectionlog = function () {\n      //$scope.collection ();\n      console.log($scope.item, $scope.index);\n      var arr = [];\n      arr.push({\n        id: $scope.item.ID,\n        CollectID: $scope.item.CollectID\n      });\n      dsp.postFun('cj/homePage/shouCangDuoGeShangPin', {\n        idList: arr\n      }, function (data) {\n        if (data.data.statusCode == 200) {\n          $scope.isdelete = false;\n          getCartdata();\n        }\n      }, function (data) {});\n    };\n\n    $scope.collection = function (item, index, type) {\n      $scope.idList = [];\n\n      if (type == 'all') {\n        $scope.buylist.forEach(function (o, i) {\n          console.log(o);\n\n          if (o.checked) {\n            $scope.idList.push({\n              id: o.ID,\n              CollectID: o.CollectID\n            });\n          }\n        });\n\n        if ($scope.idList.length < 1) {\n          layer.msg('Please select product.');\n          return;\n        }\n      }\n\n      console.log($scope.buylist);\n      console.log($scope.idList);\n      $scope.iswishist = true;\n      $scope.item = item;\n      $scope.index = index;\n      $scope.wisType = type;\n    };\n\n    $scope.wishist = function () {\n      if ($scope.wisType == 'cld') {\n        console.log('单个移入');\n        console.log($scope.item, $scope.index);\n        var arr = [];\n        arr.push({\n          id: $scope.item.ID,\n          CollectID: $scope.item.CollectID\n        }); // check\n\n        dsp.postFun('cj/homePage/shouCangDuoGeShangPin', {\n          idList: arr\n        }, function (data) {\n          if (data.data.statusCode == 200) {\n            $scope.iswishist = false;\n\n            if ($scope.isdelete) {\n              $scope.isdelete = false;\n            }\n\n            getCartdata();\n          }\n        }, function (data) {});\n      } else if ($scope.wisType == 'all') {\n        console.log('多个移入');\n        console.log($scope.idList); // check\n\n        dsp.postFun('cj/homePage/shouCangDuoGeShangPin', {\n          idList: $scope.idList\n        }, function (data) {\n          if (data.data.statusCode == 200) {\n            $scope.idList = [];\n            $scope.iswishist = false;\n\n            if ($scope.isdelete) {\n              $scope.isdelete = false;\n            }\n\n            getCartdata();\n          }\n        }, function (data) {});\n      }\n    }; //加入收藏\n\n\n    $scope.AddCollection = function (item, index, $event) {\n      console.log(item);\n      var $this = $($event.currentTarget);\n      var selectData = {};\n      selectData.id = item.CollectID;\n      dsp.postFun('cj/homePage/shouCangShnagPin', {\n        productId: item.CollectID\n      }, function (data) {\n        var cart = $('#mycjLeft');\n        var imgtodrag = $this.siblings('.cartcoll');\n\n        if (imgtodrag) {\n          var imgclone = imgtodrag.clone().offset({\n            top: imgtodrag.offset().top,\n            left: imgtodrag.offset().left\n          }).css({\n            'opacity': '0.6',\n            'position': 'absolute',\n            'height': '100px',\n            'width': '100px',\n            'z-index': '100'\n          }).appendTo($('body')).animate({\n            'top': cart.offset().top + 10,\n            'left': cart.offset().left + 10,\n            'width': 75,\n            'height': 75\n          }, 500);\n          imgclone.animate({\n            'width': 0,\n            'height': 0\n          }, function () {\n            $(this).detach();\n          });\n        }\n\n        getCartdata();\n      }, function (data) {});\n    }; //全选\n\n\n    $scope.AllChecked = function () {\n      if ($scope.buylist.length > 0) {\n        $scope.checked = !$scope.checked;\n\n        if ($scope.checked) {\n          $scope.buylist.forEach(function (o, i) {\n            o.checked = true;\n          });\n        } else {\n          $scope.buylist.forEach(function (o, i) {\n            o.checked = false;\n          });\n        }\n\n        dataStorage();\n      }\n    }; //单选\n\n\n    $scope.cldChecked = function (item) {\n      item.checked = !item.checked;\n      var a = 0;\n      $scope.buylist.forEach(function (o, i) {\n        if (o.checked) {\n          a += 1;\n        }\n      });\n\n      if (a == $scope.buylist.length) {\n        $scope.checked = true;\n      } else {\n        $scope.checked = false;\n      }\n\n      dataStorage();\n    }; //提交\n\n\n    $scope.cartSub = function (shipType) {\n      var a = 0;\n      var arr = [];\n      $scope.buylist.forEach(function (o, i) {\n        if (o.checked) {\n          a += 1;\n          arr.push(o);\n        }\n      });\n\n      if (a > 0) {\n        var data = {\n          productList: arr,\n          totalPrice: $scope.total.toFixed(2)\n        };\n        console.log(data);\n        dsp.postFun('app/buyOrder/saveShoppingCart', data, function (data) {\n          console.log(data);\n\n          if (data.data.checkFlag) {\n            var isSupplier = data.data.isSupplier && data.data.isSupplier == true ? 1 : 0; // 1 供应商或泰国商品 0 其他\n            //location.href = 'myCJ.html#/myCJ-purchase?isSupplier=' + isSupplier;\n\n            $state.go('mycj-purchase', {\n              orderType: 'zf',\n              isSupplier: isSupplier,\n              shipType: shipType // 区分直发、私有库存 1直发 2私有\n\n            });\n          } else {\n            layer.msg('data error');\n          }\n        }, function (data) {\n          layer.msg('System abnormality');\n        });\n      } else {\n        layer.msg('Please select product.');\n      }\n    }; //\n\n\n    $scope.pageNum = 1; //历史记录\n\n    $scope.History = JSON.parse(localStorage.getItem('viewHistory'));\n    console.log($scope.History); //打开添加弹窗\n\n    $scope.addDia = function (id, $event) {\n      $event.stopPropagation();\n      $scope.itemcount = 1;\n      $scope.additem = null;\n      $scope.addDialog = true;\n      var msgLoading = cjMessage.loading({\n        isFixed: true\n      });\n      dsp.postFun('cj/locProduct/huoQuShangPinXiangQing', JSON.stringify({\n        id: id,\n        token: ''\n      }), function (data) {\n        // console.log(data);\n        msgLoading.hide();\n        if (data.data.statusCode != 200) return;\n        $scope.additem = data.data.result;\n        console.log($scope.additem);\n        console.log($scope.additem.CATEGORYID);\n        $scope.stanProducts = $scope.additem.stanProducts;\n        $scope.varientArr = [];\n        $scope.varientKeys = [];\n\n        if ($scope.additem.VARIANTKEYEN != '') {\n          $scope.varientKeys = $scope.additem.VARIANTKEYEN.split('-');\n\n          for (var i = 0; i < $scope.varientKeys.length; i++) {\n            $scope.varientArr.push({\n              name: $scope.varientKeys[i],\n              key: []\n            });\n          }\n\n          for (var i = 0; i < $scope.stanProducts.length; i++) {\n            if ($scope.stanProducts[i].VARIANTKEY != null) {\n              var curVarientVal = $scope.stanProducts[i].VARIANTKEY.split('-');\n\n              for (var j = 0; j < curVarientVal.length; j++) {\n                $scope.varientArr[j].key.push(curVarientVal[j]);\n              }\n            }\n          }\n\n          for (var i = 0; i < $scope.varientArr.length; i++) {\n            $scope.varientArr[i].key = dsp.uniqueArray($scope.varientArr[i].key);\n            $scope.varientArr[i].val = $scope.varientArr[i].key[0];\n          }\n        } else {\n          $scope.varientArr = [];\n        }\n\n        if ($scope.varientArr.length == 1 && $scope.varientArr[0].key.length == 0) {\n          $scope.varientArr = [];\n        }\n\n        console.log($scope.varientArr);\n        $scope.varientKeysInner = [];\n\n        for (var i = 0; i < $scope.stanProducts.length; i++) {\n          $scope.varientKeysInner.push($scope.stanProducts[i].VARIANTKEY);\n\n          if ($scope.stanProducts[i].sellDiscount != null && $scope.stanProducts[i].sellDiscount < 100) {\n            $scope.stanProducts[i].SELLPRICEDIS = ($scope.stanProducts[i].SELLPRICE * $scope.stanProducts[i].sellDiscount / 100).toFixed(2);\n          } else {\n            $scope.stanProducts[i].SELLPRICEDIS = $scope.stanProducts[i].SELLPRICE;\n          }\n        }\n\n        console.log($scope.varientKeysInner);\n        getTheVitem();\n      }, function (data) {\n        msgLoading.hide();\n      }, function () {\n        msgLoading.hide();\n      });\n    };\n\n    $scope.chanVariant = function (val, index) {\n      console.log(val);\n      var filterKeysOne = [];\n\n      for (var i = 0; i < $scope.varientKeysInner.length; i++) {\n        var curVarKey = $scope.varientKeysInner[i].split('-');\n\n        if (curVarKey[index] == val) {\n          filterKeysOne.push(curVarKey);\n        }\n      }\n\n      for (var i = 0; i < $scope.varientArr.length; i++) {\n        if (i == index) continue;\n        var canbeTwo = [];\n\n        for (var j = 0; j < filterKeysOne.length; j++) {\n          canbeTwo.push(filterKeysOne[j][i]);\n        }\n\n        var OtherSel1 = $scope.varientArr[i].val;\n        var isInTwo = $.inArray(OtherSel1, canbeTwo);\n\n        if (isInTwo == -1) {\n          $scope.varientArr[i].val = canbeTwo[0];\n        }\n\n        var filterKeysTwo = [];\n        var curValTwo = $scope.varientArr[i].val;\n\n        for (var k = 0; k < filterKeysOne.length; k++) {\n          if (filterKeysOne[k][i] == curValTwo) {\n            filterKeysTwo.push(filterKeysOne[k]);\n          }\n        }\n\n        filterKeysOne = filterKeysTwo;\n      }\n\n      getTheVitem();\n    };\n\n    function getTheVitem() {\n      if ($scope.varientArr.length == 0) {\n        $scope.variantItem = $scope.stanProducts[0];\n      } else {\n        var curVarKeyArr = [];\n\n        for (var i = 0; i < $scope.varientArr.length; i++) {\n          curVarKeyArr.push($scope.varientArr[i].val);\n        }\n\n        $scope.curVarientKey = curVarKeyArr.join('-');\n        var curVarientIndex = dsp.findIndexByKey($scope.stanProducts, 'VARIANTKEY', $scope.curVarientKey);\n        $scope.variantItem = $scope.stanProducts[curVarientIndex];\n      }\n\n      console.log($scope.variantItem);\n    } //添加\n\n\n    $scope.addbuy = function ($event) {\n      var findIdx = dsp.findIndexByKey($scope.buylist, 'SKU', $scope.variantItem.SKU);\n      dsp.postFun('app/buyOrder/gouWuCheMaiDian', {\n        productId: $scope.additem.ID\n      }, function (data) {});\n\n      if (findIdx === -1) {\n        $scope.buylist.push({\n          NAMEEN: $scope.additem.NAMEEN,\n          BIGIMG: $scope.additem.BIGIMG,\n          isCollect: $scope.additem.isCollect,\n          nowPrice: $scope.variantItem.nowPrice,\n          ID: $scope.variantItem.ID,\n          CollectID: $scope.variantItem.PID,\n          SKU: $scope.variantItem.SKU,\n          SELLPRICE: $scope.variantItem.SELLPRICE,\n          itemcount: $scope.itemcount,\n          checked: true\n        });\n      } else {\n        $scope.buylist[findIdx].itemcount = $scope.buylist[findIdx].itemcount * 1 + $scope.itemcount * 1;\n        $scope.buylist[findIdx].checked = true;\n      }\n\n      dataStorage('addToCart');\n    }; //关闭弹窗\n\n\n    $scope.close = function () {\n      $scope.addDialog = false;\n    };\n    /*收藏*/\n\n\n    $scope.collectMerch = function (flag, id, $event, type, isCollect) {\n      $event.stopPropagation();\n\n      for (var i = 0; i < $scope.History.length; i++) {\n        if ($scope.History[i].id == id) {\n          if (isCollect == '1') {\n            $scope.History[i].isCollect = '0';\n          } else {\n            $scope.History[i].isCollect = '1';\n          }\n        }\n      }\n\n      if ($scope.hasLogin) {\n        if (type == 'History') {\n          console.log($scope.History);\n          cjhome.Collection(flag, id, $event, $('#mycjLeft'), $scope.History);\n        } else {\n          cjhome.Collection(flag, id, $event, $('#mycjLeft'));\n        }\n      } else {\n        layer.msg('Please login first!');\n      }\n    };\n    /*收藏hover*/\n\n\n    $scope.MerchEnter = function (ev) {\n      if ($(ev.currentTarget).attr('src') == 'static/image/CJ-home/icon_love@2x.png') {\n        $(ev.currentTarget).attr('src', 'static/image/CJ-home/love_hover@2x.png');\n      }\n    };\n\n    $scope.MerchLeave = function (ev) {\n      if ($(ev.currentTarget).attr('src') != 'static/image/CJ-home/icon_wishlist_click@2x.png') {\n        $(ev.currentTarget).attr('src', 'static/image/CJ-home/icon_love@2x.png');\n      }\n    };\n\n    $scope.ProMerchEnter = function (ev) {\n      if ($(ev.currentTarget).attr('src') == 'static/image/CJ-home/love_product@2x.png') {\n        $(ev.currentTarget).attr('src', 'static/image/CJ-home/love_product_hover@2x.png');\n      }\n    };\n\n    $scope.ProMerchLeave = function (ev) {\n      if ($(ev.currentTarget).attr('src') != 'static/image/CJ-home/love_product_click@2x.png') {\n        $(ev.currentTarget).attr('src', 'static/image/CJ-home/love_product@2x.png');\n      }\n    };\n    /*商品点击去详情*/\n\n\n    $scope.goTodetail = function (item) {\n      if (item.flag == '1') {\n        window.open('product-detail.html?id=' + item.id + '&from=' + $scope.fromCountry + '&fromType=' + $scope.fromType + '&productType=' + (item.productType || 0));\n      } else {\n        window.open('reptail-detail.html?id=' + item.id);\n      }\n    }; //listOrsource按钮\n\n\n    $scope.listOrsourceBtn = function (item, $event, type) {\n      $event.stopPropagation();\n\n      if (type == 'source') {\n        window.open('reptail-detail.html?id=' + item.id + '&source=1');\n      } else if (type == 'list') {\n        window.open('product-detail.html?id=' + item.id + '&from=' + $scope.fromCountry + '&fromType=' + $scope.fromType + '&list=1');\n      }\n    }; // 保留2位数\n\n\n    $scope.toFixed2 = function (val) {\n      if (!val) return;\n      return Number(val).toFixed(2);\n    }; // 判断是否显示批量够慢按钮\n\n\n    function isPurchaseShow() {\n      var path = $location.path();\n\n      if (path.includes('sku')) {\n        $scope.showPurchaseButton = false;\n      }\n    }\n\n    isPurchaseShow();\n  }]);\n  return module;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovZ29vZHMvZ29vZHMtY2FydC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9zcmMvcGFnZXMvbXljai9nb29kcy9nb29kcy1jYXJ0LmpzPzVmOTQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdvb2RzQ2FydEZhY3RvcnkoYW5ndWxhcikge1xyXG4gIGNvbnN0IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdnb29kcy1jYXJ0Lm1vZHVsZScsIFsnaG9tZS1zZXJ2aWNlJ10pO1xyXG4gIGNvbnN0IHdpbkhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKSAqIDE7XHJcbiAgY29uc3QgcmlnaHRCYXJIZWlnaHQgPSB3aW5IZWlnaHQgLSAxNjA7XHJcblxyXG4gIG1vZHVsZS5jb250cm9sbGVyKCdnb29kcy1jYXJ0LmN0cmwnLCBbJyRzY29wZScsICdkc3AnLCAnJGxvY2F0aW9uJywgJ2NqaG9tZScsICckc3RhdGUnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkc2NvcGUsIGRzcCwgJGxvY2F0aW9uLCBjamhvbWUsICRzdGF0ZSwgJHJvb3RTY29wZSkge1xyXG4gICAgY29uc3QgdXNlckluZm8gPSAkcm9vdFNjb3BlLnVzZXJJbmZvO1xyXG4gICAgJHNjb3BlLmlzVmlwID0gdXNlckluZm8udmlwID09IDE7XHJcbiAgICAkc2NvcGUuaXNkZWxldGUgPSBmYWxzZTtcclxuICAgICRzY29wZS5pc3dpc2hpc3QgPSBmYWxzZTtcclxuICAgICRzY29wZS5pdGVtID0gJyc7XHJcbiAgICAkc2NvcGUuaW5kZXggPSAnJztcclxuICAgICRzY29wZS5kZWxUeXBlID0gJyc7XHJcbiAgICAkc2NvcGUud2lzVHlwZSA9ICcnO1xyXG4gICAgJHNjb3BlLmJ1eWxpc3QgPSBbXTtcclxuICAgICRzY29wZS5ub09yZGVycyA9IGZhbHNlO1xyXG4gICAgJHNjb3BlLmlkTGlzdCA9IFtdO1xyXG4gICAgJHNjb3BlLmhhc0xvZ2luID0gZHNwLmlzSW5Mb2dpblN0YXRlKCk7XHJcbiAgICAkc2NvcGUuYnVuZGxlc2hvdyA9IGZhbHNlOy8vIOe7hOWQiOWVhuWTgeivpuaDhVxyXG4gICAgJHNjb3BlLnNob3dQdXJjaGFzZUJ1dHRvbiA9IHRydWU7IC8vIOS7jnNrdWxpc3Tov4fmnaXnmoRcclxuICAgICRzY29wZS5pc0FwcGxpZWQgPSBmYWxzZTsgLy8g5LuOc2t1bGlzdOi/h+adpeeahFxyXG5cclxuICAgIFxyXG4gICAgLy8g57uE5ZCI5ZWG5ZOB5YiX6KGoXHJcbiAgICAkc2NvcGUuZ3JvdXBQcm9kdWN0TGlzdCA9IFtdXHJcbiAgICAvLyDlhbPpl63nu4TlkIjllYblk4HlvLnnqpdcclxuICAgICRzY29wZS5jbG9zZUJ1bmRsZSA9ICgpID0+IHtcclxuICAgICAgJHNjb3BlLmJ1bmRsZXNob3cgPSAhJHNjb3BlLmJ1bmRsZXNob3c7XHJcbiAgICB9XHJcbiAgICAvLyDmiZPlvIDnu4TlkIjllYblk4HlvLnnqpdcclxuICAgICRzY29wZS5vcGVuQnVuZGxlID0gKGxpc3QpID0+IHtcclxuICAgICAgJHNjb3BlLmJ1bmRsZXNob3cgPSB0cnVlO1xyXG4gICAgICAkc2NvcGUuZ3JvdXBQcm9kdWN0TGlzdCA9IGxpc3RcclxuICAgIH1cclxuICAgIC8v6L+U5ZueXHJcbiAgICAkc2NvcGUuYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaGlzdG9yeS5nbygtMSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/mlbDmja7mk43kvZzlrZjlgqjlkI7lj7BcclxuICAgIGZ1bmN0aW9uIGRhdGFTdG9yYWdlKHQpIHtcclxuICAgICAgY29uc3TCoG1zZ0xvYWRpbmfCoD0gY2pNZXNzYWdlLmxvYWRpbmcoe8KgaXNGaXhlZDogdHJ1ZSB9KVxyXG4gICAgICBkc3AucG9zdEZ1bignYXBwL2J1eU9yZGVyL2VkaXRTaG9wcGluZ0NhcnQnLCB7IHByb2R1Y3RMaXN0OiAkc2NvcGUuYnV5bGlzdCB9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5jb2RlID09PSAnMjAwJyl7XHJcbiAgICAgICAgICBpZiAodCA9PT0gJ2FkZFRvQ2FydCcpIGxheWVyLm1zZygnQWRkZWQgU3VjY2Vzc2Z1bGx5JylcclxuICAgICAgICB9XHJcbiAgICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBhbGxwcmljZSgpXHJcbiAgICB9XHJcbiAgXHJcbiAgICAvLyDojrflj5botK3nianovabmlbDmja5cclxuICAgIGZ1bmN0aW9uIGdldENhcnRkYXRhKCkge1xyXG4gICAgICBkc3AucG9zdEZ1bignYXBwL2J1eU9yZGVyL2dldFNob3BwaW5nQ2FydCcsIHt9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGEuY29kZSA9PSAyMDApIHtcclxuICAgICAgICAgIGlmIChkYXRhLmRhdGEuc2hvcHBpbmdDYXJ0KSB7XHJcbiAgICAgICAgICAgIGlmKCEkc2NvcGUuaXNBcHBsaWVkKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmJ1eWxpc3QgPSBkYXRhLmRhdGEuc2hvcHBpbmdDYXJ0LnByb2R1Y3RMaXN0Lm1hcChpdGVtID0+IHtpdGVtLmNoZWNrZWQgPSB0cnVlOyByZXR1cm4gaXRlbTsgfSkgfHwgW107XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmlzQXBwbGllZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmJ1eWxpc3QgPSBkYXRhLmRhdGEuc2hvcHBpbmdDYXJ0LnByb2R1Y3RMaXN0IHx8IFtdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZigkc2NvcGUuYnV5bGlzdC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5ub09yZGVycyA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm5vT3JkZXJzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRhdGFTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgICBjb25zdCBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215Q29udGVudCcpLmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgICBjb25zdCBib3R0b20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVsYXRlZExpc3QnKS5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgY29uc3QgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215LXJpZ2h0LWxpc3QtYm94Jyk7XHJcbiAgICAgICAgICAgICAgY29uc3QgX2hlaWdodCA9IGJvZHkgLSAyMDA7XHJcbiAgICAgICAgICAgICAgY29uc3QgZml4ZWRCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZml4ZWRCb3gnKS5zdHlsZTtcclxuICAgICAgICAgICAgICBjb25zdCB3ID0gYm94LmNsaWVudFdpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBpZihoID4gX2hlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgZml4ZWRCb3gud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgICAgICAgICAgICBmaXhlZEJveC5wb3NpdGlvbiA9ICdzdGlja3knO1xyXG4gICAgICAgICAgICAgICAgZml4ZWRCb3gubGVmdCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmaXhlZEJveC5yaWdodCA9IDA7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZpeGVkQm94LndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgICAgICAgICAgZml4ZWRCb3gucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgICAgICAgICAgICAgZml4ZWRCb3gubGVmdCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmaXhlZEJveC5yaWdodCA9IDA7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBjb25zdCBlbGUgPSBkc3AuZ2V0U2Nyb2xsKCk7XHJcbiAgICAgICAgICAgICAgZWxlLm9uc2Nyb2xsID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNjcm9sbHRvcCA9IGUudGFyZ2V0LnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgICAgIGlmKChib3R0b20gPiAwICYmIGggLSBzY3JvbGx0b3AgPD0gYm90dG9tKSB8fCAoaCAtIHNjcm9sbHRvcCA8IDgwMCkgfHwgKGggPCBfaGVpZ2h0KSkge1xyXG4gICAgICAgICAgICAgICAgICBmaXhlZEJveC53aWR0aCA9ICcxMDAlJztcclxuICAgICAgICAgICAgICAgICAgZml4ZWRCb3gucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgICAgICAgICAgICAgICBmaXhlZEJveC5sZWZ0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgZml4ZWRCb3gucmlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gZWxzZSBpZihoIC0gc2Nyb2xsdG9wIDwgODAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgIGZpeGVkQm94LnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuICAgICAgICAgICAgICAgIC8vICAgZml4ZWRCb3gucGFkZGluZ0xlZnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy8gICBmaXhlZEJveC5wYWRkaW5nUmlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy8gfSBcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBmaXhlZEJveC53aWR0aCA9ICcxMDAlJztcclxuICAgICAgICAgICAgICAgICAgZml4ZWRCb3gucG9zaXRpb24gPSAnc3RpY2t5JztcclxuICAgICAgICAgICAgICAgICAgZml4ZWRCb3gubGVmdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgIGZpeGVkQm94LnJpZ2h0ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sMTAwMClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDYXJ0ZGF0YSgpO1xyXG5cclxuICAgIC8v6K6h566X5Lu36ZKxXHJcbiAgICBmdW5jdGlvbiBhbGxwcmljZSgpIHtcclxuICAgICAgJHNjb3BlLnRvdGFsID0gMDtcclxuICAgICAgJHNjb3BlLnN1bSA9IDA7XHJcbiAgICAgIHZhciBhcnIgPSBbXTtcclxuICAgICAgJHNjb3BlLmJ1eWxpc3QuZm9yRWFjaChmdW5jdGlvbiAobywgaSkge1xyXG4gICAgICAgIGlmIChvLmNoZWNrZWQpIHtcclxuICAgICAgICAgIGFyci5wdXNoKG8pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgY29uc29sZS5sb2coJHNjb3BlLmJ1eWxpc3QpXHJcbiAgICAgIGlmICgkc2NvcGUuYnV5bGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgaWYgKGFyci5sZW5ndGggPT0gJHNjb3BlLmJ1eWxpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAkc2NvcGUuY2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRzY29wZS5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKG8sIGkpIHtcclxuICAgICAgICBsZXQgb3ByaWNlID0gby5ub3dQcmljZT9vLm5vd1ByaWNlOm8uU0VMTFBSSUNFO1xyXG4gICAgICAgICRzY29wZS50b3RhbCArPSBOdW1iZXIob3ByaWNlKSAqIE51bWJlcihvLml0ZW1jb3VudCk7XHJcbiAgICAgICAgJHNjb3BlLnN1bSArPSBOdW1iZXIoby5pdGVtY291bnQpO1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8v5Yqg5YeP5L+u5pS55pWw6YePXHJcbiAgICAkc2NvcGUuY2hlY2tJc051bSA9IGZ1bmN0aW9uICh2YWwsIGluZGV4KSB7XHJcbiAgICAgIGlmIChpc05hTih2YWwpIHx8IHZhbCoxIDwgMSkge1xyXG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAkc2NvcGUuYnV5bGlzdFtpbmRleF0uaXRlbWNvdW50ID0gJzEnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuaXRlbWNvdW50ID0gJzEnO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBhbGxwcmljZSgpXHJcbiAgICB9XHJcbiAgICAkc2NvcGUucGx1c09uZSA9IGZ1bmN0aW9uICh2YWwsIGluZGV4KSB7XHJcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgJHNjb3BlLmJ1eWxpc3RbaW5kZXhdLml0ZW1jb3VudCA9ICRzY29wZS5idXlsaXN0W2luZGV4XS5pdGVtY291bnQgKiAxICsgMSArICcnO1xyXG4gICAgICAgIC8vIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdidXlsaXN0JywgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmJ1eWxpc3QpKTtcclxuICAgICAgICBhbGxwcmljZSgpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHNjb3BlLml0ZW1jb3VudCA9ICRzY29wZS5pdGVtY291bnQgKiAxICsgMSArICcnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAkc2NvcGUubWludXNPbmUgPSBmdW5jdGlvbiAodmFsLCBpbmRleCkge1xyXG4gICAgICBpZiAodmFsID09ICcxJykgcmV0dXJuO1xyXG4gICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgIGlmICh2YWwgPT0gJycpIHtcclxuICAgICAgICAgICRzY29wZS5idXlsaXN0W2luZGV4XS5pdGVtY291bnQgPSAnMSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS5idXlsaXN0W2luZGV4XS5pdGVtY291bnQgPSAkc2NvcGUuYnV5bGlzdFtpbmRleF0uaXRlbWNvdW50ICogMSAtIDEgKyAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2J1eWxpc3QnLCBKU09OLnN0cmluZ2lmeSgkc2NvcGUuYnV5bGlzdCkpO1xyXG4gICAgICAgIGFsbHByaWNlKClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAodmFsID09ICcnKSB7XHJcbiAgICAgICAgICAkc2NvcGUuaXRlbWNvdW50ID0gJzEnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuaXRlbWNvdW50ID0gJHNjb3BlLml0ZW1jb3VudCAqIDEgLSAxICsgJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+WIoOmZpFxyXG4gICAgJHNjb3BlLmRlbGJ1eSA9IGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICAkc2NvcGUuaXNkZWxldGUgPSB0cnVlO1xyXG4gICAgICAkc2NvcGUuaXRlbSA9IGl0ZW07XHJcbiAgICAgICRzY29wZS5pbmRleCA9IGluZGV4O1xyXG4gICAgICAkc2NvcGUuZGVsVHlwZSA9ICdjbGQnO1xyXG4gICAgICAkc2NvcGUud2lzVHlwZSA9ICdjbGQnO1xyXG4gICAgfVxyXG4gICAgLy/mibnph4/liKDpmaRcclxuICAgICRzY29wZS5iYXRjaERlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29uc29sZS5sb2coJHNjb3BlLmJ1eWxpc3QpXHJcbiAgICAgIHZhciBhID0gMDtcclxuICAgICAgJHNjb3BlLmJ1eWxpc3QuZm9yRWFjaChmdW5jdGlvbiAobywgaSkge1xyXG4gICAgICAgIGlmIChvLmNoZWNrZWQpIHtcclxuICAgICAgICAgIGEgKz0gMTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIGlmIChhID4gMCkge1xyXG4gICAgICAgICRzY29wZS5pc2RlbGV0ZSA9IHRydWU7XHJcbiAgICAgICAgJHNjb3BlLmRlbFR5cGUgPSAnYWxsJztcclxuICAgICAgICAkc2NvcGUud2lzVHlwZSA9ICdhbGwnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxheWVyLm1zZygnUGxlYXNlIHNlbGVjdCBwcm9kdWN0LicpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICgkc2NvcGUuZGVsVHlwZSA9PSAnY2xkJykge1xyXG4gICAgICAgICRzY29wZS5idXlsaXN0LnNwbGljZSgkc2NvcGUuaW5kZXgsIDEpXHJcbiAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLmRlbFR5cGUgPT0gJ2FsbCcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuYnV5bGlzdClcclxuICAgICAgICB2YXIgYXJyID0gW107XHJcbiAgICAgICAgJHNjb3BlLmJ1eWxpc3QuZm9yRWFjaChmdW5jdGlvbiAobywgaSkge1xyXG4gICAgICAgICAgaWYgKCFvLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgYXJyLnB1c2gobyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAkc2NvcGUuYnV5bGlzdCA9IGFycjtcclxuICAgICAgfVxyXG4gICAgICBkYXRhU3RvcmFnZSgpO1xyXG4gICAgICBnZXRDYXJ0ZGF0YSgpO1xyXG4gICAgICAkc2NvcGUuaXNkZWxldGUgPSBmYWxzZTtcclxuICAgICAgY29uc29sZS5sb2coJHNjb3BlLmJ1eWxpc3QpXHJcbiAgICAgIGlmICgkc2NvcGUuYnV5bGlzdC5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgJHNjb3BlLmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/np7vpmaTliLDmlLbol49cclxuICAgICRzY29wZS5jb2xsZWN0aW9ubG9nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyRzY29wZS5jb2xsZWN0aW9uICgpO1xyXG4gICAgICBjb25zb2xlLmxvZygkc2NvcGUuaXRlbSwgJHNjb3BlLmluZGV4KVxyXG4gICAgICB2YXIgYXJyID0gW107XHJcbiAgICAgIGFyci5wdXNoKHsgaWQ6ICRzY29wZS5pdGVtLklELCBDb2xsZWN0SUQ6ICRzY29wZS5pdGVtLkNvbGxlY3RJRCB9KTtcclxuICAgICAgZHNwLnBvc3RGdW4oJ2NqL2hvbWVQYWdlL3Nob3VDYW5nRHVvR2VTaGFuZ1BpbicsIHsgaWRMaXN0OiBhcnIgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhLnN0YXR1c0NvZGUgPT0gMjAwKSB7XHJcbiAgICAgICAgICAkc2NvcGUuaXNkZWxldGUgPSBmYWxzZTtcclxuICAgICAgICAgIGdldENhcnRkYXRhKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgfSlcclxuICAgIH1cclxuICAgICRzY29wZS5jb2xsZWN0aW9uID0gZnVuY3Rpb24gKGl0ZW0sIGluZGV4LCB0eXBlKSB7XHJcbiAgICAgICRzY29wZS5pZExpc3QgPSBbXTtcclxuICAgICAgaWYgKHR5cGUgPT0gJ2FsbCcpIHtcclxuICAgICAgICAkc2NvcGUuYnV5bGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChvLCBpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhvKVxyXG4gICAgICAgICAgaWYgKG8uY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuaWRMaXN0LnB1c2goeyBpZDogby5JRCwgQ29sbGVjdElEOiBvLkNvbGxlY3RJRCB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmICgkc2NvcGUuaWRMaXN0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgIGxheWVyLm1zZygnUGxlYXNlIHNlbGVjdCBwcm9kdWN0LicpXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5idXlsaXN0KVxyXG4gICAgICBjb25zb2xlLmxvZygkc2NvcGUuaWRMaXN0KVxyXG4gICAgICAkc2NvcGUuaXN3aXNoaXN0ID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLml0ZW0gPSBpdGVtO1xyXG4gICAgICAkc2NvcGUuaW5kZXggPSBpbmRleDtcclxuICAgICAgJHNjb3BlLndpc1R5cGUgPSB0eXBlO1xyXG4gICAgfVxyXG4gICAgJHNjb3BlLndpc2hpc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICgkc2NvcGUud2lzVHlwZSA9PSAnY2xkJykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfljZXkuKrnp7vlhaUnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5pdGVtLCAkc2NvcGUuaW5kZXgpXHJcbiAgICAgICAgdmFyIGFyciA9IFtdO1xyXG4gICAgICAgIGFyci5wdXNoKHsgaWQ6ICRzY29wZS5pdGVtLklELCBDb2xsZWN0SUQ6ICRzY29wZS5pdGVtLkNvbGxlY3RJRCB9KTtcclxuICAgICAgICAvLyBjaGVja1xyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdjai9ob21lUGFnZS9zaG91Q2FuZ0R1b0dlU2hhbmdQaW4nLCB7IGlkTGlzdDogYXJyIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBpZiAoZGF0YS5kYXRhLnN0YXR1c0NvZGUgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5pc3dpc2hpc3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5pc2RlbGV0ZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5pc2RlbGV0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdldENhcnRkYXRhKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgfSBlbHNlIGlmICgkc2NvcGUud2lzVHlwZSA9PSAnYWxsJykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCflpJrkuKrnp7vlhaUnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5pZExpc3QpXHJcbiAgICAgICAgLy8gY2hlY2tcclxuICAgICAgICBkc3AucG9zdEZ1bignY2ovaG9tZVBhZ2Uvc2hvdUNhbmdEdW9HZVNoYW5nUGluJywgeyBpZExpc3Q6ICRzY29wZS5pZExpc3QgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3RhdHVzQ29kZSA9PSAyMDApIHtcclxuICAgICAgICAgICAgJHNjb3BlLmlkTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUuaXN3aXNoaXN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuaXNkZWxldGUpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuaXNkZWxldGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnZXRDYXJ0ZGF0YSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5Yqg5YWl5pS26JePXHJcbiAgICAkc2NvcGUuQWRkQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIChpdGVtLCBpbmRleCwgJGV2ZW50KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXHJcbiAgICAgIHZhciAkdGhpcyA9ICQoJGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgICB2YXIgc2VsZWN0RGF0YSA9IHt9O1xyXG4gICAgICBzZWxlY3REYXRhLmlkID0gaXRlbS5Db2xsZWN0SUQ7XHJcbiAgICAgIGRzcC5wb3N0RnVuKCdjai9ob21lUGFnZS9zaG91Q2FuZ1NobmFnUGluJywgeyBwcm9kdWN0SWQ6IGl0ZW0uQ29sbGVjdElEIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIGNhcnQgPSAkKCcjbXljakxlZnQnKTtcclxuICAgICAgICB2YXIgaW1ndG9kcmFnID0gJHRoaXMuc2libGluZ3MoJy5jYXJ0Y29sbCcpO1xyXG4gICAgICAgIGlmIChpbWd0b2RyYWcpIHtcclxuICAgICAgICAgIHZhciBpbWdjbG9uZSA9IGltZ3RvZHJhZy5jbG9uZSgpXHJcbiAgICAgICAgICAgIC5vZmZzZXQoe1xyXG4gICAgICAgICAgICAgIHRvcDogaW1ndG9kcmFnLm9mZnNldCgpLnRvcCxcclxuICAgICAgICAgICAgICBsZWZ0OiBpbWd0b2RyYWcub2Zmc2V0KCkubGVmdFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY3NzKHtcclxuICAgICAgICAgICAgICAnb3BhY2l0eSc6ICcwLjYnLFxyXG4gICAgICAgICAgICAgICdwb3NpdGlvbic6ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgJ2hlaWdodCc6ICcxMDBweCcsXHJcbiAgICAgICAgICAgICAgJ3dpZHRoJzogJzEwMHB4JyxcclxuICAgICAgICAgICAgICAnei1pbmRleCc6ICcxMDAnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbygkKCdib2R5JykpXHJcbiAgICAgICAgICAgIC5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAndG9wJzogY2FydC5vZmZzZXQoKS50b3AgKyAxMCxcclxuICAgICAgICAgICAgICAnbGVmdCc6IGNhcnQub2Zmc2V0KCkubGVmdCArIDEwLFxyXG4gICAgICAgICAgICAgICd3aWR0aCc6IDc1LFxyXG4gICAgICAgICAgICAgICdoZWlnaHQnOiA3NVxyXG4gICAgICAgICAgICB9LCA1MDApO1xyXG5cclxuICAgICAgICAgIGltZ2Nsb25lLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAnd2lkdGgnOiAwLFxyXG4gICAgICAgICAgICAnaGVpZ2h0JzogMFxyXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmRldGFjaCgpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2V0Q2FydGRhdGEoKTtcclxuICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy/lhajpgIlcclxuICAgICRzY29wZS5BbGxDaGVja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoJHNjb3BlLmJ1eWxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICRzY29wZS5jaGVja2VkID0gISRzY29wZS5jaGVja2VkO1xyXG4gICAgICAgIGlmICgkc2NvcGUuY2hlY2tlZCkge1xyXG4gICAgICAgICAgJHNjb3BlLmJ1eWxpc3QuZm9yRWFjaChmdW5jdGlvbiAobywgaSkge1xyXG4gICAgICAgICAgICBvLmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLmJ1eWxpc3QuZm9yRWFjaChmdW5jdGlvbiAobywgaSkge1xyXG4gICAgICAgICAgICBvLmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGFTdG9yYWdlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5Y2V6YCJXHJcbiAgICAkc2NvcGUuY2xkQ2hlY2tlZCA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgIGl0ZW0uY2hlY2tlZCA9ICFpdGVtLmNoZWNrZWQ7XHJcbiAgICAgIHZhciBhID0gMDtcclxuICAgICAgJHNjb3BlLmJ1eWxpc3QuZm9yRWFjaChmdW5jdGlvbiAobywgaSkge1xyXG4gICAgICAgIGlmIChvLmNoZWNrZWQpIHtcclxuICAgICAgICAgIGEgKz0gMTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIGlmIChhID09ICRzY29wZS5idXlsaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICRzY29wZS5jaGVja2VkID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkc2NvcGUuY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGRhdGFTdG9yYWdlKCk7XHJcbiAgICB9XHJcbiAgICAvL+aPkOS6pFxyXG4gICAgJHNjb3BlLmNhcnRTdWIgPSBmdW5jdGlvbiAoc2hpcFR5cGUpIHtcclxuICAgICAgdmFyIGEgPSAwO1xyXG4gICAgICB2YXIgYXJyID0gW107XHJcbiAgICAgICRzY29wZS5idXlsaXN0LmZvckVhY2goZnVuY3Rpb24gKG8sIGkpIHtcclxuICAgICAgICBpZiAoby5jaGVja2VkKSB7XHJcbiAgICAgICAgICBhICs9IDE7XHJcbiAgICAgICAgICBhcnIucHVzaChvKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIGlmIChhID4gMCkge1xyXG4gICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgcHJvZHVjdExpc3Q6IGFycixcclxuICAgICAgICAgIHRvdGFsUHJpY2U6ICRzY29wZS50b3RhbC50b0ZpeGVkKDIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9idXlPcmRlci9zYXZlU2hvcHBpbmdDYXJ0JywgZGF0YSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICBpZiAoZGF0YS5kYXRhLmNoZWNrRmxhZykge1xyXG4gICAgICAgICAgICBsZXQgaXNTdXBwbGllciA9IGRhdGEuZGF0YS5pc1N1cHBsaWVyICYmIGRhdGEuZGF0YS5pc1N1cHBsaWVyID09IHRydWUgPyAxIDogMDsgLy8gMSDkvpvlupTllYbmiJbms7Dlm73llYblk4EgMCDlhbbku5ZcclxuICAgICAgICAgICAgLy9sb2NhdGlvbi5ocmVmID0gJ215Q0ouaHRtbCMvbXlDSi1wdXJjaGFzZT9pc1N1cHBsaWVyPScgKyBpc1N1cHBsaWVyO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ215Y2otcHVyY2hhc2UnLCB7XHJcbiAgICAgICAgICAgICAgb3JkZXJUeXBlOiAnemYnLFxyXG4gICAgICAgICAgICAgIGlzU3VwcGxpZXIsXHJcbiAgICAgICAgICAgICAgc2hpcFR5cGUgLy8g5Yy65YiG55u05Y+R44CB56eB5pyJ5bqT5a2YIDHnm7Tlj5EgMuengeaciVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxheWVyLm1zZygnZGF0YSBlcnJvcicpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgIGxheWVyLm1zZygnU3lzdGVtIGFibm9ybWFsaXR5JylcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsYXllci5tc2coJ1BsZWFzZSBzZWxlY3QgcHJvZHVjdC4nKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvL1xyXG4gICAgJHNjb3BlLnBhZ2VOdW0gPSAxO1xyXG4gICAgLy/ljoblj7LorrDlvZVcclxuICAgICRzY29wZS5IaXN0b3J5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmlld0hpc3RvcnknKSk7XHJcbiAgICBjb25zb2xlLmxvZygkc2NvcGUuSGlzdG9yeSlcclxuICAgIC8v5omT5byA5re75Yqg5by556qXXHJcbiAgICAkc2NvcGUuYWRkRGlhID0gZnVuY3Rpb24gKGlkLCAkZXZlbnQpIHtcclxuICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAkc2NvcGUuaXRlbWNvdW50ID0gMTtcclxuICAgICAgJHNjb3BlLmFkZGl0ZW0gPSBudWxsO1xyXG4gICAgICAkc2NvcGUuYWRkRGlhbG9nID0gdHJ1ZTtcclxuwqDCoMKgwqDCoMKgwqDCoGNvbnN0wqBtc2dMb2FkaW5nwqA9wqBjak1lc3NhZ2UubG9hZGluZyh7wqBpc0ZpeGVkOiB0cnVlwqB9KTtcclxuICAgICAgZHNwLnBvc3RGdW4oJ2NqL2xvY1Byb2R1Y3QvaHVvUXVTaGFuZ1BpblhpYW5nUWluZycsIEpTT04uc3RyaW5naWZ5KHsgaWQ6IGlkLCB0b2tlbjogJycgfSksIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5zdGF0dXNDb2RlICE9IDIwMCkgcmV0dXJuO1xyXG4gICAgICAgICRzY29wZS5hZGRpdGVtID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuYWRkaXRlbSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmFkZGl0ZW0uQ0FURUdPUllJRCk7XHJcbiAgICAgICAgJHNjb3BlLnN0YW5Qcm9kdWN0cyA9ICRzY29wZS5hZGRpdGVtLnN0YW5Qcm9kdWN0cztcclxuICAgICAgICAkc2NvcGUudmFyaWVudEFyciA9IFtdO1xyXG4gICAgICAgICRzY29wZS52YXJpZW50S2V5cyA9IFtdO1xyXG4gICAgICAgIGlmICgkc2NvcGUuYWRkaXRlbS5WQVJJQU5US0VZRU4gIT0gJycpIHtcclxuICAgICAgICAgICRzY29wZS52YXJpZW50S2V5cyA9ICRzY29wZS5hZGRpdGVtLlZBUklBTlRLRVlFTi5zcGxpdCgnLScpO1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUudmFyaWVudEtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgJHNjb3BlLnZhcmllbnRBcnIucHVzaCh7XHJcbiAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLnZhcmllbnRLZXlzW2ldLFxyXG4gICAgICAgICAgICAgIGtleTogW11cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5zdGFuUHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5zdGFuUHJvZHVjdHNbaV0uVkFSSUFOVEtFWSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGN1clZhcmllbnRWYWwgPSAkc2NvcGUuc3RhblByb2R1Y3RzW2ldLlZBUklBTlRLRVkuc3BsaXQoJy0nKTtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGN1clZhcmllbnRWYWwubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52YXJpZW50QXJyW2pdLmtleS5wdXNoKGN1clZhcmllbnRWYWxbal0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUudmFyaWVudEFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAkc2NvcGUudmFyaWVudEFycltpXS5rZXkgPSBkc3AudW5pcXVlQXJyYXkoJHNjb3BlLnZhcmllbnRBcnJbaV0ua2V5KTtcclxuICAgICAgICAgICAgJHNjb3BlLnZhcmllbnRBcnJbaV0udmFsID0gJHNjb3BlLnZhcmllbnRBcnJbaV0ua2V5WzBdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUudmFyaWVudEFyciA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJHNjb3BlLnZhcmllbnRBcnIubGVuZ3RoID09IDEgJiYgJHNjb3BlLnZhcmllbnRBcnJbMF0ua2V5Lmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAkc2NvcGUudmFyaWVudEFyciA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUudmFyaWVudEFycik7XHJcbiAgICAgICAgJHNjb3BlLnZhcmllbnRLZXlzSW5uZXIgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5zdGFuUHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICRzY29wZS52YXJpZW50S2V5c0lubmVyLnB1c2goJHNjb3BlLnN0YW5Qcm9kdWN0c1tpXS5WQVJJQU5US0VZKTtcclxuICAgICAgICAgIGlmICgkc2NvcGUuc3RhblByb2R1Y3RzW2ldLnNlbGxEaXNjb3VudCAhPSBudWxsICYmICRzY29wZS5zdGFuUHJvZHVjdHNbaV0uc2VsbERpc2NvdW50IDwgMTAwKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zdGFuUHJvZHVjdHNbaV0uU0VMTFBSSUNFRElTID0gKCRzY29wZS5zdGFuUHJvZHVjdHNbaV0uU0VMTFBSSUNFICogJHNjb3BlLnN0YW5Qcm9kdWN0c1tpXS5zZWxsRGlzY291bnQgLyAxMDApLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RhblByb2R1Y3RzW2ldLlNFTExQUklDRURJUyA9ICRzY29wZS5zdGFuUHJvZHVjdHNbaV0uU0VMTFBSSUNFO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUudmFyaWVudEtleXNJbm5lcik7XHJcbiAgICAgICAgZ2V0VGhlVml0ZW0oKTtcclxuICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBtc2dMb2FkaW5nLmhpZGUoKTtcclxuICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgJHNjb3BlLmNoYW5WYXJpYW50ID0gZnVuY3Rpb24gKHZhbCwgaW5kZXgpIHtcclxuICAgICAgY29uc29sZS5sb2codmFsKVxyXG4gICAgICB2YXIgZmlsdGVyS2V5c09uZSA9IFtdO1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS52YXJpZW50S2V5c0lubmVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGN1clZhcktleSA9ICRzY29wZS52YXJpZW50S2V5c0lubmVyW2ldLnNwbGl0KCctJyk7XHJcbiAgICAgICAgaWYgKGN1clZhcktleVtpbmRleF0gPT0gdmFsKSB7XHJcbiAgICAgICAgICBmaWx0ZXJLZXlzT25lLnB1c2goY3VyVmFyS2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUudmFyaWVudEFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChpID09IGluZGV4KSBjb250aW51ZTtcclxuICAgICAgICB2YXIgY2FuYmVUd28gPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbHRlcktleXNPbmUubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgIGNhbmJlVHdvLnB1c2goZmlsdGVyS2V5c09uZVtqXVtpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBPdGhlclNlbDEgPSAkc2NvcGUudmFyaWVudEFycltpXS52YWw7XHJcbiAgICAgICAgdmFyIGlzSW5Ud28gPSAkLmluQXJyYXkoT3RoZXJTZWwxLCBjYW5iZVR3byk7XHJcbiAgICAgICAgaWYgKGlzSW5Ud28gPT0gLTEpIHtcclxuICAgICAgICAgICRzY29wZS52YXJpZW50QXJyW2ldLnZhbCA9IGNhbmJlVHdvWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZmlsdGVyS2V5c1R3byA9IFtdO1xyXG4gICAgICAgIHZhciBjdXJWYWxUd28gPSAkc2NvcGUudmFyaWVudEFycltpXS52YWw7XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBmaWx0ZXJLZXlzT25lLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICBpZiAoZmlsdGVyS2V5c09uZVtrXVtpXSA9PSBjdXJWYWxUd28pIHtcclxuICAgICAgICAgICAgZmlsdGVyS2V5c1R3by5wdXNoKGZpbHRlcktleXNPbmVba10pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmaWx0ZXJLZXlzT25lID0gZmlsdGVyS2V5c1R3bztcclxuICAgICAgfVxyXG4gICAgICBnZXRUaGVWaXRlbSgpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0VGhlVml0ZW0oKSB7XHJcbiAgICAgIGlmICgkc2NvcGUudmFyaWVudEFyci5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICRzY29wZS52YXJpYW50SXRlbSA9ICRzY29wZS5zdGFuUHJvZHVjdHNbMF07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGN1clZhcktleUFyciA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLnZhcmllbnRBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGN1clZhcktleUFyci5wdXNoKCRzY29wZS52YXJpZW50QXJyW2ldLnZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5jdXJWYXJpZW50S2V5ID0gY3VyVmFyS2V5QXJyLmpvaW4oJy0nKTtcclxuICAgICAgICB2YXIgY3VyVmFyaWVudEluZGV4ID0gZHNwLmZpbmRJbmRleEJ5S2V5KCRzY29wZS5zdGFuUHJvZHVjdHMsICdWQVJJQU5US0VZJywgJHNjb3BlLmN1clZhcmllbnRLZXkpO1xyXG4gICAgICAgICRzY29wZS52YXJpYW50SXRlbSA9ICRzY29wZS5zdGFuUHJvZHVjdHNbY3VyVmFyaWVudEluZGV4XTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJHNjb3BlLnZhcmlhbnRJdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+a3u+WKoFxyXG4gICAgJHNjb3BlLmFkZGJ1eSA9IGZ1bmN0aW9uICgkZXZlbnQpIHtcclxuICAgICAgY29uc3QgZmluZElkeCA9IGRzcC5maW5kSW5kZXhCeUtleSgkc2NvcGUuYnV5bGlzdCwgJ1NLVScsICRzY29wZS52YXJpYW50SXRlbS5TS1UpO1xyXG4gICAgICBkc3AucG9zdEZ1bignYXBwL2J1eU9yZGVyL2dvdVd1Q2hlTWFpRGlhbicsIHsgcHJvZHVjdElkOiAkc2NvcGUuYWRkaXRlbS5JRCB9LCBmdW5jdGlvbiAoZGF0YSkgeyB9KTtcclxuICAgICAgaWYgKGZpbmRJZHggPT09IC0xKSB7XHJcbiAgICAgICAgJHNjb3BlLmJ1eWxpc3QucHVzaCh7XHJcbiAgICAgICAgICBOQU1FRU46ICRzY29wZS5hZGRpdGVtLk5BTUVFTixcclxuICAgICAgICAgIEJJR0lNRzogJHNjb3BlLmFkZGl0ZW0uQklHSU1HLFxyXG4gICAgICAgICAgaXNDb2xsZWN0OiAkc2NvcGUuYWRkaXRlbS5pc0NvbGxlY3QsXHJcbiAgICAgICAgICBub3dQcmljZTogJHNjb3BlLnZhcmlhbnRJdGVtLm5vd1ByaWNlLFxyXG4gICAgICAgICAgSUQ6ICRzY29wZS52YXJpYW50SXRlbS5JRCxcclxuICAgICAgICAgIENvbGxlY3RJRDogJHNjb3BlLnZhcmlhbnRJdGVtLlBJRCxcclxuICAgICAgICAgIFNLVTogJHNjb3BlLnZhcmlhbnRJdGVtLlNLVSxcclxuICAgICAgICAgIFNFTExQUklDRTogJHNjb3BlLnZhcmlhbnRJdGVtLlNFTExQUklDRSxcclxuICAgICAgICAgIGl0ZW1jb3VudDogJHNjb3BlLml0ZW1jb3VudCxcclxuICAgICAgICAgIGNoZWNrZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRzY29wZS5idXlsaXN0W2ZpbmRJZHhdLml0ZW1jb3VudCA9ICgkc2NvcGUuYnV5bGlzdFtmaW5kSWR4XS5pdGVtY291bnQgKiAxKSArICgkc2NvcGUuaXRlbWNvdW50ICogMSk7XHJcbiAgICAgICAgJHNjb3BlLmJ1eWxpc3RbZmluZElkeF0uY2hlY2tlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgZGF0YVN0b3JhZ2UoJ2FkZFRvQ2FydCcpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLy/lhbPpl63lvLnnqpdcclxuICAgICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgJHNjb3BlLmFkZERpYWxvZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyrmlLbol48qL1xyXG4gICAgJHNjb3BlLmNvbGxlY3RNZXJjaCA9IGZ1bmN0aW9uIChmbGFnLCBpZCwgJGV2ZW50LCB0eXBlLCBpc0NvbGxlY3QpIHtcclxuICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgJHNjb3BlLkhpc3RvcnkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZigkc2NvcGUuSGlzdG9yeVtpXS5pZCA9PSBpZCkge1xyXG4gICAgICAgICAgaWYoaXNDb2xsZWN0ID09ICcxJykge1xyXG4gICAgICAgICAgICAkc2NvcGUuSGlzdG9yeVtpXS5pc0NvbGxlY3QgPSAnMCdcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5IaXN0b3J5W2ldLmlzQ29sbGVjdCA9ICcxJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoJHNjb3BlLmhhc0xvZ2luKSB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gJ0hpc3RvcnknKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuSGlzdG9yeSk7XHJcbiAgICAgICAgICBjamhvbWUuQ29sbGVjdGlvbihmbGFnLCBpZCwgJGV2ZW50LCAkKCcjbXljakxlZnQnKSwgJHNjb3BlLkhpc3RvcnkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjamhvbWUuQ29sbGVjdGlvbihmbGFnLCBpZCwgJGV2ZW50LCAkKCcjbXljakxlZnQnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxheWVyLm1zZygnUGxlYXNlIGxvZ2luIGZpcnN0IScpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvKuaUtuiXj2hvdmVyKi9cclxuICAgICRzY29wZS5NZXJjaEVudGVyID0gZnVuY3Rpb24gKGV2KSB7XHJcbiAgICAgIGlmICgkKGV2LmN1cnJlbnRUYXJnZXQpLmF0dHIoJ3NyYycpID09ICdzdGF0aWMvaW1hZ2UvQ0otaG9tZS9pY29uX2xvdmVAMngucG5nJykge1xyXG4gICAgICAgICQoZXYuY3VycmVudFRhcmdldCkuYXR0cignc3JjJywgJ3N0YXRpYy9pbWFnZS9DSi1ob21lL2xvdmVfaG92ZXJAMngucG5nJylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgJHNjb3BlLk1lcmNoTGVhdmUgPSBmdW5jdGlvbiAoZXYpIHtcclxuICAgICAgaWYgKCQoZXYuY3VycmVudFRhcmdldCkuYXR0cignc3JjJykgIT0gJ3N0YXRpYy9pbWFnZS9DSi1ob21lL2ljb25fd2lzaGxpc3RfY2xpY2tAMngucG5nJykge1xyXG4gICAgICAgICQoZXYuY3VycmVudFRhcmdldCkuYXR0cignc3JjJywgJ3N0YXRpYy9pbWFnZS9DSi1ob21lL2ljb25fbG92ZUAyeC5wbmcnKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAkc2NvcGUuUHJvTWVyY2hFbnRlciA9IGZ1bmN0aW9uIChldikge1xyXG4gICAgICBpZiAoJChldi5jdXJyZW50VGFyZ2V0KS5hdHRyKCdzcmMnKSA9PSAnc3RhdGljL2ltYWdlL0NKLWhvbWUvbG92ZV9wcm9kdWN0QDJ4LnBuZycpIHtcclxuICAgICAgICAkKGV2LmN1cnJlbnRUYXJnZXQpLmF0dHIoJ3NyYycsICdzdGF0aWMvaW1hZ2UvQ0otaG9tZS9sb3ZlX3Byb2R1Y3RfaG92ZXJAMngucG5nJylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgJHNjb3BlLlByb01lcmNoTGVhdmUgPSBmdW5jdGlvbiAoZXYpIHtcclxuICAgICAgaWYgKCQoZXYuY3VycmVudFRhcmdldCkuYXR0cignc3JjJykgIT0gJ3N0YXRpYy9pbWFnZS9DSi1ob21lL2xvdmVfcHJvZHVjdF9jbGlja0AyeC5wbmcnKSB7XHJcbiAgICAgICAgJChldi5jdXJyZW50VGFyZ2V0KS5hdHRyKCdzcmMnLCAnc3RhdGljL2ltYWdlL0NKLWhvbWUvbG92ZV9wcm9kdWN0QDJ4LnBuZycpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8q5ZWG5ZOB54K55Ye75Y676K+m5oOFKi9cclxuICAgICRzY29wZS5nb1RvZGV0YWlsID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgaWYgKGl0ZW0uZmxhZyA9PSAnMScpIHtcclxuICAgICAgICB3aW5kb3cub3BlbigncHJvZHVjdC1kZXRhaWwuaHRtbD9pZD0nICsgaXRlbS5pZCArICcmZnJvbT0nICsgJHNjb3BlLmZyb21Db3VudHJ5ICsgJyZmcm9tVHlwZT0nICsgJHNjb3BlLmZyb21UeXBlICsgJyZwcm9kdWN0VHlwZT0nICsgKGl0ZW0ucHJvZHVjdFR5cGUgfHwgMCkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdpbmRvdy5vcGVuKCdyZXB0YWlsLWRldGFpbC5odG1sP2lkPScgKyBpdGVtLmlkKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vbGlzdE9yc291cmNl5oyJ6ZKuXHJcbiAgICAkc2NvcGUubGlzdE9yc291cmNlQnRuID0gZnVuY3Rpb24gKGl0ZW0sICRldmVudCwgdHlwZSkge1xyXG4gICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGlmICh0eXBlID09ICdzb3VyY2UnKSB7XHJcbiAgICAgICAgd2luZG93Lm9wZW4oJ3JlcHRhaWwtZGV0YWlsLmh0bWw/aWQ9JyArIGl0ZW0uaWQgKyAnJnNvdXJjZT0xJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnbGlzdCcpIHtcclxuICAgICAgICB3aW5kb3cub3BlbigncHJvZHVjdC1kZXRhaWwuaHRtbD9pZD0nICsgaXRlbS5pZCArICcmZnJvbT0nICsgJHNjb3BlLmZyb21Db3VudHJ5ICsgJyZmcm9tVHlwZT0nICsgJHNjb3BlLmZyb21UeXBlICsgJyZsaXN0PTEnKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIOS/neeVmTLkvY3mlbBcclxuICAgICRzY29wZS50b0ZpeGVkMiA9IHZhbCA9PntcclxuICAgICAgaWYgKCF2YWwpIHJldHVyblxyXG4gICAgICByZXR1cm4gTnVtYmVyKHZhbCkudG9GaXhlZCgyKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyDliKTmlq3mmK/lkKbmmL7npLrmibnph4/lpJ/mhaLmjInpkq5cclxuICAgIGZ1bmN0aW9uIGlzUHVyY2hhc2VTaG93KCkge1xyXG4gICAgICBjb25zdCBwYXRoPSAkbG9jYXRpb24ucGF0aCgpO1xyXG4gICAgICBpZihwYXRoLmluY2x1ZGVzKCdza3UnKSkge1xyXG4gICAgICAgICRzY29wZS5zaG93UHVyY2hhc2VCdXR0b24gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlzUHVyY2hhc2VTaG93KCk7XHJcbiAgfV0pO1xyXG5cclxuXHJcbiAgcmV0dXJuIG1vZHVsZTtcclxufVxyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/pages/mycj/goods/goods-cart.js\n");

/***/ })

}]);