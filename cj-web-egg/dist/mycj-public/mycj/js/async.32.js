(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[32],{

/***/ "../src/pages/mycj/imported-orders/import-cart.js":
/*!********************************************************!*\
  !*** ../src/pages/mycj/imported-orders/import-cart.js ***!
  \********************************************************/
/*! exports provided: importCartFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"importCartFactory\", function() { return importCartFactory; });\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction importCartFactory(angular) {\n  var app = angular.module('import-cart.module', ['service']);\n  app.directive('repeatFinish', function ($timeout) {\n    return {\n      restrict: 'A',\n      link: function link(scope, elem, attr) {\n        //当前循环至最后一个\n        if (scope.$last === true) {\n          $timeout(function () {\n            //向父控制器传递事件消息\n            scope.$emit('repeatFinishCallback');\n          }, 100);\n        }\n      }\n    };\n  });\n  app.controller('import-cart.ctrl', ['$scope', 'dsp', function ($scope, dsp) {\n    dsp.domainData().then(function (res) {\n      // 请求成功的结果\n      console.log(res);\n      $scope.iscj = res.iscj;\n\n      if ($scope.iscj == '1') {\n        //cj\n        $scope.websiteName = 'CJ';\n      } else {\n        //客户\n        $scope.websiteName = res.websiteName || 'CJ';\n      }\n    });\n    $scope.dataFound = true; // var $navLis = $('.header-nav li');\n    // $navLis.eq(1).css('border-bottom','2px solid #f88f29');\n\n    dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0, {\n      width: '100%'\n    });\n    var pageH = $(window).height() - 171;\n    var docH = $(document).height();\n    $('.directorders-wrap').css({\n      'min-height': $(window).height() * 1 + 'px'\n    });\n    $('.direct-right').css({\n      'min-height': $(window).height() * 1 + 'px'\n    });\n\n    function getCountry() {\n      dsp.postFun('app/logistic/getcountry', null, function (data) {\n        console.log(data);\n\n        if (data.data.statusCode == 200) {\n          $scope.countryList = JSON.parse(data.data.result).countryList;\n        }\n      }, function (data) {\n        console.log(data);\n      });\n    }\n\n    function countryEnName(code) {\n      console.log(code);\n      var len = $scope.countryList.length;\n      var enName;\n\n      if (len > 0) {\n        $scope.countryList.find(function (_i) {\n          if (code == _i.ID) {\n            return enName = _i.NAME_EN;\n          }\n        });\n      }\n\n      return enName;\n    }\n\n    getCountry();\n\n    var cartScroll = function cartScroll() {\n      setTimeout(function () {\n        var body = document.body.clientHeight;\n        var h = document.getElementById('dfk-orders').clientHeight;\n        var w = document.getElementById('dtj-orders').clientWidth - 12 + 'px';\n\n        var _height = body - 200;\n\n        var newBottom = document.getElementById('new-bottom-function-bar').style;\n\n        if (h > _height) {\n          newBottom.width = '100%';\n          newBottom.position = 'sticky';\n          newBottom.left = 0;\n          newBottom.right = 0;\n        } else {\n          newBottom.width = '100%';\n          newBottom.position = 'relative';\n          newBottom.left = 0;\n          newBottom.right = 0;\n        }\n\n        var ele = dsp.getScroll();\n\n        ele.onscroll = function (e) {\n          var scrolltop = e.target.scrollTop;\n\n          if (h - scrolltop < 800 || h < _height) {\n            newBottom.width = '100%';\n            newBottom.position = 'relative';\n            newBottom.left = 0;\n            newBottom.right = 0;\n          } else {\n            newBottom.width = '100%';\n            newBottom.position = 'sticky';\n            newBottom.left = 0;\n            newBottom.right = 0;\n          }\n        };\n      }, 1000);\n    };\n\n    var codeInlocal = localStorage.getItem('code');\n\n    if (codeInlocal) {\n      var timer = setInterval(function () {\n        var myDate = new Date();\n        var tipHour = myDate.getHours(); //获取当前小时数(0-23)\n\n        var tipMinute = myDate.getMinutes(); //获取当前分钟数(0-59)\n\n        var tipSecond = myDate.getSeconds(); //获取当前秒数(0-59)\n\n        $('#tiphour').text(tipHour + ':');\n        $('#tipminute').text(tipMinute + ':');\n        $('#tipsecond').text(tipSecond);\n        codeInlocal = localStorage.getItem('code');\n        $scope.tipsOrdStatues = localStorage.getItem('ordTips');\n\n        if (codeInlocal == '200') {\n          $('.refresh-btn').show();\n          clearTimeout(timer);\n          console.log(myDate);\n          $scope.tipsOrdStatues = localStorage.getItem('ordTips');\n          $('.titOrdTips').text($scope.tipsOrdStatues);\n        }\n\n        console.log($scope.tipsOrdStatues);\n        console.log(codeInlocal);\n      }, 1000);\n    }\n\n    $scope.refershFun = function () {\n      $('.refresh-btn').hide();\n      $('#dcl-sel').val('100');\n      $scope.ordersList = [];\n      dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0);\n      var orData = {};\n      tjFun(orData);\n      orData.data = JSON.stringify(orData.data);\n      dsp.postFun('app/order/queryOrders', JSON.stringify(orData), dclsFun, dcleFun);\n\n      function dclsFun(data) {\n        console.log('data');\n        console.log(data);\n        var list1 = data.data.result;\n        $scope.list = JSON.parse(list1); //json×Ö·û´®×ª¶ÔÏó\n\n        console.log($scope.list);\n        $scope.ordersList = $scope.list.ordersList;\n        $scope.countNumber = $scope.list.countNumber; //总条数\n\n        $scope.cartAmount = $scope.list.allAmount; //总金额\n\n        console.log($scope.ordersList);\n        console.log($scope.cartAmount);\n        $scope.ordersList.forEach(function (item) {\n          return $scope.addressOrderList.push(item.order.ID);\n        });\n        console.log($scope.addressOrderList);\n        $scope.ordstatusNum = $scope.list.allOrderCount2; //各种状态订单的数量\n\n        numFun(); //调用给订单赋值的函数\n\n        if ($scope.countNumber > 0) {\n          dsp.removeNodataPic($('.orders-list'));\n          dsp.closeLoadPercent($('.orders-list'));\n        } else {\n          dsp.addNodataPic($('.orders-list'), $(window).height() - 171, 47, 0, {\n            width: '100%'\n          }, true);\n          dsp.closeLoadPercent($('.orders-list'));\n        }\n      }\n\n      function dcleFun() {\n        dsp.closeLoadPercent($('.orders-list'));\n        dsp.cjMesFun(1);\n      }\n    };\n\n    var bs = new Base64(); //设置默认时间\n\n    function GetDateStr(AddDayCount) {\n      var dd = new Date();\n      dd.setDate(dd.getDate() + AddDayCount); //获取AddDayCount天后的日期\n\n      var y = dd.getFullYear();\n      var m = dd.getMonth() + 1; //获取当前月份的日期\n\n      var d = dd.getDate();\n\n      if (m < 10) {\n        m = '0' + m;\n      }\n\n      if (d < 10) {\n        d = '0' + d;\n      }\n\n      return y + \"-\" + m + \"-\" + d;\n    }\n\n    var aDate = GetDateStr(-45);\n    var enDate = GetDateStr(0); // $(\"#y-ord-sdate\").val(aDate );   //关键语句\n    // $(\"#y-ord-edate\").val(enDate );   //关键语句\n\n    $(\"#cj-stime\").val(aDate); //关键语句\n    //$(\"#cj-etime\").val(enDate );   //关键语句\n\n    var awaitsIndex = 0;\n    var orData = {};\n    orData.data = {};\n    orData.data.status = '2'; //请求的订单状态\n\n    orData.data.page = 1; //请求的第几页   10*1-10Ò³Âë\n\n    orData.data.limit = 10000; //每页限制的订单条数\n    //设置默认时间段\n\n    var yStoresTime = $('#y-ord-sdate').val();\n    var yStoreeTime = $('#y-ord-edate').val();\n    var cjsTime = $('#cj-stime').val();\n    var cjeTime = $('#cj-etime').val();\n    orData.data.storeOrderDateBegin = yStoresTime;\n    orData.data.cjOrderDateBegin = cjsTime;\n    orData.data.storeOrderDateEnd = yStoreeTime;\n    orData.data.cjOrderDateEnd = cjeTime;\n    orData.data = JSON.stringify(orData.data); // console.log(orData.data)\n    // var aaa = JSON.stringify(orData);\n\n    $scope.countNumber = ''; //Ò»¹²¶àÉÙÌõ¶©µ¥\n\n    $scope.list = ''; //¶©µ¥ºÍ²úÆ·\n\n    $scope.orderList = ''; //¶©µ¥µÄÁÐ±íÊý¾Ý\n\n    $scope.productList = ''; //²úÆ·µÄÁÐ±íÊý¾Ý\n\n    $scope.storeAllMoney = ''; //¶©µ¥µÄ×Ü½ð¶î\n\n    $scope.flag = false; //ÅÐ¶Ï×´Ì¬\n\n    var oneordmoney = 0; //一个订单的总金额\n\n    $scope.addressOrderList = []; //给订单状态添加点击事件\n\n    $scope.pcountN = 0; //存储待提交订单的总条数 process required\n\n    dsp.postFun('app/order/queryOrders', JSON.stringify(orData), function (data) {\n      var list1 = data.data.result;\n      $scope.list = JSON.parse(list1); //json×Ö·û´®×ª¶ÔÏó\n\n      console.log($scope.list);\n      $scope.ordersList = $scope.list.ordersList;\n\n      if ($scope.ordersList) {\n        $scope.ordersList.forEach(function (item) {\n          $scope.addressOrderList.push(item.order.ID);\n        });\n      }\n\n      console.log($scope.addressOrderList);\n      $scope.countNumber = $scope.list.countNumber; //总条数\n\n      awaitsIndex = $scope.countNumber;\n      $scope.cartAmount = $scope.list.allAmount; //总金额\n\n      console.log($scope.cartAmount);\n      $scope.shops = $scope.list.shops; //店铺的数组\n\n      delShopFun($scope.shops);\n      cartScroll();\n      var excelShop = {};\n      excelShop.id = 'excel';\n      excelShop.name = 'Excel';\n      excelShop.rNAME = 'Excel';\n      $scope.shops.push(excelShop);\n      $scope.ordstatusNum = $scope.list.allOrderCount2; //各种状态订单的数量\n\n      numFun(); //调用给订单赋值的函数\n\n      console.log($scope.shops);\n\n      if ($scope.countNumber > 0) {\n        dsp.removeNodataPic($('.orders-list'));\n        dsp.closeLoadPercent($('.orders-list'));\n      } else {\n        dsp.addNodataPic($('.orders-list'), $(window).height() - 171, 47, 0, {\n          width: '100%'\n        }, true);\n        dsp.closeLoadPercent($('.orders-list'));\n      }\n    }, function (err) {\n      dsp.closeLoadPercent($('.orders-list'));\n      dsp.cjMesFun(1);\n    });\n\n    function delShopFun(shopArr) {\n      /**店铺列表名字展示改成 店铺名+店铺类型+国家、增加国家全写参数、增加国家缩写参数 start */\n      if (!shopArr) {\n        return;\n      }\n\n      shopArr.forEach(function (e) {\n        // 国家缩写转换全写。ThemeId是shopee的国家;MarketplaceUrl是lazada的国家\n        e.countryfullName = replaceCountry(e.type == 'shopee' ? e.ThemeId : e.type == 'Lazada' ? e.MarketplaceUrl : '').fullName; // 店铺名+店铺类型+国家\n        // e.rNAME = `${e.name} - ${e.type.replace(e.type[0], e.type[0].toUpperCase())} ${e.countryfullName?'-':''} ${e.countryfullName}`;\n\n        if (e.type) {\n          e.rNAME = \"\".concat(e.name, \" - \").concat(e.type.replace(e.type[0], e.type[0].toUpperCase()), \" \").concat(e.countryfullName ? '-' : '', \" \").concat(e.countryfullName);\n        } else {\n          e.rNAME = e.name;\n        } // 国家缩写code(大写)-物流模块传递国家需要\n\n\n        var curLogisticCountry = e.ThemeId || e.MarketplaceUrl ? e.type == 'shopee' ? e.ThemeId : e.type == 'Lazada' ? e.MarketplaceUrl : '' : '';\n\n        if (curLogisticCountry) {\n          e.logisticsCountry = curLogisticCountry.toUpperCase();\n        } else {\n          e.logisticsCountry = '';\n        } // e.logisticsCountry = (e.ThemeId || e.MarketplaceUrl) ? (e.type == 'shopee' ? e.ThemeId : e.type == 'Lazada' ? e.MarketplaceUrl : '').toUpperCase() : '';\n        // 货币代码\n\n\n        e.currencyCode = replaceCountry(e.type == 'shopee' ? e.ThemeId : e.type == 'Lazada' ? e.MarketplaceUrl : '').currencyCode;\n      });\n      $scope.shops = shopArr;\n    }\n\n    function replaceCountry(params) {\n      var fullName = '';\n      var currencyCode = '';\n\n      if (/sg/i.test(params)) {\n        fullName = 'Singapore', currencyCode = 'SGD';\n      } else if (/my/i.test(params)) {\n        fullName = 'Malaysia', currencyCode = 'MYR';\n      } else if (/id/i.test(params)) {\n        fullName = 'Indonesia', currencyCode = 'IDR';\n      } else if (/th/i.test(params)) {\n        fullName = 'Thailand', currencyCode = 'THB';\n      } else if (/ph/i.test(params)) {\n        fullName = 'Philippines', currencyCode = 'PHP';\n      } else if (/vn/i.test(params)) {\n        fullName = 'Vietnam', currencyCode = 'VND';\n      }\n\n      return {\n        fullName: fullName,\n        currencyCode: currencyCode\n      };\n    } //给订单状态赋值的函数\n\n\n    function numFun() {\n      // $scope.importedNum = ($scope.processNum-0)+($scope.cartNum-0)+($scope.incompleteNum-0)+($scope.cancelNum-0)+($scope.refundNum-0);\n      $scope.impprocessNum = $scope.ordstatusNum.yi;\n      $scope.cartNum = $scope.ordstatusNum.er;\n      $scope.incompleteNum = $scope.ordstatusNum.san;\n      $scope.cancelNum = $scope.ordstatusNum.si;\n      $scope.refundNum = $scope.ordstatusNum.wu;\n      $scope.allProNum = $scope.ordstatusNum.jiu;\n    } //按订单类型搜索\n\n\n    $('.type-sel').change(function () {\n      $scope.ordersList = [];\n      dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0);\n      var orData = {};\n      tjFun(orData);\n      orData.data = JSON.stringify(orData.data);\n      console.log(orData.data);\n      console.log(JSON.stringify(orData));\n      dsp.postFun('app/order/queryOrders', JSON.stringify(orData), function (data) {\n        console.log(data.data);\n        var list1 = data.data.result; // console.log(list);\n\n        $scope.list = data.data.result;\n        $scope.list = JSON.parse(list1);\n        $scope.ordersList = $scope.list.ordersList;\n        $scope.countNumber = $scope.list.countNumber; //总条数\n\n        $scope.cartAmount = $scope.list.allAmount; //总金额\n\n        if ($scope.countNumber > 0) {\n          dsp.removeNodataPic($('.orders-list'));\n          dsp.closeLoadPercent($('.orders-list'));\n        } else {\n          dsp.addNodataPic($('.orders-list'), $(window).height() - 171, 47, 0, {\n            width: '100%'\n          }, true);\n          dsp.closeLoadPercent($('.orders-list'));\n        }\n\n        cartScroll();\n      }, function (err) {\n        dsp.closeLoadPercent($('.orders-list'));\n        dsp.cjMesFun(1);\n      });\n    });\n\n    function tjFun(tjcs) {\n      var yStoresTime = $('#y-ord-sdate').val();\n      var yStoreeTime = $('#y-ord-edate').val();\n      var yStoreName = $.trim($('#y-pro-name').val());\n      var cjStoreName = $.trim($('#cj-pro-name').val());\n      var berName = $.trim($('.buyer-inp').val());\n      var searchinpVal = $('.ord-search-inp').val();\n      var ordType = '';\n\n      if ($('.type-sel').val() == 'All') {\n        ordType = '';\n      } else if ($('.type-sel').val() == 'Shopify Imported') {\n        ordType = '2';\n      } else if ($('.type-sel').val() == 'Excel Imported') {\n        ordType = '1';\n      }\n\n      tjcs.data = {};\n      tjcs.data.status = '2'; //请求的订单状态\n\n      tjcs.data.page = 1; //请求的第几页\n\n      tjcs.data.limit = 10000; //每页限制的订单条数\n\n      tjcs.data.orderNumber = searchinpVal;\n      tjcs.data.storeOrderDateBegin = yStoresTime; //店铺开始时间\n\n      tjcs.data.storeOrderDateEnd = yStoreeTime; //店铺结束时间\n\n      tjcs.data.storeProductName = yStoreName; //店铺商品名称\n\n      tjcs.data.cjProductName = cjStoreName; //cj商品名称\n\n      tjcs.data.buyerName = berName; //名字\n\n      tjcs.data.orderType = ordType; //订单类型\n\n      tjcs.data.storeNumber = $scope.storeName;\n      var cjsTime = $('#cj-stime').val();\n      var cjeTime = $('#cj-etime').val();\n      tjcs.data.cjOrderDateBegin = cjsTime;\n      tjcs.data.cjOrderDateEnd = cjeTime;\n    } //按店铺搜索\n\n\n    $scope.storeChangeFun = function () {\n      $scope.ordersList = [];\n      dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0);\n      var orData = {};\n      tjFun(orData);\n      orData.data = JSON.stringify(orData.data);\n      console.log(orData.data);\n      console.log(JSON.stringify(orData));\n      dsp.postFun('app/order/queryOrders', JSON.stringify(orData), function (data) {\n        var list1 = data.data.result;\n        $scope.list = JSON.parse(list1);\n        $scope.ordersList = $scope.list.ordersList;\n        $scope.countNumber = $scope.list.countNumber; //总条数\n\n        $scope.cartAmount = $scope.list.allAmount; //总金额\n\n        if ($scope.countNumber > 0) {\n          dsp.removeNodataPic($('.orders-list'));\n          dsp.closeLoadPercent($('.orders-list'));\n        } else {\n          dsp.addNodataPic($('.orders-list'), $(window).height() - 171, 47, 0, {\n            width: '100%'\n          }, true);\n          dsp.closeLoadPercent($('.orders-list'));\n        }\n\n        cartScroll();\n      }, function (err) {\n        dsp.closeLoadPercent($('.orders-list'));\n        dsp.cjMesFun(1);\n      });\n    }; //给当前页多少条订单赋值\n    // var dfkNum = 0;\n    //列表是否循环完毕\n\n\n    $scope.$on('repeatFinishCallback', function () {\n      awaitsIndex = $scope.countNumber; // $('.page-selected-num').html(dfkNum);//选中多少条\n    }); //给Awaiting Submit下的订单添加选中非选中\n\n    var awaitAllPay = 0; //存储等待提交订单的总金额\n\n    var oneOrdMoney = 0; //点击时存储一个订单的金额\n    // var aa = 0;\n    //让cart待付款的全选按钮选中\n    //$('#dtj-orders .zchecked-all').attr('src','static/image/direct-orders/multiple2.png');\n\n    $('#dfk-orders').on('click', '.zcheckbox', function (res) {\n      //选中\n      var cjOrderNumber = $(this).parent('#cj-ord-num').children('.dclord-sys-time').text();\n      console.log(cjOrderNumber);\n      console.log($scope.addressOrderList.indexOf(cjOrderNumber));\n\n      if ($scope.addressOrderList.indexOf(cjOrderNumber) >= 0) {\n        $scope.addressOrderList.splice($scope.addressOrderList.indexOf(cjOrderNumber), 1);\n      } else {\n        $scope.addressOrderList.push(cjOrderNumber);\n      }\n\n      console.log($scope.addressOrderList); //一条订单的金额\n\n      oneOrdMoney = $(this).parent().siblings('.dfk-cjord-td').children('.dfk-cjam').children('.dfk-cj-money').text() - 0; // $(this).children('.dfk-cjord-td').children('.dfk-cjam').children('.dfk-cj-money').text()-0;\n\n      awaitAllPay = $('.awaiting-amount-money').text().replace(/,/g, \"\") - 0; //现在选中的所有订单的金额\n\n      console.log(awaitAllPay);\n\n      if ($(this).attr('src') == 'static/image/direct-orders/multiple1.png') {\n        $(this).attr('src', 'static/image/direct-orders/multiple2.png');\n        awaitsIndex++;\n        $('.awaiting-amount-money').text((awaitAllPay + oneOrdMoney).toFixed(2)); // console.log(dfkNum - Math.abs(awaitsIndex)+'(((((')\n        // $('.page-all-num').html(dfkNum - Math.abs(awaitsIndex));\n\n        $('.page-selected-num').html(awaitsIndex); // $('.page-all-num').html(awaitsIndex);\n        // $('.page-selected-num').html(awaitsIndex);\n\n        console.log(awaitsIndex);\n\n        if (awaitsIndex == $('#dfk-orders .zcheckbox').length) {\n          $('#dfk-orders .zchecked-all').attr('src', 'static/image/direct-orders/multiple2.png');\n        }\n\n        console.log($scope.addressOrderList);\n      } else {\n        //非选中\n        $(this).attr('src', 'static/image/direct-orders/multiple1.png');\n        awaitsIndex--;\n\n        if (awaitsIndex < 0) {\n          awaitsIndex = 0;\n          return;\n        }\n\n        $('.awaiting-amount-money').text((awaitAllPay - oneOrdMoney).toFixed(2));\n        console.log(awaitsIndex); // $('.page-all-num').html(dfkNum);\n\n        $('.page-selected-num').html(awaitsIndex); // console.log(dfkNum - Math.abs(awaitsIndex)+')))))')\n\n        if (awaitsIndex != $('#dfk-orders .zcheckbox').length) {\n          $('#dfk-orders .zchecked-all').attr('src', 'static/image/direct-orders/multiple1.png');\n        }\n      }\n    }); //全选\n\n    $('#dfk-orders').on('click', '.zchecked-all', function () {\n      console.log($scope.addressOrderList);\n      console.log($(this).attr('src') == 'static/image/direct-orders/multiple2.png');\n\n      if ($(this).attr('src') == 'static/image/direct-orders/multiple1.png') {\n        var _iterator = _createForOfIteratorHelper($('#dfk-orders .dclord-sys-time')),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var item = _step.value;\n            var index = $scope.addressOrderList.indexOf(item.innerText);\n            if (index < 0) $scope.addressOrderList.push(item.innerText);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else {\n        $scope.addressOrderList = [];\n      }\n\n      console.log($scope.addressOrderList);\n\n      if ($(this).attr('src') == 'static/image/direct-orders/multiple1.png') {\n        console.log(1);\n        $(this).attr('src', 'static/image/direct-orders/multiple2.png');\n        awaitsIndex = $('#dfk-orders .zcheckbox').length;\n        $('.page-selected-num').html(awaitsIndex); //选中条数\n\n        $('.awaiting-amount-money').text($scope.cartAmount); //等待付款的金额\n\n        $('#dfk-orders .zcheckbox').attr('src', 'static/image/direct-orders/multiple2.png');\n      } else {\n        console.log(2);\n        $(this).attr('src', 'static/image/direct-orders/multiple1.png');\n        awaitsIndex = 0;\n        $('.page-selected-num').html(awaitsIndex); //选中条数为0\n\n        $('.awaiting-amount-money').text(0.00); //等待付款金额为0\n\n        $('#dfk-orders .zcheckbox').attr('src', 'static/image/direct-orders/multiple1.png');\n      }\n    }); //取消订单\n\n    $scope.deleteFlag = false;\n\n    $scope.deletFun = function ($index, listName, $event) {\n      console.log($index);\n      console.log(listName);\n      console.log($event);\n      $scope.deleteFlag = true;\n      $scope.itemId = listName.order.ID;\n      $scope.itemIndex = $index;\n      $scope.itemMoney = listName.order.AMOUNT; // dsp.load();\n\n      var $curentObj = $($event.currentTarget).parent().siblings('.order-time').children('.zcheckbox'); //获取该行\n      // // alert($($event.currentTarget).parent().html())\n\n      console.log($curentObj);\n    };\n\n    $scope.deleteSureFun = function () {\n      layer.load(2);\n      console.log($scope.itemIndex);\n      var $curentObj = $('#dfk-orders').find('.zcheckbox').eq($scope.itemIndex); //获取该行\n      // alert($($event.currentTarget).parent().html())\n\n      var cusOrdId = $scope.ordersList[$scope.itemIndex].order.ORDER_NUMBER;\n      var shopType1 = $scope.ordersList[$scope.itemIndex].order.STORE_NAME; // var ordTypeObj = {};\n      // ordTypeObj[cusOrdId] = shopType1;\n      // console.log(ordTypeObj)\n\n      console.log($curentObj);\n      var deleteData = {}; // deleteData.orderType = ordTypeObj;\n\n      deleteData.orderNums = $scope.itemId;\n      deleteData.type = 2;\n      console.log(JSON.stringify(deleteData));\n      dsp.postFun('app/order/deleteOrder', JSON.stringify(deleteData), function (data) {\n        console.log(data);\n        console.log(data.data);\n        console.log(data.data.result);\n        layer.closeAll(\"loading\"); // alert(data.data.result)\n\n        if (data.data.result == true) {\n          $scope.deleteFlag = false;\n          $scope.cartNum -= 1; //购物车里的订单数量减去1\n\n          $scope.cancelNum = $scope.cancelNum - 0 + 1; //取消里的订单数加上1\n\n          $scope.ordersList.splice($scope.itemIndex, 1); //删除该行的数据\n\n          $scope.countNumber -= 1; //总订单数减去1\n\n          $scope.cartAmount = ($scope.cartAmount - $scope.itemMoney).toFixed(2); //总金额减去该订单的金额  适配批量删除\n\n          var selOrdNum = 0;\n          setTimeout(function () {\n            $('#dfk-orders .zcheckbox').each(function () {\n              if ($(this).attr('src') == 'static/image/direct-orders/multiple2.png') {\n                selOrdNum++;\n              }\n            });\n\n            if (selOrdNum == $scope.countNumber) {\n              $('#dfk-orders .zchecked-all').attr('src', 'static/image/direct-orders/multiple2.png');\n            }\n          }, 300);\n\n          if ($curentObj.attr('src') == 'static/image/direct-orders/multiple2.png') {\n            var allAmount = $('.awaiting-amount-money').text().replace(/,/g, \"\") - 0 - $scope.itemMoney;\n            $('.awaiting-amount-money').text(allAmount.toFixed(2)); //给总金额赋值\n\n            awaitsIndex--;\n            console.log(awaitsIndex);\n            var selOrdNum = $('.page-selected-num').text() - 1; //选中的订单\n\n            $('.page-selected-num').text(selOrdNum);\n          } else {\n            return;\n          }\n        } else {\n          layer.closeAll(\"loading\");\n          layer.msg('Delete Error');\n        }\n      });\n    };\n\n    $scope.deleteQxFun = function () {\n      $scope.deleteFlag = false;\n    }; //给确定付款的按钮添加鼠标点击提交订单到erp事件\n    //地址不完整弹窗\n\n\n    $scope.checkAddress = false;\n\n    $scope.closeCheckAddress = function () {\n      $scope.checkAddressList = [];\n      $scope.checkAddress = false;\n      return;\n    };\n\n    $scope.saveOrder = function () {\n      // $scope.addressOrderList = []\n      $scope.checkAddress = false;\n\n      if (filterSuppilerOrder()) {\n        $scope.isShowTips = true;\n        $scope.$apply();\n        $scope.addressOrderList = [];\n      } else {\n        suppilerOrderConfirm();\n      }\n    }; //loading加载\n\n\n    var lottieDom = null;\n\n    function ceateLoading(id) {\n      $scope.element = document.getElementById(id);\n\n      if ($scope.element || $scope.element.parentElement.style.display === 'none') {\n        $scope.element.parentElement.style.display = 'flex';\n      }\n\n      if (!$scope.element) return;\n\n      if (!lottieDom) {\n        lottieDom = lottie.loadAnimation({\n          container: $scope.element,\n          renderer: 'svg',\n          loop: true,\n          autoplay: true,\n          path: '/egg/image/cj_lottie.json'\n        });\n      }\n    }\n\n    function removeLoading(id) {\n      $scope.element = document.getElementById(id);\n\n      if ($scope.element) {\n        $scope.element.parentElement.style.display = 'none';\n      }\n\n      if (lottieDom) {\n        lottieDom.destroy();\n      }\n\n      lottieDom = null;\n    }\n\n    var cartAllOrdId = ''; //cart里面所有要提交订单的id\n    // var clickIndex = 0;\n\n    $('.confirm-btn').click(function () {\n      var cjOrderDate = {\n        type: '2',\n        cjOrderNumber: $scope.addressOrderList.join(',')\n      };\n      console.log($scope.addressOrderList.join(',')); // 校验订单地址\n\n      ceateLoading('addcardLoad');\n      dsp.postFun('app/address/checkAddress', JSON.stringify(cjOrderDate), function (res) {\n        console.log(res);\n\n        if (res.data.data.length) {\n          $scope.checkAddressList = res.data.data;\n        }\n\n        $scope.textFun = function (data) {\n          var list = [];\n          data.forEach(function (i) {\n            list.push(i.msgEn);\n          });\n          list = list.join(',');\n          return list;\n        };\n\n        if ($scope.checkAddressList && $scope.checkAddressList.length) {\n          $scope.checkAddress = true;\n          removeLoading('addcardLoad');\n          return;\n        } else {\n          $scope.checkAddress = false;\n        }\n\n        if (filterSuppilerOrder()) {\n          $scope.isShowTips = true;\n          removeLoading('addcardLoad');\n          $scope.$apply();\n        } else {\n          suppilerOrderConfirm();\n        }\n      }, function () {\n        removeLoading('addcardLoad');\n      });\n      removeLoading('addcardLoad');\n      cartAllOrdId = '';\n      $('#dtj-orders .order-detail').each(function () {\n        if ($(this).children('.order-time').children('.zcheckbox').attr('src') == \"static/image/direct-orders/multiple2.png\") {\n          //所有的要提交订单的id\n          cartAllOrdId = cartAllOrdId + $(this).children('.ord-cai').children('.order-id').text() + ',';\n        }\n      });\n      console.log('cartAllOrdId', cartAllOrdId);\n    }); // 原提交代码抽出来\n\n    function suppilerOrderConfirm() {\n      //过滤缺失信息订单\n      var orderArrayList = [];\n      console.log($scope.checkAddressList);\n\n      if ($scope.checkAddressList) {\n        var carOrderList = cartAllOrdId.split(',');\n        $scope.checkAddressList.forEach(function (x) {\n          if (carOrderList.includes(x.orderId)) {\n            carOrderList = carOrderList.filter(function (item) {\n              return item !== x.orderId;\n            });\n          }\n        });\n\n        if (carOrderList.length > 0) {\n          cartAllOrdId = carOrderList.join(',');\n        }\n      }\n\n      var awaitingJson = {};\n      awaitingJson.userId = bs.decode(localStorage.getItem('userId'));\n      awaitingJson.token = bs.decode(localStorage.getItem('token'));\n      awaitingJson.data = {}; //cartAllOrdId = '';\n      // 含供应商订单做限制\n\n      if (!cartAllOrdId) {\n        layer.msg('Please select order(s) first!');\n        layer.closeAll(\"loading\");\n        removeLoading('addcardLoad');\n        return;\n      }\n\n      var selectData = $scope.ordersList.filter(function (item) {\n        return cartAllOrdId.split(',').includes(item.order.ID);\n      });\n      var checkInvenList = $scope.ordersList.filter(function (item) {\n        return cartAllOrdId.split(',').includes(item.order.ID);\n      });\n      var checkInvenIds = '';\n\n      for (var i = 0, len = checkInvenList.length; i < len; i++) {\n        if (checkInvenList[i].order.ORDERSOURCE_TYPE != '7' && checkInvenList[i].order.areaId !== '1') {\n          checkInvenIds += checkInvenList[i].order.ID + ',';\n        }\n      } // if(checkInvenList.length){\n      //   for(let i = 0,len = selectData.length;i<len;i++){\n      //     if(){\n      //       checkInvenIds += checkInvenList[i].order.ID + ',';\n      //     }\n      //   }\n      // }\n\n\n      console.log(checkInvenList);\n      console.log(checkInvenIds);\n      console.log(selectData);\n      var amount = selectData.reduce(function (pre, cur) {\n        return Number(cur.order.AMOUNT) + pre;\n      }, 0);\n      console.log(amount);\n      awaitingJson.data.amount = amount.toFixed(2);\n      awaitingJson.data.weight = '';\n      awaitingJson.data.count = selectData.length;\n      awaitingJson.data.orderNum = cartAllOrdId;\n      awaitingJson.data = JSON.stringify(awaitingJson.data);\n      console.log(awaitingJson);\n\n      if (checkInvenIds) {\n        dsp.postFun('order/order/checkInventory', {\n          ids: checkInvenIds\n        }, function (data) {\n          console.log(data);\n          var resData = data.data;\n\n          if (resData.statusCode == 200) {\n            $scope.isShowTips = false;\n            $scope.noInventoryArr = resData.result;\n            console.log($scope.noInventoryArr);\n\n            if ($scope.noInventoryArr.length > 0) {\n              layer.closeAll(\"loading\");\n              removeLoading('addcardLoad');\n              var selectedCout = cartAllOrdId.split(',').length - 1;\n              console.log(selectedCout);\n\n              if ($scope.noInventoryArr.length == selectedCout) {\n                //所有订单都没有库存的提示\n                layer.msg('Insufficient inventory. Please select other orders to pay.');\n              } else {\n                //部分有库存\n                $scope.noInventoryTkFlag = true;\n              }\n            } else {\n              //都有库存\n              createShipment(awaitingJson);\n            }\n          } else if (data.data.statusCode == 400) {\n            $scope.errorShowFlag = true;\n            var temp = JSON.parse(data.data.result);\n            $scope.logisticsReasonList = temp.map(function (item) {\n              return {\n                recordNum: item,\n                message: data.data.message\n              };\n            });\n            layer.closeAll(\"loading\");\n            removeLoading('addcardLoad');\n          } else {\n            layer.closeAll(\"loading\");\n            removeLoading('addcardLoad');\n            dsp.cjMesFun(1);\n          }\n        });\n      } else {\n        createShipment(awaitingJson);\n      }\n    }\n\n    $scope.errorShowFlag = false;\n    $scope.logisticsReasonList = [];\n\n    function createShipment(awaitingJson) {\n      var obj = JSON.parse(awaitingJson.data);\n      var orderNumbers = obj.orderNum.split(',').filter(function (value) {\n        return value.length > 0;\n      });\n      localStorage.setItem('orderNumbers', JSON.stringify(orderNumbers)); // location.href = '/newmycj/dropshipping/orderConfirmation'\n\n      dsp.postFun('order-center/proxyOrder/shoppingCart/orderAmountRefresh', {\n        orderCodes: orderNumbers\n      }, function (data) {\n        var res = data.data;\n\n        if (res.success) {\n          location.href = '/newmycj/dropshipping/orderConfirmation';\n        } else {\n          layer.msg(res.message);\n        }\n      }); // dsp.postFun('app/order/createShipmentsOrder', JSON.stringify(awaitingJson), function (data) {\n      //     console.log(data.data)\n      //     removeLoading('addcardLoad');\n      //     if (data.data.statusCode == 200) {\n      //         location.href = '#/dropshipping-orders';\n      //     } else if (data.data.statusCode == 5001) {\n      //         location.href = '#/dropshipping-orders';\n      //         localStorage.setItem('ordZeroTips', data.data.message)\n      //     } else if (data.data.statusCode == 5002) {\n      //         $scope.addCartResonFlag = true;\n      //         $scope.addCartResonText = data.data.message;\n      //         $scope.refershFun()\n      //     } else if (data.data.statusCode == 400) {\n      //         $scope.errorShowFlag = true;\n      //         const temp = JSON.parse(data.data.result)\n      //         $scope.logisticsReasonList = temp.map((item) => {\n      //             return {\n      //                 recordNum: item,\n      //                 message: data.data.message\n      //             }\n      //         })\n      //     } else {\n      //         layer.msg('Submit failed');\n      //     }\n      // })\n    }\n\n    $scope.sureDelNoInventoryOrd = function () {\n      //删除泰国没有库存的订单\n      var awaitingJson = {};\n      awaitingJson.userId = bs.decode(localStorage.getItem('userId'));\n      awaitingJson.token = bs.decode(localStorage.getItem('token'));\n      awaitingJson.data = {};\n      var delAmountMoney = 0;\n      var shengYuCount = 0; //删除后的剩余数量\n\n      var shengYuIds = '';\n      $('#dtj-orders .order-detail').each(function () {\n        if ($(this).children('.order-time').children('.zcheckbox').attr('src') == \"static/image/direct-orders/multiple2.png\") {\n          //所有的要提交订单的id\n          var itemLetId = $(this).children('.ord-cai').children('.order-id').text();\n          var isNoInventoryIdFlag = true;\n\n          if ($scope.noInventoryArr.length > 0) {\n            for (var i = 0, len = $scope.noInventoryArr.length; i < len; i++) {\n              if (itemLetId == $scope.noInventoryArr[i]) {\n                isNoInventoryIdFlag = false;\n                break;\n              }\n            }\n          }\n\n          if (isNoInventoryIdFlag) {\n            //不是缺少库存的订单\n            // console.log($(this).children('.order-time').children('.cj-amount-money').text())\n            shengYuIds = shengYuIds + $(this).children('.ord-cai').children('.order-id').text() + ',';\n            delAmountMoney += $(this).children('.order-time').children('.cj-amount-money').text() - 0;\n            shengYuCount++;\n          } // cartAllOrdId =cartAllOrdId+$(this).children('.ord-cai').children('.order-id').text()+',';\n\n        }\n      });\n      console.log(delAmountMoney);\n      delAmountMoney = (delAmountMoney - 0).toFixed(2);\n      console.log(delAmountMoney);\n      awaitingJson.data.amount = delAmountMoney + '';\n      awaitingJson.data.weight = '';\n      awaitingJson.data.count = shengYuCount;\n      awaitingJson.data.orderNum = shengYuIds;\n      awaitingJson.data = JSON.stringify(awaitingJson.data);\n      createShipment(awaitingJson); // dsp.postFun('app/order/createShipmentsOrder', JSON.stringify(awaitingJson), function (data) {\n      //     console.log(data.data)\n      //     layer.closeAll(\"loading\")\n      //     removeLoading('addcardLoad');\n      //     if (data.data.statusCode == 200) {\n      //         location.href = '#/dropshipping-orders';\n      //     } else if (data.data.statusCode == 5001) {\n      //         location.href = '#/dropshipping-orders';\n      //         localStorage.setItem('ordZeroTips', data.data.message)\n      //     } else if (data.data.statusCode == 5002) {\n      //         $scope.addCartResonFlag = true;\n      //         $scope.addCartResonText = data.data.message;\n      //         $scope.refershFun()\n      //     } else if (data.data.statusCode == 400) {\n      //         $scope.errorShowFlag = true;\n      //         const temp = JSON.parse(data.data.result)\n      //         $scope.logisticsReasonList = temp.map((item) => {\n      //             return {\n      //                 recordNum: item,\n      //                 message: data.data.message\n      //             }\n      //         })\n      //     } else {\n      //         layer.msg('Submit failed');\n      //     }\n      // })\n    }; //给被删除的订单添加弹框\n\n\n    $scope.showdelFun = function (ev, index, item) {\n      if (item.shopOrderStatus) {\n        $('.dcl-ord-tbody').eq(index).find('.hasdel-con').show();\n      } // $('.dcl-ord-tbody').eq(index).find('.hasdel-con').show();\n\n    };\n\n    $scope.hidedelFun = function (ev, index) {\n      $('.dcl-ord-tbody').eq(index).find('.hasdel-con').hide(); // console.log(index)\n    };\n\n    $scope.HasdeleteSureFun = function (index, item) {\n      $scope.isdelhasFlag = true;\n      $scope.hasIndex = index;\n      $scope.hasItemId = item.ID;\n    };\n\n    $scope.suredHasFun = function () {\n      layer.load(2);\n      $scope.isdelhasFlag = false;\n      var deleteData = {};\n      deleteData.orderNums = $scope.hasItemId;\n      deleteData.type = 2;\n      console.log(JSON.stringify(deleteData));\n      dsp.postFun('app/order/deleteOrder', JSON.stringify(deleteData), function (data) {\n        console.log(data);\n        layer.closeAll(\"loading\");\n\n        if (data.data.result == true) {\n          $scope.ordersList.splice($scope.hasIndex, 1);\n          layer.msg('Delete Success');\n        } else {\n          layer.closeAll(\"loading\");\n          layer.msg('Delete Error');\n        }\n      });\n    }; //恢复订单\n\n\n    $scope.keepOrdFun = function (index, item) {\n      $scope.iskeephasFlag = true;\n      $scope.hasIndex = index;\n      $scope.hasItemId = item.ID;\n    };\n\n    $scope.surekeepHasFun = function () {\n      layer.load(2);\n      $scope.iskeephasFlag = false;\n      var deleteData = {};\n      deleteData.id = $scope.hasItemId;\n      dsp.postFun('app/order/continueOrder', JSON.stringify(deleteData), function (data) {\n        console.log(data);\n        layer.closeAll(\"loading\");\n\n        if (data.data.result > 0) {\n          $scope.ordersList[$scope.hasIndex].order.shopOrderStatus = '';\n          layer.msg('Keep Success');\n        } else {\n          layer.closeAll(\"loading\");\n          layer.msg('Keep Error');\n        }\n      });\n    };\n\n    $scope.navList = [{\n      name: 'Process Required',\n      href: \"#/direct-orders\"\n    }, {\n      name: 'Cart',\n      href: \"#/imp-cart\",\n      show: true\n    }, {\n      name: 'Incomplete Orders',\n      href: \"#/imp-incomp\"\n    }, {\n      name: 'Canceled',\n      href: \"#/imp-cancel\"\n    }, {\n      name: 'Search All',\n      href: \"#/search-all\"\n    }, {\n      name: 'Store Orders',\n      href: \"#/AuthorizeOrder\"\n    }]; //$('.direct-leftbara').eq(0).css('background-image','linear-gradient(0deg,rgba(253, 162, 44, 1) 0%, rgba(247, 140, 41, 1) 78%, rgba(241, 118, 37, 1) 100%)');\n\n    $('.direct-leftbara').click(function () {\n      $('.direct-leftbara').css('background-image', '');\n      $(this).css('background-image', 'linear-gradient(0deg,rgba(253, 162, 44, 1) 0%, rgba(247, 140, 41, 1) 78%, rgba(241, 118, 37, 1) 100%)');\n    }); // 左侧的导航添加滚动事件\n\n    $(document).scroll(function () {\n      if ($(document).scrollTop() >= 80) {\n        $('.left-nav').css({\n          position: 'fixed',\n          top: '80px'\n        });\n      } else {\n        $('.left-list').css({\n          position: 'relative',\n          top: '0'\n        });\n      }\n    }); //显示大图\n\n    $('.orders-table').on('mouseenter', '.sp-smallimg', function () {\n      $(this).siblings('.hide-bigimg').show();\n    });\n    $('.orders-table').on('mouseenter', '.hide-bigimg', function () {\n      $(this).show();\n    });\n    $('.orders-table').on('mouseleave', '.sp-smallimg', function () {\n      $(this).siblings('.hide-bigimg').hide();\n    });\n    $('.orders-table').on('mouseleave', '.hide-bigimg', function () {\n      $(this).hide();\n    }); //全部展开隐藏\n\n    $('.showsp-img').mouseenter(function () {\n      if ($(this).attr('src') == 'static/image/public-img/up.png') {\n        $(this).attr('src', 'static/image/public-img/up-hover.png');\n      } else if ($(this).attr('src') == 'static/image/public-img/down.png') {\n        $(this).attr('src', 'static/image/public-img/down-hover.png');\n      }\n    });\n    $('.showsp-img').mouseleave(function () {\n      if ($(this).attr('src') == 'static/image/public-img/up-hover.png') {\n        $(this).attr('src', 'static/image/public-img/up.png');\n      } else if ($(this).attr('src') == 'static/image/public-img/down-hover.png') {\n        $(this).attr('src', 'static/image/public-img/down.png');\n      }\n    });\n    $('.showsp-img').click(function () {\n      if ($(this).attr('src') == 'static/image/public-img/up-hover.png') {\n        $(this).attr('src', 'static/image/public-img/down-hover.png');\n        $('.orders-table .d-toggle-tr').show();\n        $('.orders-table .order-detail').addClass('order-click-active');\n      } else if ($(this).attr('src') == 'static/image/public-img/down-hover.png') {\n        $(this).attr('src', 'static/image/public-img/up-hover.png');\n        $('.orders-table .d-toggle-tr').hide();\n        $('.orders-table .order-detail').removeClass('order-click-active');\n      }\n    }); //鼠标划过事件\n    //点击事件\n\n    $('.orders-table').on('click', '.order-detail', function (event) {\n      if ($(event.target).hasClass('zcheckbox')) {\n        return;\n      }\n\n      if ($(this).hasClass('order-click-active')) {\n        $(this).next().hide();\n        $(this).removeClass('order-click-active'); //$('.orders-table .order-detail').removeClass('order-click-active');\n      } else {\n        // $('.orders-table .d-toggle-tr').hide();//隐藏所有的商品\n        $(this).next().show(); // $('.orders-table .order-detail').removeClass('order-click-active');\n\n        $(this).addClass('order-click-active');\n      }\n    });\n    $('.orders-table').on('click', '.d-toggle-tr', function (event) {\n      $(this).show();\n      $(this).prev().addClass('order-click-active'); // if ($(this).prev().hasClass('order-click-active')) {\n      // \t$(this).hide();\n      // \t$(this).prev().removeClass('order-click-active');\n      // } else {\n      // \t$(this).show();\n      // \t$(this).prev().addClass('order-click-active');\n      // }\n    }); // 订单\n\n    $('.orders-table').on('mouseenter', '.order-detail>td', function () {\n      // if($(this).hasClass('order-time')){\n      // \treturn\n      // }\n      // $(this).parent().next().show();\n      // $('.orders-table .order-detail').removeClass('order-detail-active');\n      // $(this).addClass('order-detail-active');\n      if ($(this).hasClass('order-time')) {\n        return;\n      }\n\n      $(this).parent().next().show();\n      $('.orders-table .order-detail').removeClass('order-detail-active');\n      $(this).parent().addClass('order-detail-active');\n    });\n    $('.orders-table').on('mouseleave', '.order-detail', function () {\n      if ($(this).hasClass('order-click-active')) {\n        $(this).next().show();\n      } else {\n        $(this).next().hide();\n      }\n    }); //商品\n\n    $('.orders-table').on('mouseenter', '.d-toggle-tr', function () {\n      $(this).show();\n    });\n    $('.orders-table').on('mouseleave', '.d-toggle-tr', function () {\n      if ($(this).prev().hasClass('order-click-active')) {\n        $(this).show();\n      } else {\n        $(this).hide();\n      }\n    }); //table\n\n    $('.orders-table').mouseleave(function () {\n      $('.orders-table .order-detail').removeClass('order-detail-active');\n    }); //给更多搜索添加点击显示隐藏的动画\n\n    $('#ditect-searchmore').click(function () {\n      $('#ditect-moresearch').stop().toggle(300); // debugger;\n\n      $('#toggle-logo1').toggleClass('.glyphicon glyphicon-triangle-top');\n\n      if ($scope.countNumber < 1) {\n        $('#dtj-orders').css('min-height', $('.cj-nodata-pic').height() + 50);\n        console.log($('#dtj-orders').height());\n      }\n    }); //给左侧的导航添加滚动事件\n\n    $(document).scroll(function () {\n      if ($(document).scrollTop() >= 0) {\n        $('.left-nav').css({\n          position: 'fixed',\n          top: '80px'\n        });\n      } else {\n        $('.left-nav').css({\n          position: 'relative',\n          top: '80px'\n        });\n      }\n    }); //高级搜索部分的查询\n\n    $('#tj-search-btn').click(function () {\n      $scope.ordersList = [];\n      dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0);\n      var orData = {};\n      tjFun(orData);\n      orData.data = JSON.stringify(orData.data);\n      console.log(orData.data);\n      console.log(JSON.stringify(orData));\n      dsp.postFun('app/order/queryOrders', JSON.stringify(orData), dclsFun, dcleFun);\n\n      function dclsFun(data) {\n        console.log(data.data);\n        var list1 = data.data.result; // $scope.list = data.data.result;\n\n        $scope.list = JSON.parse(list1);\n        console.log($scope.list); // console.log($scope.list.productList);\n        // // $scope.aaaa = $scope.list.productList;\n        // // console.log($scope.aaaa);\n        // $scope.orderList = $scope.list.orderList;//订单列表\n        // $scope.productList = $scope.list.productList;//产品列表\n        // console.log($scope.orderList)\n        // console.log($scope.productList)\n        // console.log($scope.productList);\n        // $scope.list.countNumber = $scope.list.countNumber;//获取总订单的条数\n        // $scope.pcountN = $scope.list.countNumber;//获取总订单的条数\n        // alert($scope.pcountN)\n\n        $scope.ordersList = $scope.list.ordersList;\n        console.log($scope.ordersList);\n        $scope.countNumber = $scope.list.countNumber; //总条数\n\n        $scope.cartAmount = $scope.list.allAmount; //总金额\n\n        if ($scope.countNumber > 0) {\n          dsp.removeNodataPic($('.orders-list'));\n          dsp.closeLoadPercent($('.orders-list'));\n        } else {\n          dsp.addNodataPic($('.orders-list'), $(window).height() - 171, 47, 0, {\n            width: '100%'\n          }, true);\n          dsp.closeLoadPercent($('.orders-list'));\n        }\n\n        cartScroll();\n      }\n\n      function dcleFun() {\n        dsp.closeLoadPercent($('.orders-list'));\n        dsp.cjMesFun(1);\n      }\n    }); //用订单号搜索 orderNumber\n\n    $('.ord-search-inp').keypress(function (Event) {\n      if (Event.keyCode == 13) {\n        $scope.ordnumSearch();\n      }\n    });\n\n    $scope.ordnumSearch = function () {\n      $scope.addressOrderList = [];\n      $scope.ordersList = [];\n      dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0);\n      var searchinpVal = $('.ord-search-inp').val();\n      var orData = {};\n      tjFun(orData);\n      orData.data = JSON.stringify(orData.data);\n      console.log(orData.data);\n      console.log(JSON.stringify(orData)); // alert(inpVal)\n\n      dsp.postFun('app/order/queryOrders', JSON.stringify(orData), dclsFun, dcleFun);\n\n      function dclsFun(data) {\n        var list1 = data.data.result;\n        $scope.list = JSON.parse(list1);\n        console.log($scope.list);\n        $scope.ordersList = $scope.list.ordersList;\n        $scope.ordersList.forEach(function (item) {\n          return $scope.addressOrderList.push(item.order.ID);\n        });\n        $scope.countNumber = $scope.list.countNumber; //总条数\n\n        $scope.cartAmount = $scope.list.allAmount; //总金额\n\n        if ($scope.countNumber > 0) {\n          dsp.removeNodataPic($('.orders-list'));\n          dsp.closeLoadPercent($('.orders-list'));\n        } else {\n          dsp.addNodataPic($('.orders-list'), $(window).height() - 171, 47, 0, {\n            width: '100%'\n          }, true);\n          dsp.closeLoadPercent($('.orders-list'));\n        }\n\n        cartScroll();\n      }\n\n      function dcleFun() {\n        dsp.closeLoadPercent($('.orders-list'));\n        layer.closeAll(\"loading\");\n        dsp.cjMesFun(1);\n      }\n    }; //cj商品名字跳转到cj详情页\n\n\n    $scope.cjdetailhref = function (orditem, spitem) {\n      var id = spitem.cjProductId;\n      window.open('product-detail.html?id=' + id);\n    }; //商品名字跳转客户后台\n\n\n    $scope.hrefFun = function (orditem, spitem) {\n      console.log(orditem.STORE_NAME);\n      var storeName = orditem.STORE_NAME;\n      console.log(spitem.product_id);\n      var productId = spitem.product_id;\n\n      if (storeName == \"Excel Imported\") {\n        return;\n      } else {\n        window.open('https://' + storeName + '.myshopify.com/admin/products/' + productId);\n      }\n    }; //批量取消\n\n\n    $scope.addToCancelFun = function () {\n      layer.load(2);\n      var selectNum = 0; //存储被选中的条数\n\n      $('#dfk-orders .zcheckbox').each(function () {\n        //点击提交的时候去循环查找选中的订单\n        if ($(this).attr('src') == 'static/image/direct-orders/multiple2.png') {\n          selectNum++;\n        }\n      });\n\n      if (selectNum <= 0) {\n        layer.closeAll(\"loading\");\n        layer.msg('Please select order(s) first!');\n        return;\n      }\n\n      layer.open({\n        content: \"<p>You are adding orders to Canceled.</p><p>Order Quantity:  <span id='awa-dcl-num'></span></p>\",\n        area: ['480px', '260px'],\n        closeBtn: 0,\n        // shadeClose: true,\n        title: \"Order Cancellation\",\n        skin: \"\",\n        btn: ['Cancel', 'Confirm'],\n        success: function success(layero, index) {\n          $(layero).find('#awa-dcl-num').html(selectNum);\n        },\n        yes: function yes(index, layero) {\n          layer.close(index);\n          layer.closeAll(\"loading\");\n        },\n        btn2: function btn2(index, layero) {\n          // 点击提交按钮重新发送请求\n          var cancelData = {};\n          var cancelId = ''; // var ordTypeObj = {};\n\n          $(\"#dfk-orders .zcheckbox\").each(function (i) {\n            if ($(this).attr('src') == 'static/image/direct-orders/multiple2.png') {\n              cancelId += $(this).next().text() + ','; // var cusOrdId = $(this).parent().siblings('.order-num-td').children('.cus-ordtext').text();\n              // var shopType1 = $(this).parent().siblings('.ord-cai').children('.store-name-p').text();\n              // ordTypeObj[cusOrdId] = shopType1;\n            }\n          }); // console.log(cancelId)\n          // cancelData.orderType = ordTypeObj;\n\n          cancelData.orderNums = cancelId;\n          cancelData.type = 1; // console.log(orData.data)\n          // console.log(JSON.stringify(orData))\n\n          console.log(JSON.stringify(cancelData));\n          dsp.postFun('app/order/deleteOrder', JSON.stringify(cancelData), function (data) {\n            // alert('chenggong')\n            console.log(data);\n            console.log(data.data);\n\n            if (data.data.result == true) {\n              // alert('zou')\n              // $('#dfk-orders .zcheckbox').each(function (i) {//点击提交的时候去循环查找选中的订单\n              // \tif ($(this).attr('src')=='static/image/direct-orders/multiple2.png') {\n              // \t\t// $(this).parent().parent().parent().remove();\n              // \t\tconsole.log(i)\n              // \t\tconsole.log($scope.ordersList)\n              // \t\t$scope.ordersList.splice(i,1);//删除该行的数据\n              // \t\tconsole.log($scope.ordersList)\n              // \t}\n              // })\n              var listLength = $('#dfk-orders .zcheckbox').length;\n\n              for (var i = listLength - 1; i >= 0; i--) {\n                if ($('#dfk-orders .zcheckbox').eq(i).attr('src') == 'static/image/direct-orders/multiple2.png') {\n                  // console.log($scope.ordersList)\n                  $scope.ordersList.splice(i, 1); //删除该行的数据\n                }\n              } //给批量删除后的总金额赋值\n\n\n              $scope.cartAmount = ($scope.cartAmount - ($('.awaiting-amount-money').text().replace(/,/g, \"\") - 0)).toFixed(2); // alert(awaitAllPay +'==='+$scope.cartAmount)\n\n              $('.awaiting-amount-money').text(0); //批量删除给总金额赋值\n\n              awaitsIndex = 0; //给选中的变量赋值为0\n              // $scope.cartAmount -= awaitAllPay;\n\n              $('.page-selected-num').text(awaitsIndex); //批量删除后给选中赋值为0\n              // alert($scope.countNumber+'=='+'selectNum')\n\n              $scope.countNumber -= selectNum; //给总订单数量赋值\n              // alert($scope.countNumber)\n\n              $scope.cartNum -= selectNum; //购物车里的订单数量减去批量删除的个数\n\n              $scope.cancelNum = $scope.cancelNum - 0 + selectNum; //取消里的订单数加上批量删除的个数\n\n              layer.closeAll(\"loading\");\n            } else {\n              // alert('tijiaoshibai')\n              layer.closeAll(\"loading\");\n              layer.msg('Delete Error');\n              return;\n            }\n          });\n        }\n      });\n    }; //cj开始日期搜索\n\n\n    $(\"#cj-stime\").click(function () {\n      var cjendtime = $(\"#cj-stime\").val();\n      var interval = setInterval(function () {\n        var endtime2 = $(\"#cj-stime\").val();\n\n        if (endtime2 != cjendtime) {\n          $scope.ordersList = [];\n          dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0);\n          ;\n          clearInterval(interval);\n          var orData = {};\n          tjFun(orData);\n          orData.data = JSON.stringify(orData.data);\n          console.log(orData.data);\n          console.log(JSON.stringify(orData));\n          dsp.postFun('app/order/queryOrders', JSON.stringify(orData), function (data) {\n            console.log(data.data);\n            var list1 = data.data.result; // console.log(list);\n\n            $scope.list = data.data.result;\n            $scope.list = JSON.parse(list1);\n            $scope.ordersList = $scope.list.ordersList;\n            $scope.countNumber = $scope.list.countNumber; //总条数\n\n            $scope.cartAmount = $scope.list.allAmount; //总金额\n\n            if ($scope.countNumber > 0) {\n              dsp.removeNodataPic($('.orders-list'));\n              dsp.closeLoadPercent($('.orders-list'));\n            } else {\n              dsp.addNodataPic($('.orders-list'), $(window).height() - 171, 47, 0, {\n                width: '100%'\n              }, true);\n              dsp.closeLoadPercent($('.orders-list'));\n            }\n\n            cartScroll();\n          }, function (err) {\n            dsp.closeLoadPercent($('.orders-list'));\n            layer.closeAll(\"loading\");\n            dsp.cjMesFun(1);\n          });\n        }\n      }, 100);\n    }); //cj结束日期搜索\n\n    $(\"#cj-etime\").click(function () {\n      var cjendtime = $(\"#cj-etime\").val();\n      var interval = setInterval(function () {\n        var endtime2 = $(\"#cj-etime\").val();\n\n        if (endtime2 != cjendtime) {\n          $scope.ordersList = [];\n          dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0);\n          ;\n          clearInterval(interval);\n          var orData = {};\n          tjFun(orData);\n          orData.data = JSON.stringify(orData.data);\n          console.log(orData.data);\n          console.log(JSON.stringify(orData));\n          dsp.postFun('app/order/queryOrders', JSON.stringify(orData), function (data) {\n            console.log(data.data);\n            var list1 = data.data.result; // console.log(list);\n\n            $scope.list = data.data.result;\n            $scope.list = JSON.parse(list1);\n            $scope.ordersList = $scope.list.ordersList;\n            $scope.countNumber = $scope.list.countNumber; //总条数\n\n            $scope.cartAmount = $scope.list.allAmount; //总金额\n\n            if ($scope.countNumber > 0) {\n              dsp.removeNodataPic($('.orders-list'));\n              dsp.closeLoadPercent($('.orders-list'));\n            } else {\n              dsp.addNodataPic($('.orders-list'), $(window).height() - 171, 47, 0, {\n                width: '100%'\n              }, true);\n              dsp.closeLoadPercent($('.orders-list'));\n            }\n\n            cartScroll();\n          }, function (err) {\n            dsp.closeLoadPercent($('.orders-list'));\n            layer.closeAll(\"loading\");\n            dsp.cjMesFun(1);\n          });\n        }\n      }, 100);\n    }); //修改地址\n\n    $scope.modefyAddFun = function (item, index) {\n      console.log(item);\n      var ID = item.ID,\n          SHIPPING_ADDRESS = item.SHIPPING_ADDRESS,\n          shippingAddress2 = item.shippingAddress2,\n          CITY = item.CITY,\n          PROVINCE = item.PROVINCE,\n          ZIP = item.ZIP,\n          PHONE = item.PHONE,\n          CUSTOMER_NAME = item.CUSTOMER_NAME,\n          dutyNo = item.dutyNo,\n          startCountryCode = item.startCountryCode,\n          LOGISTIC_NAME = item.LOGISTIC_NAME,\n          areaId = item.areaId,\n          COUNTRY_CODE = item.COUNTRY_CODE;\n      $scope.addModefyFlag = true;\n      $scope.addItemId = ID;\n      $scope.addItemIndex = index;\n      $scope.address1 = SHIPPING_ADDRESS;\n      $scope.address2 = shippingAddress2;\n      $scope.addCity = CITY;\n      $scope.addProvince = PROVINCE;\n      $scope.addZip = ZIP;\n      $scope.addPhone = PHONE;\n      $scope.addName = CUSTOMER_NAME;\n      $scope.itemWlName = LOGISTIC_NAME;\n      $scope.addTaxid = dutyNo; //税号\n\n      $scope.addAreaId = areaId; //发货地区Id\n\n      $scope.updateId = item.areaId;\n      $scope.addCountryCode = COUNTRY_CODE; //目的国家\n\n      $scope.addStartCountry = startCountryCode; //发货国家缩写\n\n      $scope.countryEnName = countryEnName(COUNTRY_CODE);\n      console.log($scope.countryEnName);\n      $scope.opinion();\n    }; //校验判断\n\n\n    $scope.opinion = function () {\n      // 手机存在，失去焦点判断格式是否正确\n      if (!$scope.address1) {\n        layer.msg('Please enter the address.');\n        dsp.closeLoad();\n        return false;\n      } else if (!$scope.addCity) {\n        layer.msg('Please enter the city.');\n        dsp.closeLoad();\n        return false;\n      } else if (!$scope.addName) {\n        layer.msg('Please enter name.');\n        dsp.closeLoad();\n        return false;\n      } else {\n        return true;\n      }\n    }; //校验编辑信息\n\n\n    $scope.editConfirm = function () {\n      if ($scope.opinion() === true) {\n        return true;\n      }\n    }; //失去光标校验\n\n\n    $scope.lost = function () {\n      $scope.opinion();\n    }; //确认编辑\n\n\n    $scope.sureModeFun = function () {\n      console.log($scope.addItemIndex);\n      console.log($scope.itemWlName);\n\n      if (($scope.itemWlName && $scope.itemWlName.indexOf('DHL') != -1 || $scope.itemWlName == \"China EMS\" || $scope.itemWlName == \"S.F China Domestic\" || $scope.itemWlName == \"YTO China Domestic\" || $scope.itemWlName == \"South Africa Special Line\" || $scope.itemWlName == \"CJ Normal Express\") && !$scope.addPhone) {\n        layer.msg('Phone number is required.');\n        return;\n      }\n\n      dsp.load();\n      var addUpdata = {};\n      addUpdata.id = $scope.addItemId;\n      addUpdata.shipping_address = $scope.address1;\n      addUpdata.shipping_address2 = $scope.address2;\n      addUpdata.city = $scope.addCity;\n      addUpdata.province = $scope.addProvince;\n      addUpdata.zip = $scope.addZip;\n      addUpdata.phone = $scope.addPhone;\n      addUpdata.name = $scope.addName;\n      addUpdata.taxid = $scope.addTaxid;\n      addUpdata.startCountryCode = $scope.addStartCountry;\n      addUpdata.LOGISTIC_NAME = $scope.itemWlName;\n      addUpdata.areaId = $scope.addAreaId;\n      addUpdata.countryCode = $scope.addCountryCode;\n      addUpdata.country = $scope.countryEnName;\n      addUpdata.type = '2';\n      console.log(addUpdata);\n\n      if ($scope.editConfirm() === true) {\n        dsp.postFun('app/order/updateFiled', JSON.stringify(addUpdata), function (_ref) {\n          var data = _ref.data;\n          dsp.closeLoad();\n\n          if (data.msgCode === '505') {\n            $scope.phoneErr = data.ruleMsg.filter(function (item) {\n              return item.type === 'phone';\n            }) || [];\n\n            if (!$scope.phoneErr.length) {\n              $scope.addModefyFlag = false;\n              layer.msg('Modify success');\n              $scope.refershFun();\n            }\n          } else if (data.result > 0) {\n            $scope.addModefyFlag = false;\n            $scope.addressOrderList = [];\n            $scope.checkAddressList = [];\n            $scope.checkAddress = false;\n            layer.msg('Modify success');\n            $scope.refershFun();\n          } else {\n            layer.msg('Modify failed');\n          }\n        }, function (data) {\n          dsp.closeLoad();\n          console.log(data);\n        });\n      }\n    }; //检查没有拉取到订单的原因\n\n\n    $scope.noOrdResonFlag = false;\n    $scope.resResonFlag = false; //展示后台返回的没有订单原因的弹框\n\n    $scope.noOrdResonFun = function () {\n      $scope.noOrdResonFlag = true;\n    };\n\n    $scope.noOrdSureFun = function () {\n      if ($scope.shopOrdNum == 'undefined' || $scope.shopOrdNum == '') {\n        layer.msg('Please enter the order number in your shop.');\n        return;\n      }\n\n      layer.load(2);\n      dsp.postFun('app/order/checkSyncOrder', {\n        customerOrderId: $scope.shopOrdNum\n      }, function (data) {\n        console.log(data);\n        layer.closeAll(\"loading\");\n        $scope.noOrdResonFlag = false;\n\n        if (data.data.result != '') {\n          $scope.resResonFlag = true;\n          $('.no-ordres-reson').text(data.data.result);\n        } else {\n          layer.msg('The query fails.');\n        }\n      }, function (data) {\n        layer.closeAll(\"loading\");\n        console.log(data);\n      });\n    };\n\n    $scope.noOrdQxFun = function () {\n      $scope.noOrdResonFlag = false;\n    };\n\n    $scope.closeResReasonFun = function () {\n      $scope.resResonFlag = false;\n      $('.no-ordres-reson').text('');\n    }; // 含供应商订单提交做限制操作\n\n\n    function filterSuppilerOrder() {\n      var selectData = $scope.ordersList.filter(function (item) {\n        return cartAllOrdId.split(',').includes(item.order.ID);\n      });\n      var isSuppilerOrder = !!selectData.find(function (o) {\n        return o.order.ODPRODUCTTYPE === '0';\n      }); // 是否含有供应商订单\n\n      console.log(isSuppilerOrder);\n      var isChildOrder = !!selectData.find(function (o) {\n        return o.order.ODPRODUCTTYPE === '1';\n      }); // 是否含有子订单\n\n      console.log(isChildOrder);\n      var isMixedOrder = !!selectData.find(function (o) {\n        return o.order.ODPRODUCTTYPE === '2';\n      }); // 是否含有混合订单\n\n      console.log(selectData);\n\n      if (isMixedOrder && isChildOrder || isSuppilerOrder && isChildOrder) {\n        cartAllOrdId = selectData.filter(function (o) {\n          return o.order.ODPRODUCTTYPE === '1';\n        }).map(function (o) {\n          return o.order.ID;\n        }).join(',');\n      }\n\n      console.log('cartAllOrdId', cartAllOrdId);\n      return isMixedOrder && isChildOrder || isSuppilerOrder && isChildOrder;\n    }\n\n    $scope.handleConfirm = function () {\n      suppilerOrderConfirm();\n    };\n  }]);\n  return app;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovaW1wb3J0ZWQtb3JkZXJzL2ltcG9ydC1jYXJ0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9wYWdlcy9teWNqL2ltcG9ydGVkLW9yZGVycy9pbXBvcnQtY2FydC5qcz81NDRlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpbXBvcnRDYXJ0RmFjdG9yeShhbmd1bGFyKSB7XHJcbiAgICBjb25zdCBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnaW1wb3J0LWNhcnQubW9kdWxlJywgWydzZXJ2aWNlJ10pO1xyXG5cclxuICAgIGFwcC5kaXJlY3RpdmUoJ3JlcGVhdEZpbmlzaCcsIGZ1bmN0aW9uICgkdGltZW91dCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgLy/lvZPliY3lvqrnjq/oh7PmnIDlkI7kuIDkuKpcclxuICAgICAgICAgICAgICAgIGlmIChzY29wZS4kbGFzdCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/lkJHniLbmjqfliLblmajkvKDpgJLkuovku7bmtojmga9cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJ3JlcGVhdEZpbmlzaENhbGxiYWNrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGFwcC5jb250cm9sbGVyKCdpbXBvcnQtY2FydC5jdHJsJywgWyckc2NvcGUnLCAnZHNwJywgZnVuY3Rpb24gKCRzY29wZSwgZHNwKSB7XHJcbiAgICAgICAgZHNwLmRvbWFpbkRhdGEoKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgLy8g6K+35rGC5oiQ5Yqf55qE57uT5p6cXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcylcclxuICAgICAgICAgICAgJHNjb3BlLmlzY2ogPSByZXMuaXNjajtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5pc2NqID09ICcxJykge1xyXG4gICAgICAgICAgICAgICAgLy9jalxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLndlYnNpdGVOYW1lID0gJ0NKJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8v5a6i5oi3XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUud2Vic2l0ZU5hbWUgPSByZXMud2Vic2l0ZU5hbWUgfHwgJ0NKJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgJHNjb3BlLmRhdGFGb3VuZCA9IHRydWU7XHJcbiAgICAgICAgLy8gdmFyICRuYXZMaXMgPSAkKCcuaGVhZGVyLW5hdiBsaScpO1xyXG4gICAgICAgIC8vICRuYXZMaXMuZXEoMSkuY3NzKCdib3JkZXItYm90dG9tJywnMnB4IHNvbGlkICNmODhmMjknKTtcclxuICAgICAgICBkc3AubG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JyksICQod2luZG93KS5oZWlnaHQoKSAtIDE3MSwgNDcsIDAsIHt3aWR0aDogJzEwMCUnfSk7XHJcbiAgICAgICAgdmFyIHBhZ2VIID0gJCh3aW5kb3cpLmhlaWdodCgpIC0gMTcxO1xyXG4gICAgICAgIHZhciBkb2NIID0gJChkb2N1bWVudCkuaGVpZ2h0KCk7XHJcblxyXG4gICAgICAgICQoJy5kaXJlY3RvcmRlcnMtd3JhcCcpLmNzcyh7XHJcbiAgICAgICAgICAgICdtaW4taGVpZ2h0JzogJCh3aW5kb3cpLmhlaWdodCgpICogMSArICdweCdcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcuZGlyZWN0LXJpZ2h0JykuY3NzKHtcclxuICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiAkKHdpbmRvdykuaGVpZ2h0KCkgKiAxICsgJ3B4J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldENvdW50cnkoKXtcclxuICAgICAgICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9sb2dpc3RpYy9nZXRjb3VudHJ5JywgbnVsbCwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnN0YXR1c0NvZGUgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50cnlMaXN0ID0gSlNPTi5wYXJzZShkYXRhLmRhdGEucmVzdWx0KS5jb3VudHJ5TGlzdDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjb3VudHJ5RW5OYW1lKGNvZGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY29kZSlcclxuICAgICAgICAgICAgbGV0IGxlbiA9ICRzY29wZS5jb3VudHJ5TGlzdC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGxldCBlbk5hbWVcclxuICAgICAgICAgICAgaWYgKGxlbiA+IDApIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHJ5TGlzdC5maW5kKF9pPT57XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gX2kuSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVuTmFtZSA9IF9pLk5BTUVfRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZW5OYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnZXRDb3VudHJ5KCk7XHJcbiAgICAgICAgY29uc3QgY2FydFNjcm9sbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGZrLW9yZGVycycpLmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHRqLW9yZGVycycpLmNsaWVudFdpZHRoIC0gMTIgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgX2hlaWdodCA9IGJvZHkgLSAyMDA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdCb3R0b20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3LWJvdHRvbS1mdW5jdGlvbi1iYXInKS5zdHlsZTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoaCA+IF9oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdCb3R0b20ud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Qm90dG9tLnBvc2l0aW9uID0gJ3N0aWNreSc7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Qm90dG9tLmxlZnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0JvdHRvbS5yaWdodCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0JvdHRvbS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgICAgICAgICAgICAgICBuZXdCb3R0b20ucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0JvdHRvbS5sZWZ0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBuZXdCb3R0b20ucmlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgZWxlID0gZHNwLmdldFNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgZWxlLm9uc2Nyb2xsID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY3JvbGx0b3AgPSBlLnRhcmdldC5zY3JvbGxUb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoKGggLSBzY3JvbGx0b3AgPCA4MDApIHx8IChoIDwgX2hlaWdodCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Qm90dG9tLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCb3R0b20ucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCb3R0b20ubGVmdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0JvdHRvbS5yaWdodCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCb3R0b20ud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0JvdHRvbS5wb3NpdGlvbiA9ICdzdGlja3knO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCb3R0b20ubGVmdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0JvdHRvbS5yaWdodCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMDAwKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGNvZGVJbmxvY2FsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NvZGUnKTtcclxuICAgICAgICBpZiAoY29kZUlubG9jYWwpIHtcclxuICAgICAgICAgICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG15RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwSG91ciA9IG15RGF0ZS5nZXRIb3VycygpOyAgICAgICAvL+iOt+WPluW9k+WJjeWwj+aXtuaVsCgwLTIzKVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcE1pbnV0ZSA9IG15RGF0ZS5nZXRNaW51dGVzKCk7ICAgICAvL+iOt+WPluW9k+WJjeWIhumSn+aVsCgwLTU5KVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcFNlY29uZCA9IG15RGF0ZS5nZXRTZWNvbmRzKCk7ICAgICAvL+iOt+WPluW9k+WJjeenkuaVsCgwLTU5KVxyXG4gICAgICAgICAgICAgICAgJCgnI3RpcGhvdXInKS50ZXh0KHRpcEhvdXIgKyAnOicpXHJcbiAgICAgICAgICAgICAgICAkKCcjdGlwbWludXRlJykudGV4dCh0aXBNaW51dGUgKyAnOicpXHJcbiAgICAgICAgICAgICAgICAkKCcjdGlwc2Vjb25kJykudGV4dCh0aXBTZWNvbmQpXHJcbiAgICAgICAgICAgICAgICBjb2RlSW5sb2NhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjb2RlJyk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGlwc09yZFN0YXR1ZXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnb3JkVGlwcycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVJbmxvY2FsID09ICcyMDAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnJlZnJlc2gtYnRuJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcilcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhteURhdGUpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRpcHNPcmRTdGF0dWVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ29yZFRpcHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcudGl0T3JkVGlwcycpLnRleHQoJHNjb3BlLnRpcHNPcmRTdGF0dWVzKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLnRpcHNPcmRTdGF0dWVzKVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29kZUlubG9jYWwpXHJcbiAgICAgICAgICAgIH0sIDEwMDApXHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5yZWZlcnNoRnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKCcucmVmcmVzaC1idG4nKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNkY2wtc2VsJykudmFsKCcxMDAnKTtcclxuICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgZHNwLmxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpLCAkKHdpbmRvdykuaGVpZ2h0KCkgLSAxNzEsIDQ3LCAwKTtcclxuICAgICAgICAgICAgdmFyIG9yRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICB0akZ1bihvckRhdGEpXHJcbiAgICAgICAgICAgIG9yRGF0YS5kYXRhID0gSlNPTi5zdHJpbmdpZnkob3JEYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICBkc3AucG9zdEZ1bignYXBwL29yZGVyL3F1ZXJ5T3JkZXJzJywgSlNPTi5zdHJpbmdpZnkob3JEYXRhKSwgZGNsc0Z1biwgZGNsZUZ1bik7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkY2xzRnVuKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJylcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdDEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxpc3QgPSBKU09OLnBhcnNlKGxpc3QxKTsvL2pzb27Dl8OWwrfDu8K0wq7Dl8KqwrbDlMOPw7NcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5saXN0KVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3QgPSAkc2NvcGUubGlzdC5vcmRlcnNMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50TnVtYmVyID0gJHNjb3BlLmxpc3QuY291bnROdW1iZXI7Ly/mgLvmnaHmlbBcclxuICAgICAgICAgICAgICAgICRzY29wZS5jYXJ0QW1vdW50ID0gJHNjb3BlLmxpc3QuYWxsQW1vdW50Oy8v5oC76YeR6aKdXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUub3JkZXJzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuY2FydEFtb3VudCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3JkZXJzTGlzdC5mb3JFYWNoKGl0ZW0gPT4gJHNjb3BlLmFkZHJlc3NPcmRlckxpc3QucHVzaChpdGVtLm9yZGVyLklEKSlcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5hZGRyZXNzT3JkZXJMaXN0KVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9yZHN0YXR1c051bSA9ICRzY29wZS5saXN0LmFsbE9yZGVyQ291bnQyOy8v5ZCE56eN54q25oCB6K6i5Y2V55qE5pWw6YePXHJcbiAgICAgICAgICAgICAgICBudW1GdW4oKTsvL+iwg+eUqOe7meiuouWNlei1i+WAvOeahOWHveaVsFxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jb3VudE51bWJlciA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkc3AucmVtb3ZlTm9kYXRhUGljKCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICAgICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkc3AuYWRkTm9kYXRhUGljKCQoJy5vcmRlcnMtbGlzdCcpLCAkKHdpbmRvdykuaGVpZ2h0KCkgLSAxNzEsIDQ3LCAwLCB7d2lkdGg6ICcxMDAlJ30sdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICBkc3AuY2xvc2VMb2FkUGVyY2VudCgkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZGNsZUZ1bigpIHtcclxuICAgICAgICAgICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICAgICAgZHNwLmNqTWVzRnVuKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYnMgPSBuZXcgQmFzZTY0KCk7XHJcblxyXG4gICAgICAgIC8v6K6+572u6buY6K6k5pe26Ze0XHJcbiAgICAgICAgZnVuY3Rpb24gR2V0RGF0ZVN0cihBZGREYXlDb3VudCkge1xyXG4gICAgICAgICAgICB2YXIgZGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICBkZC5zZXREYXRlKGRkLmdldERhdGUoKSArIEFkZERheUNvdW50KTsvL+iOt+WPlkFkZERheUNvdW505aSp5ZCO55qE5pel5pyfXHJcbiAgICAgICAgICAgIHZhciB5ID0gZGQuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgdmFyIG0gPSBkZC5nZXRNb250aCgpICsgMTsvL+iOt+WPluW9k+WJjeaciOS7veeahOaXpeacn1xyXG4gICAgICAgICAgICB2YXIgZCA9IGRkLmdldERhdGUoKTtcclxuICAgICAgICAgICAgaWYgKG0gPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgbSA9ICcwJyArIG1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZCA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICBkID0gJzAnICsgZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB5ICsgXCItXCIgKyBtICsgXCItXCIgKyBkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGFEYXRlID0gR2V0RGF0ZVN0cigtNDUpO1xyXG4gICAgICAgIHZhciBlbkRhdGUgPSBHZXREYXRlU3RyKDApO1xyXG4gICAgICAgIC8vICQoXCIjeS1vcmQtc2RhdGVcIikudmFsKGFEYXRlICk7ICAgLy/lhbPplK7or63lj6VcclxuICAgICAgICAvLyAkKFwiI3ktb3JkLWVkYXRlXCIpLnZhbChlbkRhdGUgKTsgICAvL+WFs+mUruivreWPpVxyXG4gICAgICAgICQoXCIjY2otc3RpbWVcIikudmFsKGFEYXRlKTsgICAvL+WFs+mUruivreWPpVxyXG4gICAgICAgIC8vJChcIiNjai1ldGltZVwiKS52YWwoZW5EYXRlICk7ICAgLy/lhbPplK7or63lj6VcclxuICAgICAgICB2YXIgYXdhaXRzSW5kZXggPSAwO1xyXG4gICAgICAgIHZhciBvckRhdGEgPSB7fTtcclxuICAgICAgICBvckRhdGEuZGF0YSA9IHt9O1xyXG4gICAgICAgIG9yRGF0YS5kYXRhLnN0YXR1cyA9ICcyJzsvL+ivt+axgueahOiuouWNleeKtuaAgVxyXG4gICAgICAgIG9yRGF0YS5kYXRhLnBhZ2UgPSAxOy8v6K+35rGC55qE56ys5Yeg6aG1ICAgMTAqMS0xMMOSwrPDgsOrXHJcbiAgICAgICAgb3JEYXRhLmRhdGEubGltaXQgPSAxMDAwMDsvL+avj+mhtemZkOWItueahOiuouWNleadoeaVsFxyXG4gICAgICAgIC8v6K6+572u6buY6K6k5pe26Ze05q61XHJcbiAgICAgICAgdmFyIHlTdG9yZXNUaW1lID0gJCgnI3ktb3JkLXNkYXRlJykudmFsKCk7XHJcbiAgICAgICAgdmFyIHlTdG9yZWVUaW1lID0gJCgnI3ktb3JkLWVkYXRlJykudmFsKCk7XHJcbiAgICAgICAgdmFyIGNqc1RpbWUgPSAkKCcjY2otc3RpbWUnKS52YWwoKTtcclxuICAgICAgICB2YXIgY2plVGltZSA9ICQoJyNjai1ldGltZScpLnZhbCgpO1xyXG4gICAgICAgIG9yRGF0YS5kYXRhLnN0b3JlT3JkZXJEYXRlQmVnaW4gPSB5U3RvcmVzVGltZTtcclxuICAgICAgICBvckRhdGEuZGF0YS5jak9yZGVyRGF0ZUJlZ2luID0gY2pzVGltZTtcclxuICAgICAgICBvckRhdGEuZGF0YS5zdG9yZU9yZGVyRGF0ZUVuZCA9IHlTdG9yZWVUaW1lO1xyXG4gICAgICAgIG9yRGF0YS5kYXRhLmNqT3JkZXJEYXRlRW5kID0gY2plVGltZTtcclxuXHJcbiAgICAgICAgb3JEYXRhLmRhdGEgPSBKU09OLnN0cmluZ2lmeShvckRhdGEuZGF0YSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cob3JEYXRhLmRhdGEpXHJcbiAgICAgICAgLy8gdmFyIGFhYSA9IEpTT04uc3RyaW5naWZ5KG9yRGF0YSk7XHJcbiAgICAgICAgJHNjb3BlLmNvdW50TnVtYmVyID0gJyc7Ly/DksK7wrnCssK2w6DDicOZw4zDtcK2wqnCtcKlXHJcbiAgICAgICAgJHNjb3BlLmxpc3QgPSAnJzsvL8K2wqnCtcKlwrrDjcKyw7rDhsK3XHJcbiAgICAgICAgJHNjb3BlLm9yZGVyTGlzdCA9ICcnOy8vwrbCqcK1wqXCtcOEw4HDkMKxw63DisO9wr7DnVxyXG4gICAgICAgICRzY29wZS5wcm9kdWN0TGlzdCA9ICcnOy8vwrLDusOGwrfCtcOEw4HDkMKxw63DisO9wr7DnVxyXG4gICAgICAgICRzY29wZS5zdG9yZUFsbE1vbmV5ID0gJyc7Ly/CtsKpwrXCpcK1w4TDl8Ocwr3DsMK2w65cclxuICAgICAgICAkc2NvcGUuZmxhZyA9IGZhbHNlOy8vw4XDkMK2w4/Dl8K0w4zCrFxyXG5cclxuICAgICAgICB2YXIgb25lb3JkbW9uZXkgPSAwOy8v5LiA5Liq6K6i5Y2V55qE5oC76YeR6aKdXHJcblxyXG4gICAgICAgICRzY29wZS5hZGRyZXNzT3JkZXJMaXN0ID0gW107XHJcbiAgICAgICAgLy/nu5norqLljZXnirbmgIHmt7vliqDngrnlh7vkuovku7ZcclxuICAgICAgICAkc2NvcGUucGNvdW50TiA9IDA7Ly/lrZjlgqjlvoXmj5DkuqTorqLljZXnmoTmgLvmnaHmlbAgcHJvY2VzcyByZXF1aXJlZFxyXG4gICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvb3JkZXIvcXVlcnlPcmRlcnMnLCBKU09OLnN0cmluZ2lmeShvckRhdGEpLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgbGlzdDEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAkc2NvcGUubGlzdCA9IEpTT04ucGFyc2UobGlzdDEpOy8vanNvbsOXw5bCt8O7wrTCrsOXwqrCtsOUw4/Ds1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUubGlzdClcclxuICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3QgPSAkc2NvcGUubGlzdC5vcmRlcnNMaXN0O1xyXG4gICAgICAgICAgICBpZigkc2NvcGUub3JkZXJzTGlzdCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3JkZXJzTGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRyZXNzT3JkZXJMaXN0LnB1c2goaXRlbS5vcmRlci5JRCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuYWRkcmVzc09yZGVyTGlzdCk7XHJcbiAgICAgICAgICAgICRzY29wZS5jb3VudE51bWJlciA9ICRzY29wZS5saXN0LmNvdW50TnVtYmVyOy8v5oC75p2h5pWwXHJcbiAgICAgICAgICAgIGF3YWl0c0luZGV4ID0gJHNjb3BlLmNvdW50TnVtYmVyO1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FydEFtb3VudCA9ICRzY29wZS5saXN0LmFsbEFtb3VudDsvL+aAu+mHkeminVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuY2FydEFtb3VudCk7XHJcbiAgICAgICAgICAgICRzY29wZS5zaG9wcyA9ICRzY29wZS5saXN0LnNob3BzOy8v5bqX6ZO655qE5pWw57uEXHJcbiAgICAgICAgICAgIGRlbFNob3BGdW4oJHNjb3BlLnNob3BzKVxyXG4gICAgICAgICAgICBjYXJ0U2Nyb2xsKCk7XHJcbiAgICAgICAgICAgIHZhciBleGNlbFNob3AgPSB7fTtcclxuICAgICAgICAgICAgZXhjZWxTaG9wLmlkID0gJ2V4Y2VsJztcclxuICAgICAgICAgICAgZXhjZWxTaG9wLm5hbWUgPSAnRXhjZWwnO1xyXG4gICAgICAgICAgICBleGNlbFNob3Auck5BTUUgPSAnRXhjZWwnO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvcHMucHVzaChleGNlbFNob3ApXHJcbiAgICAgICAgICAgICRzY29wZS5vcmRzdGF0dXNOdW0gPSAkc2NvcGUubGlzdC5hbGxPcmRlckNvdW50MjsvL+WQhOenjeeKtuaAgeiuouWNleeahOaVsOmHj1xyXG4gICAgICAgICAgICBudW1GdW4oKTsvL+iwg+eUqOe7meiuouWNlei1i+WAvOeahOWHveaVsFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuc2hvcHMpO1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmNvdW50TnVtYmVyID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZHNwLnJlbW92ZU5vZGF0YVBpYygkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICAgICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZHNwLmFkZE5vZGF0YVBpYygkKCcub3JkZXJzLWxpc3QnKSwgJCh3aW5kb3cpLmhlaWdodCgpIC0gMTcxLCA0NywgMCwge3dpZHRoOiAnMTAwJSd9LHRydWUpXHJcbiAgICAgICAgICAgICAgICBkc3AuY2xvc2VMb2FkUGVyY2VudCgkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICBkc3AuY2pNZXNGdW4oMSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGVsU2hvcEZ1bihzaG9wQXJyKSB7XHJcbiAgICAgICAgICAgIC8qKuW6l+mTuuWIl+ihqOWQjeWtl+WxleekuuaUueaIkCDlupfpk7rlkI0r5bqX6ZO657G75Z6LK+WbveWutuOAgeWinuWKoOWbveWutuWFqOWGmeWPguaVsOOAgeWinuWKoOWbveWutue8qeWGmeWPguaVsCBzdGFydCAqL1xyXG4gICAgICAgICAgICBpZiAoIXNob3BBcnIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNob3BBcnIuZm9yRWFjaChlID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIOWbveWutue8qeWGmei9rOaNouWFqOWGmeOAglRoZW1lSWTmmK9zaG9wZWXnmoTlm73lrrY7TWFya2V0cGxhY2VVcmzmmK9sYXphZGHnmoTlm73lrrZcclxuICAgICAgICAgICAgICAgIGUuY291bnRyeWZ1bGxOYW1lID0gcmVwbGFjZUNvdW50cnkoZS50eXBlID09ICdzaG9wZWUnID8gZS5UaGVtZUlkIDogZS50eXBlID09ICdMYXphZGEnID8gZS5NYXJrZXRwbGFjZVVybCA6ICcnKS5mdWxsTmFtZTtcclxuICAgICAgICAgICAgICAgIC8vIOW6l+mTuuWQjSvlupfpk7rnsbvlnosr5Zu95a62XHJcbiAgICAgICAgICAgICAgICAvLyBlLnJOQU1FID0gYCR7ZS5uYW1lfSAtICR7ZS50eXBlLnJlcGxhY2UoZS50eXBlWzBdLCBlLnR5cGVbMF0udG9VcHBlckNhc2UoKSl9ICR7ZS5jb3VudHJ5ZnVsbE5hbWU/Jy0nOicnfSAke2UuY291bnRyeWZ1bGxOYW1lfWA7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5yTkFNRSA9IGAke2UubmFtZX0gLSAke2UudHlwZS5yZXBsYWNlKGUudHlwZVswXSwgZS50eXBlWzBdLnRvVXBwZXJDYXNlKCkpfSAke2UuY291bnRyeWZ1bGxOYW1lID8gJy0nIDogJyd9ICR7ZS5jb3VudHJ5ZnVsbE5hbWV9YDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5yTkFNRSA9IGUubmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIOWbveWutue8qeWGmWNvZGUo5aSn5YaZKS3nianmtYHmqKHlnZfkvKDpgJLlm73lrrbpnIDopoFcclxuICAgICAgICAgICAgICAgIGxldCBjdXJMb2dpc3RpY0NvdW50cnkgPSAoZS5UaGVtZUlkIHx8IGUuTWFya2V0cGxhY2VVcmwpID8gKGUudHlwZSA9PSAnc2hvcGVlJyA/IGUuVGhlbWVJZCA6IGUudHlwZSA9PSAnTGF6YWRhJyA/IGUuTWFya2V0cGxhY2VVcmwgOiAnJykgOiAnJztcclxuICAgICAgICAgICAgICAgIGlmIChjdXJMb2dpc3RpY0NvdW50cnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLmxvZ2lzdGljc0NvdW50cnkgPSBjdXJMb2dpc3RpY0NvdW50cnkudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5sb2dpc3RpY3NDb3VudHJ5ID0gJyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBlLmxvZ2lzdGljc0NvdW50cnkgPSAoZS5UaGVtZUlkIHx8IGUuTWFya2V0cGxhY2VVcmwpID8gKGUudHlwZSA9PSAnc2hvcGVlJyA/IGUuVGhlbWVJZCA6IGUudHlwZSA9PSAnTGF6YWRhJyA/IGUuTWFya2V0cGxhY2VVcmwgOiAnJykudG9VcHBlckNhc2UoKSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgLy8g6LSn5biB5Luj56CBXHJcbiAgICAgICAgICAgICAgICBlLmN1cnJlbmN5Q29kZSA9IHJlcGxhY2VDb3VudHJ5KGUudHlwZSA9PSAnc2hvcGVlJyA/IGUuVGhlbWVJZCA6IGUudHlwZSA9PSAnTGF6YWRhJyA/IGUuTWFya2V0cGxhY2VVcmwgOiAnJykuY3VycmVuY3lDb2RlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3BzID0gc2hvcEFycjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlcGxhY2VDb3VudHJ5KHBhcmFtcykge1xyXG4gICAgICAgICAgICBsZXQgZnVsbE5hbWUgPSAnJztcclxuICAgICAgICAgICAgbGV0IGN1cnJlbmN5Q29kZSA9ICcnO1xyXG4gICAgICAgICAgICBpZiAoL3NnL2kudGVzdChwYXJhbXMpKSB7XHJcbiAgICAgICAgICAgICAgICBmdWxsTmFtZSA9ICdTaW5nYXBvcmUnLCBjdXJyZW5jeUNvZGUgPSAnU0dEJ1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9teS9pLnRlc3QocGFyYW1zKSkge1xyXG4gICAgICAgICAgICAgICAgZnVsbE5hbWUgPSAnTWFsYXlzaWEnLCBjdXJyZW5jeUNvZGUgPSAnTVlSJ1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9pZC9pLnRlc3QocGFyYW1zKSkge1xyXG4gICAgICAgICAgICAgICAgZnVsbE5hbWUgPSAnSW5kb25lc2lhJywgY3VycmVuY3lDb2RlID0gJ0lEUidcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgvdGgvaS50ZXN0KHBhcmFtcykpIHtcclxuICAgICAgICAgICAgICAgIGZ1bGxOYW1lID0gJ1RoYWlsYW5kJywgY3VycmVuY3lDb2RlID0gJ1RIQidcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgvcGgvaS50ZXN0KHBhcmFtcykpIHtcclxuICAgICAgICAgICAgICAgIGZ1bGxOYW1lID0gJ1BoaWxpcHBpbmVzJywgY3VycmVuY3lDb2RlID0gJ1BIUCdcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgvdm4vaS50ZXN0KHBhcmFtcykpIHtcclxuICAgICAgICAgICAgICAgIGZ1bGxOYW1lID0gJ1ZpZXRuYW0nLCBjdXJyZW5jeUNvZGUgPSAnVk5EJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7ZnVsbE5hbWUsIGN1cnJlbmN5Q29kZX07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+e7meiuouWNleeKtuaAgei1i+WAvOeahOWHveaVsFxyXG4gICAgICAgIGZ1bmN0aW9uIG51bUZ1bigpIHtcclxuICAgICAgICAgICAgLy8gJHNjb3BlLmltcG9ydGVkTnVtID0gKCRzY29wZS5wcm9jZXNzTnVtLTApKygkc2NvcGUuY2FydE51bS0wKSsoJHNjb3BlLmluY29tcGxldGVOdW0tMCkrKCRzY29wZS5jYW5jZWxOdW0tMCkrKCRzY29wZS5yZWZ1bmROdW0tMCk7XHJcbiAgICAgICAgICAgICRzY29wZS5pbXBwcm9jZXNzTnVtID0gJHNjb3BlLm9yZHN0YXR1c051bS55aTtcclxuICAgICAgICAgICAgJHNjb3BlLmNhcnROdW0gPSAkc2NvcGUub3Jkc3RhdHVzTnVtLmVyO1xyXG4gICAgICAgICAgICAkc2NvcGUuaW5jb21wbGV0ZU51bSA9ICRzY29wZS5vcmRzdGF0dXNOdW0uc2FuO1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsTnVtID0gJHNjb3BlLm9yZHN0YXR1c051bS5zaTtcclxuICAgICAgICAgICAgJHNjb3BlLnJlZnVuZE51bSA9ICRzY29wZS5vcmRzdGF0dXNOdW0ud3U7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGxQcm9OdW0gPSAkc2NvcGUub3Jkc3RhdHVzTnVtLmppdTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5oyJ6K6i5Y2V57G75Z6L5pCc57SiXHJcbiAgICAgICAgJCgnLnR5cGUtc2VsJykuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgZHNwLmxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpLCAkKHdpbmRvdykuaGVpZ2h0KCkgLSAxNzEsIDQ3LCAwKTtcclxuICAgICAgICAgICAgdmFyIG9yRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICB0akZ1bihvckRhdGEpXHJcbiAgICAgICAgICAgIG9yRGF0YS5kYXRhID0gSlNPTi5zdHJpbmdpZnkob3JEYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhvckRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KG9yRGF0YSkpXHJcbiAgICAgICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvb3JkZXIvcXVlcnlPcmRlcnMnLCBKU09OLnN0cmluZ2lmeShvckRhdGEpLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhKVxyXG4gICAgICAgICAgICAgICAgdmFyIGxpc3QxID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGxpc3QpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxpc3QgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxpc3QgPSBKU09OLnBhcnNlKGxpc3QxKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcmRlcnNMaXN0ID0gJHNjb3BlLmxpc3Qub3JkZXJzTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudE51bWJlciA9ICRzY29wZS5saXN0LmNvdW50TnVtYmVyOy8v5oC75p2h5pWwXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2FydEFtb3VudCA9ICRzY29wZS5saXN0LmFsbEFtb3VudDsvL+aAu+mHkeminVxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jb3VudE51bWJlciA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkc3AucmVtb3ZlTm9kYXRhUGljKCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICAgICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkc3AuYWRkTm9kYXRhUGljKCQoJy5vcmRlcnMtbGlzdCcpLCAkKHdpbmRvdykuaGVpZ2h0KCkgLSAxNzEsIDQ3LCAwLCB7d2lkdGg6ICcxMDAlJ30sdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICBkc3AuY2xvc2VMb2FkUGVyY2VudCgkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhcnRTY3JvbGwoKTtcclxuXHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICAgICAgZHNwLmNqTWVzRnVuKDEpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHRqRnVuKHRqY3MpIHtcclxuICAgICAgICAgICAgdmFyIHlTdG9yZXNUaW1lID0gJCgnI3ktb3JkLXNkYXRlJykudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciB5U3RvcmVlVGltZSA9ICQoJyN5LW9yZC1lZGF0ZScpLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgeVN0b3JlTmFtZSA9ICQudHJpbSgkKCcjeS1wcm8tbmFtZScpLnZhbCgpKTtcclxuICAgICAgICAgICAgdmFyIGNqU3RvcmVOYW1lID0gJC50cmltKCQoJyNjai1wcm8tbmFtZScpLnZhbCgpKTtcclxuICAgICAgICAgICAgdmFyIGJlck5hbWUgPSAkLnRyaW0oJCgnLmJ1eWVyLWlucCcpLnZhbCgpKTtcclxuICAgICAgICAgICAgdmFyIHNlYXJjaGlucFZhbCA9ICQoJy5vcmQtc2VhcmNoLWlucCcpLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgb3JkVHlwZSA9ICcnO1xyXG4gICAgICAgICAgICBpZiAoJCgnLnR5cGUtc2VsJykudmFsKCkgPT0gJ0FsbCcpIHtcclxuICAgICAgICAgICAgICAgIG9yZFR5cGUgPSAnJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgkKCcudHlwZS1zZWwnKS52YWwoKSA9PSAnU2hvcGlmeSBJbXBvcnRlZCcpIHtcclxuICAgICAgICAgICAgICAgIG9yZFR5cGUgPSAnMic7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJCgnLnR5cGUtc2VsJykudmFsKCkgPT0gJ0V4Y2VsIEltcG9ydGVkJykge1xyXG4gICAgICAgICAgICAgICAgb3JkVHlwZSA9ICcxJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGpjcy5kYXRhID0ge307XHJcbiAgICAgICAgICAgIHRqY3MuZGF0YS5zdGF0dXMgPSAnMic7Ly/or7fmsYLnmoTorqLljZXnirbmgIFcclxuICAgICAgICAgICAgdGpjcy5kYXRhLnBhZ2UgPSAxOy8v6K+35rGC55qE56ys5Yeg6aG1XHJcbiAgICAgICAgICAgIHRqY3MuZGF0YS5saW1pdCA9IDEwMDAwOy8v5q+P6aG16ZmQ5Yi255qE6K6i5Y2V5p2h5pWwXHJcblxyXG4gICAgICAgICAgICB0amNzLmRhdGEub3JkZXJOdW1iZXIgPSBzZWFyY2hpbnBWYWw7XHJcbiAgICAgICAgICAgIHRqY3MuZGF0YS5zdG9yZU9yZGVyRGF0ZUJlZ2luID0geVN0b3Jlc1RpbWU7Ly/lupfpk7rlvIDlp4vml7bpl7RcclxuICAgICAgICAgICAgdGpjcy5kYXRhLnN0b3JlT3JkZXJEYXRlRW5kID0geVN0b3JlZVRpbWU7Ly/lupfpk7rnu5PmnZ/ml7bpl7RcclxuICAgICAgICAgICAgdGpjcy5kYXRhLnN0b3JlUHJvZHVjdE5hbWUgPSB5U3RvcmVOYW1lOy8v5bqX6ZO65ZWG5ZOB5ZCN56ewXHJcbiAgICAgICAgICAgIHRqY3MuZGF0YS5jalByb2R1Y3ROYW1lID0gY2pTdG9yZU5hbWU7Ly9jauWVhuWTgeWQjeensFxyXG4gICAgICAgICAgICB0amNzLmRhdGEuYnV5ZXJOYW1lID0gYmVyTmFtZTsvL+WQjeWtl1xyXG4gICAgICAgICAgICB0amNzLmRhdGEub3JkZXJUeXBlID0gb3JkVHlwZTsvL+iuouWNleexu+Wei1xyXG4gICAgICAgICAgICB0amNzLmRhdGEuc3RvcmVOdW1iZXIgPSAkc2NvcGUuc3RvcmVOYW1lO1xyXG4gICAgICAgICAgICB2YXIgY2pzVGltZSA9ICQoJyNjai1zdGltZScpLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgY2plVGltZSA9ICQoJyNjai1ldGltZScpLnZhbCgpO1xyXG4gICAgICAgICAgICB0amNzLmRhdGEuY2pPcmRlckRhdGVCZWdpbiA9IGNqc1RpbWU7XHJcbiAgICAgICAgICAgIHRqY3MuZGF0YS5jak9yZGVyRGF0ZUVuZCA9IGNqZVRpbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+aMieW6l+mTuuaQnOe0olxyXG4gICAgICAgICRzY29wZS5zdG9yZUNoYW5nZUZ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgZHNwLmxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpLCAkKHdpbmRvdykuaGVpZ2h0KCkgLSAxNzEsIDQ3LCAwKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvckRhdGEgPSB7fTtcclxuICAgICAgICAgICAgdGpGdW4ob3JEYXRhKVxyXG4gICAgICAgICAgICBvckRhdGEuZGF0YSA9IEpTT04uc3RyaW5naWZ5KG9yRGF0YS5kYXRhKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cob3JEYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShvckRhdGEpKVxyXG5cclxuICAgICAgICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9vcmRlci9xdWVyeU9yZGVycycsIEpTT04uc3RyaW5naWZ5KG9yRGF0YSksIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdDEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxpc3QgPSBKU09OLnBhcnNlKGxpc3QxKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcmRlcnNMaXN0ID0gJHNjb3BlLmxpc3Qub3JkZXJzTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudE51bWJlciA9ICRzY29wZS5saXN0LmNvdW50TnVtYmVyOy8v5oC75p2h5pWwXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2FydEFtb3VudCA9ICRzY29wZS5saXN0LmFsbEFtb3VudDsvL+aAu+mHkeminVxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jb3VudE51bWJlciA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkc3AucmVtb3ZlTm9kYXRhUGljKCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICAgICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkc3AuYWRkTm9kYXRhUGljKCQoJy5vcmRlcnMtbGlzdCcpLCAkKHdpbmRvdykuaGVpZ2h0KCkgLSAxNzEsIDQ3LCAwLCB7d2lkdGg6ICcxMDAlJ30sdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICBkc3AuY2xvc2VMb2FkUGVyY2VudCgkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhcnRTY3JvbGwoKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgZHNwLmNsb3NlTG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JykpXHJcbiAgICAgICAgICAgICAgICBkc3AuY2pNZXNGdW4oMSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+e7meW9k+WJjemhteWkmuWwkeadoeiuouWNlei1i+WAvFxyXG4gICAgICAgIC8vIHZhciBkZmtOdW0gPSAwO1xyXG5cclxuICAgICAgICAvL+WIl+ihqOaYr+WQpuW+queOr+WujOavlVxyXG4gICAgICAgICRzY29wZS4kb24oJ3JlcGVhdEZpbmlzaENhbGxiYWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhd2FpdHNJbmRleCA9ICRzY29wZS5jb3VudE51bWJlcjtcclxuICAgICAgICAgICAgLy8gJCgnLnBhZ2Utc2VsZWN0ZWQtbnVtJykuaHRtbChkZmtOdW0pOy8v6YCJ5Lit5aSa5bCR5p2hXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvL+e7mUF3YWl0aW5nIFN1Ym1pdOS4i+eahOiuouWNlea3u+WKoOmAieS4remdnumAieS4rVxyXG4gICAgICAgIHZhciBhd2FpdEFsbFBheSA9IDA7Ly/lrZjlgqjnrYnlvoXmj5DkuqTorqLljZXnmoTmgLvph5Hpop1cclxuICAgICAgICB2YXIgb25lT3JkTW9uZXkgPSAwOy8v54K55Ye75pe25a2Y5YKo5LiA5Liq6K6i5Y2V55qE6YeR6aKdXHJcbiAgICAgICAgLy8gdmFyIGFhID0gMDtcclxuICAgICAgICAvL+iuqWNhcnTlvoXku5jmrL7nmoTlhajpgInmjInpkq7pgInkuK1cclxuICAgICAgICAvLyQoJyNkdGotb3JkZXJzIC56Y2hlY2tlZC1hbGwnKS5hdHRyKCdzcmMnLCdzdGF0aWMvaW1hZ2UvZGlyZWN0LW9yZGVycy9tdWx0aXBsZTIucG5nJyk7XHJcbiAgICAgICAgJCgnI2Rmay1vcmRlcnMnKS5vbignY2xpY2snLCAnLnpjaGVja2JveCcsIGZ1bmN0aW9uIChyZXMpIHsvL+mAieS4rVxyXG4gICAgICAgICAgICBsZXQgY2pPcmRlck51bWJlciA9ICQodGhpcykucGFyZW50KCcjY2otb3JkLW51bScpLmNoaWxkcmVuKCcuZGNsb3JkLXN5cy10aW1lJykudGV4dCgpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNqT3JkZXJOdW1iZXIpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5hZGRyZXNzT3JkZXJMaXN0LmluZGV4T2YoY2pPcmRlck51bWJlcikpXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuYWRkcmVzc09yZGVyTGlzdC5pbmRleE9mKGNqT3JkZXJOdW1iZXIpID49IDApe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZHJlc3NPcmRlckxpc3Quc3BsaWNlKCRzY29wZS5hZGRyZXNzT3JkZXJMaXN0LmluZGV4T2YoY2pPcmRlck51bWJlciksMSlcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkcmVzc09yZGVyTGlzdC5wdXNoKGNqT3JkZXJOdW1iZXIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmFkZHJlc3NPcmRlckxpc3QpXHJcbiAgICAgICAgICAgIC8v5LiA5p2h6K6i5Y2V55qE6YeR6aKdXHJcbiAgICAgICAgICAgIG9uZU9yZE1vbmV5ID0gJCh0aGlzKS5wYXJlbnQoKS5zaWJsaW5ncygnLmRmay1jam9yZC10ZCcpLmNoaWxkcmVuKCcuZGZrLWNqYW0nKS5jaGlsZHJlbignLmRmay1jai1tb25leScpLnRleHQoKSAtIDBcclxuICAgICAgICAgICAgLy8gJCh0aGlzKS5jaGlsZHJlbignLmRmay1jam9yZC10ZCcpLmNoaWxkcmVuKCcuZGZrLWNqYW0nKS5jaGlsZHJlbignLmRmay1jai1tb25leScpLnRleHQoKS0wO1xyXG4gICAgICAgICAgICBhd2FpdEFsbFBheSA9ICQoJy5hd2FpdGluZy1hbW91bnQtbW9uZXknKS50ZXh0KCkucmVwbGFjZSgvLC9nLCBcIlwiKSAtIDA7Ly/njrDlnKjpgInkuK3nmoTmiYDmnInorqLljZXnmoTph5Hpop1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coYXdhaXRBbGxQYXkpXHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ3NyYycpID09ICdzdGF0aWMvaW1hZ2UvZGlyZWN0LW9yZGVycy9tdWx0aXBsZTEucG5nJykge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdzcmMnLCAnc3RhdGljL2ltYWdlL2RpcmVjdC1vcmRlcnMvbXVsdGlwbGUyLnBuZycpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXRzSW5kZXgrKztcclxuICAgICAgICAgICAgICAgICQoJy5hd2FpdGluZy1hbW91bnQtbW9uZXknKS50ZXh0KChhd2FpdEFsbFBheSArIG9uZU9yZE1vbmV5KS50b0ZpeGVkKDIpKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRma051bSAtIE1hdGguYWJzKGF3YWl0c0luZGV4KSsnKCgoKCgnKVxyXG4gICAgICAgICAgICAgICAgLy8gJCgnLnBhZ2UtYWxsLW51bScpLmh0bWwoZGZrTnVtIC0gTWF0aC5hYnMoYXdhaXRzSW5kZXgpKTtcclxuICAgICAgICAgICAgICAgICQoJy5wYWdlLXNlbGVjdGVkLW51bScpLmh0bWwoYXdhaXRzSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgLy8gJCgnLnBhZ2UtYWxsLW51bScpLmh0bWwoYXdhaXRzSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgLy8gJCgnLnBhZ2Utc2VsZWN0ZWQtbnVtJykuaHRtbChhd2FpdHNJbmRleCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhd2FpdHNJbmRleClcclxuICAgICAgICAgICAgICAgIGlmIChhd2FpdHNJbmRleCA9PSAkKCcjZGZrLW9yZGVycyAuemNoZWNrYm94JykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2Rmay1vcmRlcnMgLnpjaGVja2VkLWFsbCcpLmF0dHIoJ3NyYycsICdzdGF0aWMvaW1hZ2UvZGlyZWN0LW9yZGVycy9tdWx0aXBsZTIucG5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuYWRkcmVzc09yZGVyTGlzdClcclxuICAgICAgICAgICAgfSBlbHNlIHsvL+mdnumAieS4rVxyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdzcmMnLCAnc3RhdGljL2ltYWdlL2RpcmVjdC1vcmRlcnMvbXVsdGlwbGUxLnBuZycpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXRzSW5kZXgtLTtcclxuICAgICAgICAgICAgICAgIGlmIChhd2FpdHNJbmRleCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdHNJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJCgnLmF3YWl0aW5nLWFtb3VudC1tb25leScpLnRleHQoKGF3YWl0QWxsUGF5IC0gb25lT3JkTW9uZXkpLnRvRml4ZWQoMikpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYXdhaXRzSW5kZXgpXHJcbiAgICAgICAgICAgICAgICAvLyAkKCcucGFnZS1hbGwtbnVtJykuaHRtbChkZmtOdW0pO1xyXG4gICAgICAgICAgICAgICAgJCgnLnBhZ2Utc2VsZWN0ZWQtbnVtJykuaHRtbChhd2FpdHNJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkZmtOdW0gLSBNYXRoLmFicyhhd2FpdHNJbmRleCkrJykpKSkpJylcclxuICAgICAgICAgICAgICAgIGlmIChhd2FpdHNJbmRleCAhPSAkKCcjZGZrLW9yZGVycyAuemNoZWNrYm94JykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2Rmay1vcmRlcnMgLnpjaGVja2VkLWFsbCcpLmF0dHIoJ3NyYycsICdzdGF0aWMvaW1hZ2UvZGlyZWN0LW9yZGVycy9tdWx0aXBsZTEucG5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvL+WFqOmAiVxyXG4gICAgICAgICQoJyNkZmstb3JkZXJzJykub24oJ2NsaWNrJywgJy56Y2hlY2tlZC1hbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5hZGRyZXNzT3JkZXJMaXN0KVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkKHRoaXMpLmF0dHIoJ3NyYycpID09ICdzdGF0aWMvaW1hZ2UvZGlyZWN0LW9yZGVycy9tdWx0aXBsZTIucG5nJylcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignc3JjJykgPT0gJ3N0YXRpYy9pbWFnZS9kaXJlY3Qtb3JkZXJzL211bHRpcGxlMS5wbmcnKXtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaXRlbSBvZiAkKCcjZGZrLW9yZGVycyAuZGNsb3JkLXN5cy10aW1lJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9ICRzY29wZS5hZGRyZXNzT3JkZXJMaXN0LmluZGV4T2YoaXRlbS5pbm5lclRleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggPCAwKSAkc2NvcGUuYWRkcmVzc09yZGVyTGlzdC5wdXNoKGl0ZW0uaW5uZXJUZXh0KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRyZXNzT3JkZXJMaXN0ID0gW11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuYWRkcmVzc09yZGVyTGlzdClcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdzcmMnKSA9PSAnc3RhdGljL2ltYWdlL2RpcmVjdC1vcmRlcnMvbXVsdGlwbGUxLnBuZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygxKVxyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignc3JjJywgJ3N0YXRpYy9pbWFnZS9kaXJlY3Qtb3JkZXJzL211bHRpcGxlMi5wbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdHNJbmRleCA9ICQoJyNkZmstb3JkZXJzIC56Y2hlY2tib3gnKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBhZ2Utc2VsZWN0ZWQtbnVtJykuaHRtbChhd2FpdHNJbmRleCk7Ly/pgInkuK3mnaHmlbBcclxuICAgICAgICAgICAgICAgICAgICAkKCcuYXdhaXRpbmctYW1vdW50LW1vbmV5JykudGV4dCgkc2NvcGUuY2FydEFtb3VudCk7Ly/nrYnlvoXku5jmrL7nmoTph5Hpop1cclxuICAgICAgICAgICAgICAgICAgICAkKCcjZGZrLW9yZGVycyAuemNoZWNrYm94JykuYXR0cignc3JjJywgJ3N0YXRpYy9pbWFnZS9kaXJlY3Qtb3JkZXJzL211bHRpcGxlMi5wbmcnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coMilcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsICdzdGF0aWMvaW1hZ2UvZGlyZWN0LW9yZGVycy9tdWx0aXBsZTEucG5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXRzSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5wYWdlLXNlbGVjdGVkLW51bScpLmh0bWwoYXdhaXRzSW5kZXgpOy8v6YCJ5Lit5p2h5pWw5Li6MFxyXG4gICAgICAgICAgICAgICAgICAgICQoJy5hd2FpdGluZy1hbW91bnQtbW9uZXknKS50ZXh0KDAuMDApOy8v562J5b6F5LuY5qy+6YeR6aKd5Li6MFxyXG4gICAgICAgICAgICAgICAgICAgICQoJyNkZmstb3JkZXJzIC56Y2hlY2tib3gnKS5hdHRyKCdzcmMnLCAnc3RhdGljL2ltYWdlL2RpcmVjdC1vcmRlcnMvbXVsdGlwbGUxLnBuZycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgICAgIC8v5Y+W5raI6K6i5Y2VXHJcbiAgICAgICAgJHNjb3BlLmRlbGV0ZUZsYWcgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUuZGVsZXRGdW4gPSBmdW5jdGlvbiAoJGluZGV4LCBsaXN0TmFtZSwgJGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRpbmRleCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpc3ROYW1lKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJGV2ZW50KTtcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAkc2NvcGUuaXRlbUlkID0gbGlzdE5hbWUub3JkZXIuSUQ7XHJcbiAgICAgICAgICAgICRzY29wZS5pdGVtSW5kZXggPSAkaW5kZXg7XHJcbiAgICAgICAgICAgICRzY29wZS5pdGVtTW9uZXkgPSBsaXN0TmFtZS5vcmRlci5BTU9VTlRcclxuICAgICAgICAgICAgLy8gZHNwLmxvYWQoKTtcclxuICAgICAgICAgICAgdmFyICRjdXJlbnRPYmogPSAkKCRldmVudC5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKS5zaWJsaW5ncygnLm9yZGVyLXRpbWUnKS5jaGlsZHJlbignLnpjaGVja2JveCcpOy8v6I635Y+W6K+l6KGMXHJcbiAgICAgICAgICAgIC8vIC8vIGFsZXJ0KCQoJGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpLmh0bWwoKSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJGN1cmVudE9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5kZWxldGVTdXJlRnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsYXllci5sb2FkKDIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuaXRlbUluZGV4KVxyXG4gICAgICAgICAgICB2YXIgJGN1cmVudE9iaiA9ICQoJyNkZmstb3JkZXJzJykuZmluZCgnLnpjaGVja2JveCcpLmVxKCRzY29wZS5pdGVtSW5kZXgpOy8v6I635Y+W6K+l6KGMXHJcbiAgICAgICAgICAgIC8vIGFsZXJ0KCQoJGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpLmh0bWwoKSlcclxuICAgICAgICAgICAgdmFyIGN1c09yZElkID0gJHNjb3BlLm9yZGVyc0xpc3RbJHNjb3BlLml0ZW1JbmRleF0ub3JkZXIuT1JERVJfTlVNQkVSO1xyXG4gICAgICAgICAgICB2YXIgc2hvcFR5cGUxID0gJHNjb3BlLm9yZGVyc0xpc3RbJHNjb3BlLml0ZW1JbmRleF0ub3JkZXIuU1RPUkVfTkFNRTtcclxuICAgICAgICAgICAgLy8gdmFyIG9yZFR5cGVPYmogPSB7fTtcclxuICAgICAgICAgICAgLy8gb3JkVHlwZU9ialtjdXNPcmRJZF0gPSBzaG9wVHlwZTE7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG9yZFR5cGVPYmopXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRjdXJlbnRPYmopO1xyXG4gICAgICAgICAgICB2YXIgZGVsZXRlRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAvLyBkZWxldGVEYXRhLm9yZGVyVHlwZSA9IG9yZFR5cGVPYmo7XHJcbiAgICAgICAgICAgIGRlbGV0ZURhdGEub3JkZXJOdW1zID0gJHNjb3BlLml0ZW1JZDtcclxuICAgICAgICAgICAgZGVsZXRlRGF0YS50eXBlID0gMjtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGVsZXRlRGF0YSkpXHJcbiAgICAgICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvb3JkZXIvZGVsZXRlT3JkZXInLCBKU09OLnN0cmluZ2lmeShkZWxldGVEYXRhKSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEucmVzdWx0KVxyXG5cclxuICAgICAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKFwibG9hZGluZ1wiKVxyXG4gICAgICAgICAgICAgICAgLy8gYWxlcnQoZGF0YS5kYXRhLnJlc3VsdClcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVzdWx0ID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jYXJ0TnVtIC09IDE7Ly/otK3nianovabph4znmoTorqLljZXmlbDph4/lh4/ljrsxXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbE51bSA9ICRzY29wZS5jYW5jZWxOdW0gLSAwICsgMTsvL+WPlua2iOmHjOeahOiuouWNleaVsOWKoOS4ijFcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3JkZXJzTGlzdC5zcGxpY2UoJHNjb3BlLml0ZW1JbmRleCwgMSk7Ly/liKDpmaTor6XooYznmoTmlbDmja5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnROdW1iZXIgLT0gMTsvL+aAu+iuouWNleaVsOWHj+WOuzFcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FydEFtb3VudCA9ICgkc2NvcGUuY2FydEFtb3VudCAtICRzY29wZS5pdGVtTW9uZXkpLnRvRml4ZWQoMik7Ly/mgLvph5Hpop3lh4/ljrvor6XorqLljZXnmoTph5Hpop0gIOmAgumFjeaJuemHj+WIoOmZpFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxPcmROdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjZGZrLW9yZGVycyAuemNoZWNrYm94JykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdzcmMnKSA9PSAnc3RhdGljL2ltYWdlL2RpcmVjdC1vcmRlcnMvbXVsdGlwbGUyLnBuZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxPcmROdW0rKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbE9yZE51bSA9PSAkc2NvcGUuY291bnROdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNkZmstb3JkZXJzIC56Y2hlY2tlZC1hbGwnKS5hdHRyKCdzcmMnLCAnc3RhdGljL2ltYWdlL2RpcmVjdC1vcmRlcnMvbXVsdGlwbGUyLnBuZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMzAwKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkY3VyZW50T2JqLmF0dHIoJ3NyYycpID09ICdzdGF0aWMvaW1hZ2UvZGlyZWN0LW9yZGVycy9tdWx0aXBsZTIucG5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxsQW1vdW50ID0gKCQoJy5hd2FpdGluZy1hbW91bnQtbW9uZXknKS50ZXh0KCkucmVwbGFjZSgvLC9nLCBcIlwiKSAtIDApIC0gJHNjb3BlLml0ZW1Nb25leTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmF3YWl0aW5nLWFtb3VudC1tb25leScpLnRleHQoYWxsQW1vdW50LnRvRml4ZWQoMikpOy8v57uZ5oC76YeR6aKd6LWL5YC8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0c0luZGV4LS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF3YWl0c0luZGV4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsT3JkTnVtID0gJCgnLnBhZ2Utc2VsZWN0ZWQtbnVtJykudGV4dCgpIC0gMTsvL+mAieS4reeahOiuouWNlVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcucGFnZS1zZWxlY3RlZC1udW0nKS50ZXh0KHNlbE9yZE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKFwibG9hZGluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5tc2coJ0RlbGV0ZSBFcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUuZGVsZXRlUXhGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v57uZ56Gu5a6a5LuY5qy+55qE5oyJ6ZKu5re75Yqg6byg5qCH54K55Ye75o+Q5Lqk6K6i5Y2V5YiwZXJw5LqL5Lu2XHJcblxyXG5cclxuICAgICAgICAvL+WcsOWdgOS4jeWujOaVtOW8ueeql1xyXG4gICAgICAgICRzY29wZS5jaGVja0FkZHJlc3MgPSBmYWxzZVxyXG4gICAgICAgICRzY29wZS5jbG9zZUNoZWNrQWRkcmVzcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgJHNjb3BlLmNoZWNrQWRkcmVzc0xpc3QgPSBbXVxyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tBZGRyZXNzID0gZmFsc2VcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgJHNjb3BlLnNhdmVPcmRlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gJHNjb3BlLmFkZHJlc3NPcmRlckxpc3QgPSBbXVxyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tBZGRyZXNzID0gZmFsc2VcclxuICAgICAgICAgICAgaWYgKGZpbHRlclN1cHBpbGVyT3JkZXIoKSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzU2hvd1RpcHMgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KClcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRyZXNzT3JkZXJMaXN0ID0gW11cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN1cHBpbGVyT3JkZXJDb25maXJtKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2xvYWRpbmfliqDovb1cclxuICAgICAgICBsZXQgbG90dGllRG9tPW51bGw7XHJcbiAgICAgICAgZnVuY3Rpb24gY2VhdGVMb2FkaW5nKGlkKXtcclxuICAgICAgICAgICAgJHNjb3BlLmVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgIGlmKCRzY29wZS5lbGVtZW50IHx8ICRzY29wZS5lbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheT0nZmxleCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoISRzY29wZS5lbGVtZW50KSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmKCFsb3R0aWVEb20pIHtcclxuICAgICAgICAgICAgICAgIGxvdHRpZURvbSA9IGxvdHRpZS5sb2FkQW5pbWF0aW9uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6ICRzY29wZS5lbGVtZW50LCBcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlcjogJ3N2ZycsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL2VnZy9pbWFnZS9jal9sb3R0aWUuanNvbicgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVMb2FkaW5nKGlkKXtcclxuICAgICAgICAgICAgJHNjb3BlLmVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgIGlmKCRzY29wZS5lbGVtZW50KXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheT0nbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYobG90dGllRG9tKSB7XHJcbiAgICAgICAgICAgICAgIGxvdHRpZURvbS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbG90dGllRG9tPW51bGxcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNhcnRBbGxPcmRJZCA9ICcnOy8vY2FydOmHjOmdouaJgOacieimgeaPkOS6pOiuouWNleeahGlkXHJcbiAgICAgICAgLy8gdmFyIGNsaWNrSW5kZXggPSAwO1xyXG4gICAgICAgICQoJy5jb25maXJtLWJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNqT3JkZXJEYXRlID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTonMicsXHJcbiAgICAgICAgICAgICAgICBjak9yZGVyTnVtYmVyOiAkc2NvcGUuYWRkcmVzc09yZGVyTGlzdC5qb2luKCcsJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuYWRkcmVzc09yZGVyTGlzdC5qb2luKCcsJykpXHJcbiAgICAgICAgICAgIC8vIOagoemqjOiuouWNleWcsOWdgFxyXG4gICAgICAgICAgICBjZWF0ZUxvYWRpbmcoJ2FkZGNhcmRMb2FkJyk7XHJcbiAgICAgICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvYWRkcmVzcy9jaGVja0FkZHJlc3MnLEpTT04uc3RyaW5naWZ5KGNqT3JkZXJEYXRlKSxmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmRhdGEubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tBZGRyZXNzTGlzdCA9IHJlcy5kYXRhLmRhdGFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRzY29wZS50ZXh0RnVuID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKGkubXNnRW4pXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gbGlzdC5qb2luKCcsJylcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlzdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jaGVja0FkZHJlc3NMaXN0ICYmICRzY29wZS5jaGVja0FkZHJlc3NMaXN0Lmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrQWRkcmVzcyA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVMb2FkaW5nKCdhZGRjYXJkTG9hZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrQWRkcmVzcyA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyU3VwcGlsZXJPcmRlcigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzU2hvd1RpcHMgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTG9hZGluZygnYWRkY2FyZExvYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VwcGlsZXJPcmRlckNvbmZpcm0oKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVMb2FkaW5nKCdhZGRjYXJkTG9hZCcpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZW1vdmVMb2FkaW5nKCdhZGRjYXJkTG9hZCcpO1xyXG4gICAgICAgICAgICBjYXJ0QWxsT3JkSWQgPSAnJ1xyXG4gICAgICAgICAgICAgICAgJCgnI2R0ai1vcmRlcnMgLm9yZGVyLWRldGFpbCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmNoaWxkcmVuKCcub3JkZXItdGltZScpLmNoaWxkcmVuKCcuemNoZWNrYm94JykuYXR0cignc3JjJykgPT0gXCJzdGF0aWMvaW1hZ2UvZGlyZWN0LW9yZGVycy9tdWx0aXBsZTIucG5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/miYDmnInnmoTopoHmj5DkuqTorqLljZXnmoRpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJ0QWxsT3JkSWQgPSBjYXJ0QWxsT3JkSWQgKyAkKHRoaXMpLmNoaWxkcmVuKCcub3JkLWNhaScpLmNoaWxkcmVuKCcub3JkZXItaWQnKS50ZXh0KCkgKyAnLCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYXJ0QWxsT3JkSWQnLGNhcnRBbGxPcmRJZClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyDljp/mj5DkuqTku6PnoIHmir3lh7rmnaVcclxuICAgICAgICBmdW5jdGlvbiBzdXBwaWxlck9yZGVyQ29uZmlybSgpIHtcclxuICAgICAgICAgICAgLy/ov4fmu6TnvLrlpLHkv6Hmga/orqLljZVcclxuICAgICAgICAgICAgbGV0IG9yZGVyQXJyYXlMaXN0ID0gW11cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmNoZWNrQWRkcmVzc0xpc3QpXHJcbiAgICAgICAgICAgIGlmKCRzY29wZS5jaGVja0FkZHJlc3NMaXN0KXtcclxuICAgICAgICAgICAgICAgIGxldCBjYXJPcmRlckxpc3QgPSBjYXJ0QWxsT3JkSWQuc3BsaXQoJywnKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrQWRkcmVzc0xpc3QuZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihjYXJPcmRlckxpc3QuaW5jbHVkZXMoeC5vcmRlcklkKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhck9yZGVyTGlzdCA9IGNhck9yZGVyTGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtICE9PSB4Lm9yZGVySWQpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGlmKGNhck9yZGVyTGlzdC5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXJ0QWxsT3JkSWQgPSBjYXJPcmRlckxpc3Quam9pbignLCcpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGF3YWl0aW5nSnNvbiA9IHt9O1xyXG4gICAgICAgICAgICBhd2FpdGluZ0pzb24udXNlcklkID0gYnMuZGVjb2RlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKSk7XHJcbiAgICAgICAgICAgIGF3YWl0aW5nSnNvbi50b2tlbiA9IGJzLmRlY29kZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSk7XHJcbiAgICAgICAgICAgIGF3YWl0aW5nSnNvbi5kYXRhID0ge307XHJcbiAgICAgICAgICAgIC8vY2FydEFsbE9yZElkID0gJyc7XHJcbiAgICAgICAgICAgIC8vIOWQq+S+m+W6lOWVhuiuouWNleWBmumZkOWItlxyXG4gICAgICAgICAgICBpZiAoIWNhcnRBbGxPcmRJZCkge1xyXG4gICAgICAgICAgICAgICAgbGF5ZXIubXNnKCdQbGVhc2Ugc2VsZWN0IG9yZGVyKHMpIGZpcnN0IScpXHJcbiAgICAgICAgICAgICAgICBsYXllci5jbG9zZUFsbChcImxvYWRpbmdcIilcclxuICAgICAgICAgICAgICAgIHJlbW92ZUxvYWRpbmcoJ2FkZGNhcmRMb2FkJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3REYXRhID0gJHNjb3BlLm9yZGVyc0xpc3QuZmlsdGVyKGl0ZW0gPT4gY2FydEFsbE9yZElkLnNwbGl0KCcsJykuaW5jbHVkZXMoaXRlbS5vcmRlci5JRCkpO1xyXG4gICAgICAgICAgICBjb25zdCBjaGVja0ludmVuTGlzdCA9ICRzY29wZS5vcmRlcnNMaXN0LmZpbHRlcihpdGVtID0+IGNhcnRBbGxPcmRJZC5zcGxpdCgnLCcpLmluY2x1ZGVzKGl0ZW0ub3JkZXIuSUQpKTtcclxuICAgICAgICAgICAgbGV0IGNoZWNrSW52ZW5JZHMgPSAnJztcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNoZWNrSW52ZW5MaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tJbnZlbkxpc3RbaV0ub3JkZXIuT1JERVJTT1VSQ0VfVFlQRSAhPSAnNycgJiYgY2hlY2tJbnZlbkxpc3RbaV0ub3JkZXIuYXJlYUlkICE9PSAnMScpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGVja0ludmVuSWRzICs9IGNoZWNrSW52ZW5MaXN0W2ldLm9yZGVyLklEICsgJywnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmKGNoZWNrSW52ZW5MaXN0Lmxlbmd0aCl7XHJcbiAgICAgICAgICAgIC8vICAgZm9yKGxldCBpID0gMCxsZW4gPSBzZWxlY3REYXRhLmxlbmd0aDtpPGxlbjtpKyspe1xyXG4gICAgICAgICAgICAvLyAgICAgaWYoKXtcclxuICAgICAgICAgICAgLy8gICAgICAgY2hlY2tJbnZlbklkcyArPSBjaGVja0ludmVuTGlzdFtpXS5vcmRlci5JRCArICcsJztcclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gICB9XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2hlY2tJbnZlbkxpc3QpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoZWNrSW52ZW5JZHMpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdERhdGEpO1xyXG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBzZWxlY3REYXRhLnJlZHVjZSgocHJlLCBjdXIpID0+IE51bWJlcihjdXIub3JkZXIuQU1PVU5UKSArIHByZSwgMCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGFtb3VudCk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYXdhaXRpbmdKc29uLmRhdGEuYW1vdW50ID0gYW1vdW50LnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXRpbmdKc29uLmRhdGEud2VpZ2h0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXRpbmdKc29uLmRhdGEuY291bnQgPSBzZWxlY3REYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdGluZ0pzb24uZGF0YS5vcmRlck51bSA9IGNhcnRBbGxPcmRJZDtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0aW5nSnNvbi5kYXRhID0gSlNPTi5zdHJpbmdpZnkoYXdhaXRpbmdKc29uLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF3YWl0aW5nSnNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrSW52ZW5JZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHNwLnBvc3RGdW4oJ29yZGVyL29yZGVyL2NoZWNrSW52ZW50b3J5Jywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRzOiBjaGVja0ludmVuSWRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc0RhdGEgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzRGF0YS5zdGF0dXNDb2RlID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc1Nob3dUaXBzID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm9JbnZlbnRvcnlBcnIgPSByZXNEYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUubm9JbnZlbnRvcnlBcnIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ub0ludmVudG9yeUFyci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKFwibG9hZGluZ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVMb2FkaW5nKCdhZGRjYXJkTG9hZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRDb3V0ID0gY2FydEFsbE9yZElkLnNwbGl0KCcsJykubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRDb3V0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5vSW52ZW50b3J5QXJyLmxlbmd0aCA9PSBzZWxlY3RlZENvdXQpIHsvL+aJgOacieiuouWNlemDveayoeacieW6k+WtmOeahOaPkOekulxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIubXNnKCdJbnN1ZmZpY2llbnQgaW52ZW50b3J5LiBQbGVhc2Ugc2VsZWN0IG90aGVyIG9yZGVycyB0byBwYXkuJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsvL+mDqOWIhuacieW6k+WtmFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vSW52ZW50b3J5VGtGbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7Ly/pg73mnInlupPlrZhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2hpcG1lbnQoYXdhaXRpbmdKc29uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5kYXRhLnN0YXR1c0NvZGUgPT0gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yU2hvd0ZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBKU09OLnBhcnNlKGRhdGEuZGF0YS5yZXN1bHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvZ2lzdGljc1JlYXNvbkxpc3QgPSB0ZW1wLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkTnVtOiBpdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5kYXRhLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTG9hZGluZygnYWRkY2FyZExvYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTG9hZGluZygnYWRkY2FyZExvYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3AuY2pNZXNGdW4oMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2hpcG1lbnQoYXdhaXRpbmdKc29uKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5lcnJvclNob3dGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLmxvZ2lzdGljc1JlYXNvbkxpc3QgPSBbXVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVTaGlwbWVudChhd2FpdGluZ0pzb24pIHtcclxuICAgICAgICAgICAgbGV0IG9iaj0gSlNPTi5wYXJzZShhd2FpdGluZ0pzb24uZGF0YSlcclxuICAgICAgICAgICAgbGV0IG9yZGVyTnVtYmVycyA9IG9iai5vcmRlck51bS5zcGxpdCgnLCcpLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZS5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnb3JkZXJOdW1iZXJzJywgSlNPTi5zdHJpbmdpZnkob3JkZXJOdW1iZXJzKSlcclxuICAgICAgICAgICAgLy8gbG9jYXRpb24uaHJlZiA9ICcvbmV3bXljai9kcm9wc2hpcHBpbmcvb3JkZXJDb25maXJtYXRpb24nXHJcbiAgICAgICAgICAgIGRzcC5wb3N0RnVuKCdvcmRlci1jZW50ZXIvcHJveHlPcmRlci9zaG9wcGluZ0NhcnQvb3JkZXJBbW91bnRSZWZyZXNoJywge1xyXG4gICAgICAgICAgICAgICAgb3JkZXJDb2Rlczogb3JkZXJOdW1iZXJzLFxyXG4gICAgICAgICAgICB9LGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGRhdGEuZGF0YVxyXG4gICAgICAgICAgICAgICAgaWYocmVzLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL25ld215Y2ovZHJvcHNoaXBwaW5nL29yZGVyQ29uZmlybWF0aW9uJ1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5tc2cocmVzLm1lc3NhZ2UpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC8vIGRzcC5wb3N0RnVuKCdhcHAvb3JkZXIvY3JlYXRlU2hpcG1lbnRzT3JkZXInLCBKU09OLnN0cmluZ2lmeShhd2FpdGluZ0pzb24pLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhKVxyXG4gICAgICAgICAgICAvLyAgICAgcmVtb3ZlTG9hZGluZygnYWRkY2FyZExvYWQnKTtcclxuICAgICAgICAgICAgLy8gICAgIGlmIChkYXRhLmRhdGEuc3RhdHVzQ29kZSA9PSAyMDApIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBsb2NhdGlvbi5ocmVmID0gJyMvZHJvcHNoaXBwaW5nLW9yZGVycyc7XHJcbiAgICAgICAgICAgIC8vICAgICB9IGVsc2UgaWYgKGRhdGEuZGF0YS5zdGF0dXNDb2RlID09IDUwMDEpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBsb2NhdGlvbi5ocmVmID0gJyMvZHJvcHNoaXBwaW5nLW9yZGVycyc7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ29yZFplcm9UaXBzJywgZGF0YS5kYXRhLm1lc3NhZ2UpXHJcbiAgICAgICAgICAgIC8vICAgICB9IGVsc2UgaWYgKGRhdGEuZGF0YS5zdGF0dXNDb2RlID09IDUwMDIpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAkc2NvcGUuYWRkQ2FydFJlc29uRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgJHNjb3BlLmFkZENhcnRSZXNvblRleHQgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAkc2NvcGUucmVmZXJzaEZ1bigpXHJcbiAgICAgICAgICAgIC8vICAgICB9IGVsc2UgaWYgKGRhdGEuZGF0YS5zdGF0dXNDb2RlID09IDQwMCkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICRzY29wZS5lcnJvclNob3dGbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBjb25zdCB0ZW1wID0gSlNPTi5wYXJzZShkYXRhLmRhdGEucmVzdWx0KVxyXG4gICAgICAgICAgICAvLyAgICAgICAgICRzY29wZS5sb2dpc3RpY3NSZWFzb25MaXN0ID0gdGVtcC5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJlY29yZE51bTogaXRlbSxcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEuZGF0YS5tZXNzYWdlXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgICAgICB9KVxyXG4gICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBsYXllci5tc2coJ1N1Ym1pdCBmYWlsZWQnKTtcclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5zdXJlRGVsTm9JbnZlbnRvcnlPcmQgPSBmdW5jdGlvbiAoKSB7Ly/liKDpmaTms7Dlm73msqHmnInlupPlrZjnmoTorqLljZVcclxuICAgICAgICAgICAgdmFyIGF3YWl0aW5nSnNvbiA9IHt9O1xyXG4gICAgICAgICAgICBhd2FpdGluZ0pzb24udXNlcklkID0gYnMuZGVjb2RlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKSk7XHJcbiAgICAgICAgICAgIGF3YWl0aW5nSnNvbi50b2tlbiA9IGJzLmRlY29kZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSk7XHJcbiAgICAgICAgICAgIGF3YWl0aW5nSnNvbi5kYXRhID0ge307XHJcbiAgICAgICAgICAgIGxldCBkZWxBbW91bnRNb25leSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBzaGVuZ1l1Q291bnQgPSAwOy8v5Yig6Zmk5ZCO55qE5Ymp5L2Z5pWw6YePXHJcbiAgICAgICAgICAgIGxldCBzaGVuZ1l1SWRzID0gJyc7XHJcbiAgICAgICAgICAgICQoJyNkdGotb3JkZXJzIC5vcmRlci1kZXRhaWwnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmNoaWxkcmVuKCcub3JkZXItdGltZScpLmNoaWxkcmVuKCcuemNoZWNrYm94JykuYXR0cignc3JjJykgPT0gXCJzdGF0aWMvaW1hZ2UvZGlyZWN0LW9yZGVycy9tdWx0aXBsZTIucG5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+aJgOacieeahOimgeaPkOS6pOiuouWNleeahGlkXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW1MZXRJZCA9ICQodGhpcykuY2hpbGRyZW4oJy5vcmQtY2FpJykuY2hpbGRyZW4oJy5vcmRlci1pZCcpLnRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNOb0ludmVudG9yeUlkRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ub0ludmVudG9yeUFyci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSAkc2NvcGUubm9JbnZlbnRvcnlBcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtTGV0SWQgPT0gJHNjb3BlLm5vSW52ZW50b3J5QXJyW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOb0ludmVudG9yeUlkRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTm9JbnZlbnRvcnlJZEZsYWcpIHsvL+S4jeaYr+e8uuWwkeW6k+WtmOeahOiuouWNlVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkKHRoaXMpLmNoaWxkcmVuKCcub3JkZXItdGltZScpLmNoaWxkcmVuKCcuY2otYW1vdW50LW1vbmV5JykudGV4dCgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGVuZ1l1SWRzID0gc2hlbmdZdUlkcyArICQodGhpcykuY2hpbGRyZW4oJy5vcmQtY2FpJykuY2hpbGRyZW4oJy5vcmRlci1pZCcpLnRleHQoKSArICcsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsQW1vdW50TW9uZXkgKz0gJCh0aGlzKS5jaGlsZHJlbignLm9yZGVyLXRpbWUnKS5jaGlsZHJlbignLmNqLWFtb3VudC1tb25leScpLnRleHQoKSAtIDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hlbmdZdUNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhcnRBbGxPcmRJZCA9Y2FydEFsbE9yZElkKyQodGhpcykuY2hpbGRyZW4oJy5vcmQtY2FpJykuY2hpbGRyZW4oJy5vcmRlci1pZCcpLnRleHQoKSsnLCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkZWxBbW91bnRNb25leSlcclxuICAgICAgICAgICAgZGVsQW1vdW50TW9uZXkgPSAoZGVsQW1vdW50TW9uZXkgLSAwKS50b0ZpeGVkKDIpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRlbEFtb3VudE1vbmV5KVxyXG4gICAgICAgICAgICBhd2FpdGluZ0pzb24uZGF0YS5hbW91bnQgPSBkZWxBbW91bnRNb25leSArICcnO1xyXG4gICAgICAgICAgICBhd2FpdGluZ0pzb24uZGF0YS53ZWlnaHQgPSAnJztcclxuICAgICAgICAgICAgYXdhaXRpbmdKc29uLmRhdGEuY291bnQgPSBzaGVuZ1l1Q291bnQ7XHJcbiAgICAgICAgICAgIGF3YWl0aW5nSnNvbi5kYXRhLm9yZGVyTnVtID0gc2hlbmdZdUlkcztcclxuICAgICAgICAgICAgYXdhaXRpbmdKc29uLmRhdGEgPSBKU09OLnN0cmluZ2lmeShhd2FpdGluZ0pzb24uZGF0YSk7XHJcbiAgICAgICAgICAgIGNyZWF0ZVNoaXBtZW50KGF3YWl0aW5nSnNvbilcclxuICAgICAgICAgICAgLy8gZHNwLnBvc3RGdW4oJ2FwcC9vcmRlci9jcmVhdGVTaGlwbWVudHNPcmRlcicsIEpTT04uc3RyaW5naWZ5KGF3YWl0aW5nSnNvbiksIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEpXHJcbiAgICAgICAgICAgIC8vICAgICBsYXllci5jbG9zZUFsbChcImxvYWRpbmdcIilcclxuICAgICAgICAgICAgLy8gICAgIHJlbW92ZUxvYWRpbmcoJ2FkZGNhcmRMb2FkJyk7XHJcbiAgICAgICAgICAgIC8vICAgICBpZiAoZGF0YS5kYXRhLnN0YXR1c0NvZGUgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcjL2Ryb3BzaGlwcGluZy1vcmRlcnMnO1xyXG4gICAgICAgICAgICAvLyAgICAgfSBlbHNlIGlmIChkYXRhLmRhdGEuc3RhdHVzQ29kZSA9PSA1MDAxKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcjL2Ryb3BzaGlwcGluZy1vcmRlcnMnO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdvcmRaZXJvVGlwcycsIGRhdGEuZGF0YS5tZXNzYWdlKVxyXG4gICAgICAgICAgICAvLyAgICAgfSBlbHNlIGlmIChkYXRhLmRhdGEuc3RhdHVzQ29kZSA9PSA1MDAyKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgJHNjb3BlLmFkZENhcnRSZXNvbkZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICRzY29wZS5hZGRDYXJ0UmVzb25UZXh0ID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgJHNjb3BlLnJlZmVyc2hGdW4oKVxyXG4gICAgICAgICAgICAvLyAgICAgfSBlbHNlIGlmIChkYXRhLmRhdGEuc3RhdHVzQ29kZSA9PSA0MDApIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAkc2NvcGUuZXJyb3JTaG93RmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgY29uc3QgdGVtcCA9IEpTT04ucGFyc2UoZGF0YS5kYXRhLnJlc3VsdClcclxuICAgICAgICAgICAgLy8gICAgICAgICAkc2NvcGUubG9naXN0aWNzUmVhc29uTGlzdCA9IHRlbXAubWFwKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICByZWNvcmROdW06IGl0ZW0sXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkYXRhLmRhdGEubWVzc2FnZVxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgbGF5ZXIubXNnKCdTdWJtaXQgZmFpbGVkJyk7XHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v57uZ6KKr5Yig6Zmk55qE6K6i5Y2V5re75Yqg5by55qGGXHJcbiAgICAgICAgJHNjb3BlLnNob3dkZWxGdW4gPSBmdW5jdGlvbiAoZXYsIGluZGV4LCBpdGVtKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnNob3BPcmRlclN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgJCgnLmRjbC1vcmQtdGJvZHknKS5lcShpbmRleCkuZmluZCgnLmhhc2RlbC1jb24nKS5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gJCgnLmRjbC1vcmQtdGJvZHknKS5lcShpbmRleCkuZmluZCgnLmhhc2RlbC1jb24nKS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5oaWRlZGVsRnVuID0gZnVuY3Rpb24gKGV2LCBpbmRleCkge1xyXG4gICAgICAgICAgICAkKCcuZGNsLW9yZC10Ym9keScpLmVxKGluZGV4KS5maW5kKCcuaGFzZGVsLWNvbicpLmhpZGUoKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaW5kZXgpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUuSGFzZGVsZXRlU3VyZUZ1biA9IGZ1bmN0aW9uIChpbmRleCwgaXRlbSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuaXNkZWxoYXNGbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgJHNjb3BlLmhhc0luZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgICRzY29wZS5oYXNJdGVtSWQgPSBpdGVtLklEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUuc3VyZWRIYXNGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxheWVyLmxvYWQoMilcclxuICAgICAgICAgICAgJHNjb3BlLmlzZGVsaGFzRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgZGVsZXRlRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICBkZWxldGVEYXRhLm9yZGVyTnVtcyA9ICRzY29wZS5oYXNJdGVtSWQ7XHJcbiAgICAgICAgICAgIGRlbGV0ZURhdGEudHlwZSA9IDI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRlbGV0ZURhdGEpKVxyXG4gICAgICAgICAgICBkc3AucG9zdEZ1bignYXBwL29yZGVyL2RlbGV0ZU9yZGVyJywgSlNPTi5zdHJpbmdpZnkoZGVsZXRlRGF0YSksIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnJlc3VsdCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3Quc3BsaWNlKCRzY29wZS5oYXNJbmRleCwgMSlcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5tc2coJ0RlbGV0ZSBTdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKFwibG9hZGluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5tc2coJ0RlbGV0ZSBFcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL+aBouWkjeiuouWNlVxyXG4gICAgICAgICRzY29wZS5rZWVwT3JkRnVuID0gZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5pc2tlZXBoYXNGbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgJHNjb3BlLmhhc0luZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgICRzY29wZS5oYXNJdGVtSWQgPSBpdGVtLklEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUuc3VyZWtlZXBIYXNGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxheWVyLmxvYWQoMilcclxuICAgICAgICAgICAgJHNjb3BlLmlza2VlcGhhc0ZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGRlbGV0ZURhdGEgPSB7fTtcclxuICAgICAgICAgICAgZGVsZXRlRGF0YS5pZCA9ICRzY29wZS5oYXNJdGVtSWQ7XHJcbiAgICAgICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvb3JkZXIvY29udGludWVPcmRlcicsIEpTT04uc3RyaW5naWZ5KGRlbGV0ZURhdGEpLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgICAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKFwibG9hZGluZ1wiKVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5yZXN1bHQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3RbJHNjb3BlLmhhc0luZGV4XS5vcmRlci5zaG9wT3JkZXJTdGF0dXMgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5tc2coJ0tlZXAgU3VjY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5jbG9zZUFsbChcImxvYWRpbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIubXNnKCdLZWVwIEVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5uYXZMaXN0ID0gW1xyXG4gICAgICAgICAgICB7bmFtZTogJ1Byb2Nlc3MgUmVxdWlyZWQnLCBocmVmOiBcIiMvZGlyZWN0LW9yZGVyc1wifSxcclxuICAgICAgICAgICAge25hbWU6ICdDYXJ0JywgaHJlZjogXCIjL2ltcC1jYXJ0XCIsIHNob3c6IHRydWV9LFxyXG4gICAgICAgICAgICB7bmFtZTogJ0luY29tcGxldGUgT3JkZXJzJywgaHJlZjogXCIjL2ltcC1pbmNvbXBcIn0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnQ2FuY2VsZWQnLCBocmVmOiBcIiMvaW1wLWNhbmNlbFwifSxcclxuICAgICAgICAgICAge25hbWU6ICdTZWFyY2ggQWxsJywgaHJlZjogXCIjL3NlYXJjaC1hbGxcIn0sXHJcbiAgICAgICAgICAgIHtuYW1lOiAnU3RvcmUgT3JkZXJzJywgaHJlZjogXCIjL0F1dGhvcml6ZU9yZGVyXCJ9LFxyXG4gICAgICAgIF1cclxuICAgICAgICAvLyQoJy5kaXJlY3QtbGVmdGJhcmEnKS5lcSgwKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCdsaW5lYXItZ3JhZGllbnQoMGRlZyxyZ2JhKDI1MywgMTYyLCA0NCwgMSkgMCUsIHJnYmEoMjQ3LCAxNDAsIDQxLCAxKSA3OCUsIHJnYmEoMjQxLCAxMTgsIDM3LCAxKSAxMDAlKScpO1xyXG4gICAgICAgICQoJy5kaXJlY3QtbGVmdGJhcmEnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJy5kaXJlY3QtbGVmdGJhcmEnKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAnJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ2xpbmVhci1ncmFkaWVudCgwZGVnLHJnYmEoMjUzLCAxNjIsIDQ0LCAxKSAwJSwgcmdiYSgyNDcsIDE0MCwgNDEsIDEpIDc4JSwgcmdiYSgyNDEsIDExOCwgMzcsIDEpIDEwMCUpJyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyDlt6bkvqfnmoTlr7zoiKrmt7vliqDmu5rliqjkuovku7ZcclxuICAgICAgICAkKGRvY3VtZW50KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPj0gODApIHtcclxuICAgICAgICAgICAgICAgICQoJy5sZWZ0LW5hdicpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAnODBweCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLmxlZnQtbGlzdCcpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAnMCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvL+aYvuekuuWkp+WbvlxyXG4gICAgICAgICQoJy5vcmRlcnMtdGFibGUnKS5vbignbW91c2VlbnRlcicsICcuc3Atc21hbGxpbWcnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuc2libGluZ3MoJy5oaWRlLWJpZ2ltZycpLnNob3coKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICQoJy5vcmRlcnMtdGFibGUnKS5vbignbW91c2VlbnRlcicsICcuaGlkZS1iaWdpbWcnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuc2hvdygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgJCgnLm9yZGVycy10YWJsZScpLm9uKCdtb3VzZWxlYXZlJywgJy5zcC1zbWFsbGltZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLmhpZGUtYmlnaW1nJykuaGlkZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgJCgnLm9yZGVycy10YWJsZScpLm9uKCdtb3VzZWxlYXZlJywgJy5oaWRlLWJpZ2ltZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy/lhajpg6jlsZXlvIDpmpDol49cclxuICAgICAgICAkKCcuc2hvd3NwLWltZycpLm1vdXNlZW50ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdzcmMnKSA9PSAnc3RhdGljL2ltYWdlL3B1YmxpYy1pbWcvdXAucG5nJykge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdzcmMnLCAnc3RhdGljL2ltYWdlL3B1YmxpYy1pbWcvdXAtaG92ZXIucG5nJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5hdHRyKCdzcmMnKSA9PSAnc3RhdGljL2ltYWdlL3B1YmxpYy1pbWcvZG93bi5wbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy9kb3duLWhvdmVyLnBuZycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAkKCcuc2hvd3NwLWltZycpLm1vdXNlbGVhdmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdzcmMnKSA9PSAnc3RhdGljL2ltYWdlL3B1YmxpYy1pbWcvdXAtaG92ZXIucG5nJykge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdzcmMnLCAnc3RhdGljL2ltYWdlL3B1YmxpYy1pbWcvdXAucG5nJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5hdHRyKCdzcmMnKSA9PSAnc3RhdGljL2ltYWdlL3B1YmxpYy1pbWcvZG93bi1ob3Zlci5wbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy9kb3duLnBuZycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgJCgnLnNob3dzcC1pbWcnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ3NyYycpID09ICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy91cC1ob3Zlci5wbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy9kb3duLWhvdmVyLnBuZycpO1xyXG4gICAgICAgICAgICAgICAgJCgnLm9yZGVycy10YWJsZSAuZC10b2dnbGUtdHInKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAkKCcub3JkZXJzLXRhYmxlIC5vcmRlci1kZXRhaWwnKS5hZGRDbGFzcygnb3JkZXItY2xpY2stYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5hdHRyKCdzcmMnKSA9PSAnc3RhdGljL2ltYWdlL3B1YmxpYy1pbWcvZG93bi1ob3Zlci5wbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy91cC1ob3Zlci5wbmcnKTtcclxuICAgICAgICAgICAgICAgICQoJy5vcmRlcnMtdGFibGUgLmQtdG9nZ2xlLXRyJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnLm9yZGVycy10YWJsZSAub3JkZXItZGV0YWlsJykucmVtb3ZlQ2xhc3MoJ29yZGVyLWNsaWNrLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvL+m8oOagh+WIkui/h+S6i+S7tlxyXG4gICAgICAgIC8v54K55Ye75LqL5Lu2XHJcbiAgICAgICAgJCgnLm9yZGVycy10YWJsZScpLm9uKCdjbGljaycsICcub3JkZXItZGV0YWlsJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmICgkKGV2ZW50LnRhcmdldCkuaGFzQ2xhc3MoJ3pjaGVja2JveCcpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ29yZGVyLWNsaWNrLWFjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm5leHQoKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdvcmRlci1jbGljay1hY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIC8vJCgnLm9yZGVycy10YWJsZSAub3JkZXItZGV0YWlsJykucmVtb3ZlQ2xhc3MoJ29yZGVyLWNsaWNrLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gJCgnLm9yZGVycy10YWJsZSAuZC10b2dnbGUtdHInKS5oaWRlKCk7Ly/pmpDol4/miYDmnInnmoTllYblk4FcclxuICAgICAgICAgICAgICAgICQodGhpcykubmV4dCgpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIC8vICQoJy5vcmRlcnMtdGFibGUgLm9yZGVyLWRldGFpbCcpLnJlbW92ZUNsYXNzKCdvcmRlci1jbGljay1hY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ29yZGVyLWNsaWNrLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAkKCcub3JkZXJzLXRhYmxlJykub24oJ2NsaWNrJywgJy5kLXRvZ2dsZS10cicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnNob3coKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wcmV2KCkuYWRkQ2xhc3MoJ29yZGVyLWNsaWNrLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAvLyBpZiAoJCh0aGlzKS5wcmV2KCkuaGFzQ2xhc3MoJ29yZGVyLWNsaWNrLWFjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIC8vIFx0JCh0aGlzKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIC8vIFx0JCh0aGlzKS5wcmV2KCkucmVtb3ZlQ2xhc3MoJ29yZGVyLWNsaWNrLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBcdCQodGhpcykuc2hvdygpO1xyXG4gICAgICAgICAgICAvLyBcdCQodGhpcykucHJldigpLmFkZENsYXNzKCdvcmRlci1jbGljay1hY3RpdmUnKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy8g6K6i5Y2VXHJcbiAgICAgICAgJCgnLm9yZGVycy10YWJsZScpLm9uKCdtb3VzZWVudGVyJywgJy5vcmRlci1kZXRhaWw+dGQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIGlmKCQodGhpcykuaGFzQ2xhc3MoJ29yZGVyLXRpbWUnKSl7XHJcbiAgICAgICAgICAgIC8vIFx0cmV0dXJuXHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgLy8gJCh0aGlzKS5wYXJlbnQoKS5uZXh0KCkuc2hvdygpO1xyXG4gICAgICAgICAgICAvLyAkKCcub3JkZXJzLXRhYmxlIC5vcmRlci1kZXRhaWwnKS5yZW1vdmVDbGFzcygnb3JkZXItZGV0YWlsLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAvLyAkKHRoaXMpLmFkZENsYXNzKCdvcmRlci1kZXRhaWwtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdvcmRlci10aW1lJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCkubmV4dCgpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnLm9yZGVycy10YWJsZSAub3JkZXItZGV0YWlsJykucmVtb3ZlQ2xhc3MoJ29yZGVyLWRldGFpbC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnb3JkZXItZGV0YWlsLWFjdGl2ZScpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgJCgnLm9yZGVycy10YWJsZScpLm9uKCdtb3VzZWxlYXZlJywgJy5vcmRlci1kZXRhaWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdvcmRlci1jbGljay1hY3RpdmUnKSkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5uZXh0KCkuc2hvdygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5uZXh0KCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvL+WVhuWTgVxyXG4gICAgICAgICQoJy5vcmRlcnMtdGFibGUnKS5vbignbW91c2VlbnRlcicsICcuZC10b2dnbGUtdHInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuc2hvdygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgJCgnLm9yZGVycy10YWJsZScpLm9uKCdtb3VzZWxlYXZlJywgJy5kLXRvZ2dsZS10cicsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLnByZXYoKS5oYXNDbGFzcygnb3JkZXItY2xpY2stYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuc2hvdygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vdGFibGVcclxuICAgICAgICAkKCcub3JkZXJzLXRhYmxlJykubW91c2VsZWF2ZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJy5vcmRlcnMtdGFibGUgLm9yZGVyLWRldGFpbCcpLnJlbW92ZUNsYXNzKCdvcmRlci1kZXRhaWwtYWN0aXZlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8v57uZ5pu05aSa5pCc57Si5re75Yqg54K55Ye75pi+56S66ZqQ6JeP55qE5Yqo55S7XHJcbiAgICAgICAgJCgnI2RpdGVjdC1zZWFyY2htb3JlJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKCcjZGl0ZWN0LW1vcmVzZWFyY2gnKS5zdG9wKCkudG9nZ2xlKDMwMCk7XHJcbiAgICAgICAgICAgIC8vIGRlYnVnZ2VyO1xyXG4gICAgICAgICAgICAkKCcjdG9nZ2xlLWxvZ28xJykudG9nZ2xlQ2xhc3MoJy5nbHlwaGljb24gZ2x5cGhpY29uLXRyaWFuZ2xlLXRvcCcpO1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmNvdW50TnVtYmVyIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgJCgnI2R0ai1vcmRlcnMnKS5jc3MoJ21pbi1oZWlnaHQnLCAkKCcuY2otbm9kYXRhLXBpYycpLmhlaWdodCgpICsgNTApXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkKCcjZHRqLW9yZGVycycpLmhlaWdodCgpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8v57uZ5bem5L6n55qE5a+86Iiq5re75Yqg5rua5Yqo5LqL5Lu2XHJcbiAgICAgICAgJChkb2N1bWVudCkuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID49IDApIHtcclxuICAgICAgICAgICAgICAgICQoJy5sZWZ0LW5hdicpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAnODBweCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnLmxlZnQtbmF2JykuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6ICc4MHB4J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgLy/pq5jnuqfmkJzntKLpg6jliIbnmoTmn6Xor6JcclxuICAgICAgICAkKCcjdGotc2VhcmNoLWJ0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgZHNwLmxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpLCAkKHdpbmRvdykuaGVpZ2h0KCkgLSAxNzEsIDQ3LCAwKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvckRhdGEgPSB7fTtcclxuICAgICAgICAgICAgdGpGdW4ob3JEYXRhKVxyXG4gICAgICAgICAgICBvckRhdGEuZGF0YSA9IEpTT04uc3RyaW5naWZ5KG9yRGF0YS5kYXRhKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhvckRhdGEuZGF0YSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkob3JEYXRhKSlcclxuICAgICAgICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9vcmRlci9xdWVyeU9yZGVycycsIEpTT04uc3RyaW5naWZ5KG9yRGF0YSksIGRjbHNGdW4sIGRjbGVGdW4pXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkY2xzRnVuKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YSlcclxuICAgICAgICAgICAgICAgIHZhciBsaXN0MSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAvLyAkc2NvcGUubGlzdCA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubGlzdCA9IEpTT04ucGFyc2UobGlzdDEpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmxpc3QpXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkc2NvcGUubGlzdC5wcm9kdWN0TGlzdCk7XHJcbiAgICAgICAgICAgICAgICAvLyAvLyAkc2NvcGUuYWFhYSA9ICRzY29wZS5saXN0LnByb2R1Y3RMaXN0O1xyXG4gICAgICAgICAgICAgICAgLy8gLy8gY29uc29sZS5sb2coJHNjb3BlLmFhYWEpO1xyXG4gICAgICAgICAgICAgICAgLy8gJHNjb3BlLm9yZGVyTGlzdCA9ICRzY29wZS5saXN0Lm9yZGVyTGlzdDsvL+iuouWNleWIl+ihqFxyXG4gICAgICAgICAgICAgICAgLy8gJHNjb3BlLnByb2R1Y3RMaXN0ID0gJHNjb3BlLmxpc3QucHJvZHVjdExpc3Q7Ly/kuqflk4HliJfooahcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCRzY29wZS5vcmRlckxpc3QpXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkc2NvcGUucHJvZHVjdExpc3QpXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkc2NvcGUucHJvZHVjdExpc3QpO1xyXG4gICAgICAgICAgICAgICAgLy8gJHNjb3BlLmxpc3QuY291bnROdW1iZXIgPSAkc2NvcGUubGlzdC5jb3VudE51bWJlcjsvL+iOt+WPluaAu+iuouWNleeahOadoeaVsFxyXG4gICAgICAgICAgICAgICAgLy8gJHNjb3BlLnBjb3VudE4gPSAkc2NvcGUubGlzdC5jb3VudE51bWJlcjsvL+iOt+WPluaAu+iuouWNleeahOadoeaVsFxyXG4gICAgICAgICAgICAgICAgLy8gYWxlcnQoJHNjb3BlLnBjb3VudE4pXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3JkZXJzTGlzdCA9ICRzY29wZS5saXN0Lm9yZGVyc0xpc3Q7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUub3JkZXJzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY291bnROdW1iZXIgPSAkc2NvcGUubGlzdC5jb3VudE51bWJlcjsvL+aAu+adoeaVsFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhcnRBbW91bnQgPSAkc2NvcGUubGlzdC5hbGxBbW91bnQ7Ly/mgLvph5Hpop1cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY291bnROdW1iZXIgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHNwLnJlbW92ZU5vZGF0YVBpYygkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICAgICAgICAgICAgICBkc3AuY2xvc2VMb2FkUGVyY2VudCgkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHNwLmFkZE5vZGF0YVBpYygkKCcub3JkZXJzLWxpc3QnKSwgJCh3aW5kb3cpLmhlaWdodCgpIC0gMTcxLCA0NywgMCwge3dpZHRoOiAnMTAwJSd9LHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgZHNwLmNsb3NlTG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JykpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXJ0U2Nyb2xsKCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkY2xlRnVuKCkge1xyXG4gICAgICAgICAgICAgICAgZHNwLmNsb3NlTG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JykpXHJcbiAgICAgICAgICAgICAgICBkc3AuY2pNZXNGdW4oMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvL+eUqOiuouWNleWPt+aQnOe0oiBvcmRlck51bWJlclxyXG4gICAgICAgICQoJy5vcmQtc2VhcmNoLWlucCcpLmtleXByZXNzKGZ1bmN0aW9uIChFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoRXZlbnQua2V5Q29kZSA9PSAxMykge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9yZG51bVNlYXJjaCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAkc2NvcGUub3JkbnVtU2VhcmNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuYWRkcmVzc09yZGVyTGlzdCA9IFtdXHJcbiAgICAgICAgICAgICRzY29wZS5vcmRlcnNMaXN0ID0gW107XHJcbiAgICAgICAgICAgIGRzcC5sb2FkUGVyY2VudCgkKCcub3JkZXJzLWxpc3QnKSwgJCh3aW5kb3cpLmhlaWdodCgpIC0gMTcxLCA0NywgMCk7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2hpbnBWYWwgPSAkKCcub3JkLXNlYXJjaC1pbnAnKS52YWwoKTtcclxuICAgICAgICAgICAgdmFyIG9yRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICB0akZ1bihvckRhdGEpXHJcbiAgICAgICAgICAgIG9yRGF0YS5kYXRhID0gSlNPTi5zdHJpbmdpZnkob3JEYXRhLmRhdGEpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG9yRGF0YS5kYXRhKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShvckRhdGEpKVxyXG4gICAgICAgICAgICAvLyBhbGVydChpbnBWYWwpXHJcbiAgICAgICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvb3JkZXIvcXVlcnlPcmRlcnMnLCBKU09OLnN0cmluZ2lmeShvckRhdGEpLCBkY2xzRnVuLCBkY2xlRnVuKVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZGNsc0Z1bihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdDEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxpc3QgPSBKU09OLnBhcnNlKGxpc3QxKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5saXN0KVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3QgPSAkc2NvcGUubGlzdC5vcmRlcnNMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3QuZm9yRWFjaChpdGVtID0+ICRzY29wZS5hZGRyZXNzT3JkZXJMaXN0LnB1c2goaXRlbS5vcmRlci5JRCkpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY291bnROdW1iZXIgPSAkc2NvcGUubGlzdC5jb3VudE51bWJlcjsvL+aAu+adoeaVsFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhcnRBbW91bnQgPSAkc2NvcGUubGlzdC5hbGxBbW91bnQ7Ly/mgLvph5Hpop1cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY291bnROdW1iZXIgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHNwLnJlbW92ZU5vZGF0YVBpYygkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICAgICAgICAgICAgICBkc3AuY2xvc2VMb2FkUGVyY2VudCgkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHNwLmFkZE5vZGF0YVBpYygkKCcub3JkZXJzLWxpc3QnKSwgJCh3aW5kb3cpLmhlaWdodCgpIC0gMTcxLCA0NywgMCwge3dpZHRoOiAnMTAwJSd9LHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgZHNwLmNsb3NlTG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JykpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXJ0U2Nyb2xsKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRjbGVGdW4oKSB7XHJcbiAgICAgICAgICAgICAgICBkc3AuY2xvc2VMb2FkUGVyY2VudCgkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKFwibG9hZGluZ1wiKVxyXG4gICAgICAgICAgICAgICAgZHNwLmNqTWVzRnVuKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY2rllYblk4HlkI3lrZfot7PovazliLBjauivpuaDhemhtVxyXG4gICAgICAgICRzY29wZS5jamRldGFpbGhyZWYgPSBmdW5jdGlvbiAob3JkaXRlbSwgc3BpdGVtKSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHNwaXRlbS5jalByb2R1Y3RJZDtcclxuICAgICAgICAgICAgd2luZG93Lm9wZW4oJ3Byb2R1Y3QtZGV0YWlsLmh0bWw/aWQ9JyArIGlkKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL+WVhuWTgeWQjeWtl+i3s+i9rOWuouaIt+WQjuWPsFxyXG4gICAgICAgICRzY29wZS5ocmVmRnVuID0gZnVuY3Rpb24gKG9yZGl0ZW0sIHNwaXRlbSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhvcmRpdGVtLlNUT1JFX05BTUUpXHJcbiAgICAgICAgICAgIHZhciBzdG9yZU5hbWUgPSBvcmRpdGVtLlNUT1JFX05BTUU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNwaXRlbS5wcm9kdWN0X2lkKVxyXG4gICAgICAgICAgICB2YXIgcHJvZHVjdElkID0gc3BpdGVtLnByb2R1Y3RfaWQ7XHJcbiAgICAgICAgICAgIGlmIChzdG9yZU5hbWUgPT0gXCJFeGNlbCBJbXBvcnRlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cub3BlbignaHR0cHM6Ly8nICsgc3RvcmVOYW1lICsgJy5teXNob3BpZnkuY29tL2FkbWluL3Byb2R1Y3RzLycgKyBwcm9kdWN0SWQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy/mibnph4/lj5bmtohcclxuICAgICAgICAkc2NvcGUuYWRkVG9DYW5jZWxGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxheWVyLmxvYWQoMik7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3ROdW0gPSAwOy8v5a2Y5YKo6KKr6YCJ5Lit55qE5p2h5pWwXHJcbiAgICAgICAgICAgICQoJyNkZmstb3JkZXJzIC56Y2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uICgpIHsvL+eCueWHu+aPkOS6pOeahOaXtuWAmeWOu+W+queOr+afpeaJvumAieS4reeahOiuouWNlVxyXG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignc3JjJykgPT0gJ3N0YXRpYy9pbWFnZS9kaXJlY3Qtb3JkZXJzL211bHRpcGxlMi5wbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0TnVtKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3ROdW0gPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcbiAgICAgICAgICAgICAgICBsYXllci5tc2coJ1BsZWFzZSBzZWxlY3Qgb3JkZXIocykgZmlyc3QhJylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYXllci5vcGVuKHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiPHA+WW91IGFyZSBhZGRpbmcgb3JkZXJzIHRvIENhbmNlbGVkLjwvcD48cD5PcmRlciBRdWFudGl0eTogIDxzcGFuIGlkPSdhd2EtZGNsLW51bSc+PC9zcGFuPjwvcD5cIixcclxuICAgICAgICAgICAgICAgIGFyZWE6IFsnNDgwcHgnLCAnMjYwcHgnXSxcclxuICAgICAgICAgICAgICAgIGNsb3NlQnRuOiAwLFxyXG4gICAgICAgICAgICAgICAgLy8gc2hhZGVDbG9zZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIk9yZGVyIENhbmNlbGxhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgc2tpbjogXCJcIixcclxuICAgICAgICAgICAgICAgIGJ0bjogWydDYW5jZWwnLCAnQ29uZmlybSddLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGxheWVybywgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGxheWVybykuZmluZCgnI2F3YS1kY2wtbnVtJykuaHRtbChzZWxlY3ROdW0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHllczogZnVuY3Rpb24gKGluZGV4LCBsYXllcm8pIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5jbG9zZShpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYnRuMjogZnVuY3Rpb24gKGluZGV4LCBsYXllcm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyDngrnlh7vmj5DkuqTmjInpkq7ph43mlrDlj5HpgIHor7fmsYJcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FuY2VsRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW5jZWxJZCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBvcmRUeXBlT2JqID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNkZmstb3JkZXJzIC56Y2hlY2tib3hcIikuZWFjaChmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdzcmMnKSA9PSAnc3RhdGljL2ltYWdlL2RpcmVjdC1vcmRlcnMvbXVsdGlwbGUyLnBuZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbElkICs9ICQodGhpcykubmV4dCgpLnRleHQoKSArICcsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBjdXNPcmRJZCA9ICQodGhpcykucGFyZW50KCkuc2libGluZ3MoJy5vcmRlci1udW0tdGQnKS5jaGlsZHJlbignLmN1cy1vcmR0ZXh0JykudGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHNob3BUeXBlMSA9ICQodGhpcykucGFyZW50KCkuc2libGluZ3MoJy5vcmQtY2FpJykuY2hpbGRyZW4oJy5zdG9yZS1uYW1lLXAnKS50ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvcmRUeXBlT2JqW2N1c09yZElkXSA9IHNob3BUeXBlMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY2FuY2VsSWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FuY2VsRGF0YS5vcmRlclR5cGUgPSBvcmRUeXBlT2JqO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbERhdGEub3JkZXJOdW1zID0gY2FuY2VsSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsRGF0YS50eXBlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhvckRhdGEuZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShvckRhdGEpKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGNhbmNlbERhdGEpKVxyXG4gICAgICAgICAgICAgICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvb3JkZXIvZGVsZXRlT3JkZXInLCBKU09OLnN0cmluZ2lmeShjYW5jZWxEYXRhKSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxlcnQoJ2NoZW5nZ29uZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5yZXN1bHQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxlcnQoJ3pvdScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAkKCcjZGZrLW9yZGVycyAuemNoZWNrYm94JykuZWFjaChmdW5jdGlvbiAoaSkgey8v54K55Ye75o+Q5Lqk55qE5pe25YCZ5Y675b6q546v5p+l5om+6YCJ5Lit55qE6K6i5Y2VXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcdGlmICgkKHRoaXMpLmF0dHIoJ3NyYycpPT0nc3RhdGljL2ltYWdlL2RpcmVjdC1vcmRlcnMvbXVsdGlwbGUyLnBuZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFx0XHQvLyAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gXHRcdGNvbnNvbGUubG9nKGkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcdFx0Y29uc29sZS5sb2coJHNjb3BlLm9yZGVyc0xpc3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcdFx0JHNjb3BlLm9yZGVyc0xpc3Quc3BsaWNlKGksMSk7Ly/liKDpmaTor6XooYznmoTmlbDmja5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFx0XHRjb25zb2xlLmxvZygkc2NvcGUub3JkZXJzTGlzdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFx0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0TGVuZ3RoID0gJCgnI2Rmay1vcmRlcnMgLnpjaGVja2JveCcpLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBsaXN0TGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCgnI2Rmay1vcmRlcnMgLnpjaGVja2JveCcpLmVxKGkpLmF0dHIoJ3NyYycpID09ICdzdGF0aWMvaW1hZ2UvZGlyZWN0LW9yZGVycy9tdWx0aXBsZTIucG5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkc2NvcGUub3JkZXJzTGlzdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3Quc3BsaWNlKGksIDEpOy8v5Yig6Zmk6K+l6KGM55qE5pWw5o2uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/nu5nmibnph4/liKDpmaTlkI7nmoTmgLvph5Hpop3otYvlgLxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYXJ0QW1vdW50ID0gKCRzY29wZS5jYXJ0QW1vdW50IC0gKCQoJy5hd2FpdGluZy1hbW91bnQtbW9uZXknKS50ZXh0KCkucmVwbGFjZSgvLC9nLCBcIlwiKSAtIDApKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxlcnQoYXdhaXRBbGxQYXkgKyc9PT0nKyRzY29wZS5jYXJ0QW1vdW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmF3YWl0aW5nLWFtb3VudC1tb25leScpLnRleHQoMCk7Ly/mibnph4/liKDpmaTnu5nmgLvph5Hpop3otYvlgLxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0c0luZGV4ID0gMDsvL+e7memAieS4reeahOWPmOmHj+i1i+WAvOS4ujBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5jYXJ0QW1vdW50IC09IGF3YWl0QWxsUGF5O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5wYWdlLXNlbGVjdGVkLW51bScpLnRleHQoYXdhaXRzSW5kZXgpOy8v5om56YeP5Yig6Zmk5ZCO57uZ6YCJ5Lit6LWL5YC85Li6MFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxlcnQoJHNjb3BlLmNvdW50TnVtYmVyKyc9PScrJ3NlbGVjdE51bScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnROdW1iZXIgLT0gc2VsZWN0TnVtOy8v57uZ5oC76K6i5Y2V5pWw6YeP6LWL5YC8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGVydCgkc2NvcGUuY291bnROdW1iZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FydE51bSAtPSBzZWxlY3ROdW07Ly/otK3nianovabph4znmoTorqLljZXmlbDph4/lh4/ljrvmibnph4/liKDpmaTnmoTkuKrmlbBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWxOdW0gPSAkc2NvcGUuY2FuY2VsTnVtIC0gMCArIHNlbGVjdE51bTsvL+WPlua2iOmHjOeahOiuouWNleaVsOWKoOS4iuaJuemHj+WIoOmZpOeahOS4quaVsFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsZXJ0KCd0aWppYW9zaGliYWknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5tc2coJ0RlbGV0ZSBFcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vY2rlvIDlp4vml6XmnJ/mkJzntKJcclxuICAgICAgICAkKFwiI2NqLXN0aW1lXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNqZW5kdGltZSA9ICQoXCIjY2otc3RpbWVcIikudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbmR0aW1lMiA9ICQoXCIjY2otc3RpbWVcIikudmFsKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5kdGltZTIgIT0gY2plbmR0aW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBkc3AubG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JyksICQod2luZG93KS5oZWlnaHQoKSAtIDE3MSwgNDcsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIDtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRqRnVuKG9yRGF0YSlcclxuICAgICAgICAgICAgICAgICAgICBvckRhdGEuZGF0YSA9IEpTT04uc3RyaW5naWZ5KG9yRGF0YS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhvckRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkob3JEYXRhKSlcclxuICAgICAgICAgICAgICAgICAgICBkc3AucG9zdEZ1bignYXBwL29yZGVyL3F1ZXJ5T3JkZXJzJywgSlNPTi5zdHJpbmdpZnkob3JEYXRhKSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdDEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhsaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxpc3QgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGlzdCA9IEpTT04ucGFyc2UobGlzdDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3JkZXJzTGlzdCA9ICRzY29wZS5saXN0Lm9yZGVyc0xpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb3VudE51bWJlciA9ICRzY29wZS5saXN0LmNvdW50TnVtYmVyOy8v5oC75p2h5pWwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYXJ0QW1vdW50ID0gJHNjb3BlLmxpc3QuYWxsQW1vdW50Oy8v5oC76YeR6aKdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY291bnROdW1iZXIgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3AucmVtb3ZlTm9kYXRhUGljKCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHNwLmNsb3NlTG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3AuYWRkTm9kYXRhUGljKCQoJy5vcmRlcnMtbGlzdCcpLCAkKHdpbmRvdykuaGVpZ2h0KCkgLSAxNzEsIDQ3LCAwLCB7d2lkdGg6ICcxMDAlJ30sdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcnRTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllci5jbG9zZUFsbChcImxvYWRpbmdcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHNwLmNqTWVzRnVuKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMClcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vY2rnu5PmnZ/ml6XmnJ/mkJzntKJcclxuICAgICAgICAkKFwiI2NqLWV0aW1lXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNqZW5kdGltZSA9ICQoXCIjY2otZXRpbWVcIikudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbmR0aW1lMiA9ICQoXCIjY2otZXRpbWVcIikudmFsKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5kdGltZTIgIT0gY2plbmR0aW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9yZGVyc0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBkc3AubG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JyksICQod2luZG93KS5oZWlnaHQoKSAtIDE3MSwgNDcsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIDtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3JEYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgdGpGdW4ob3JEYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIG9yRGF0YS5kYXRhID0gSlNPTi5zdHJpbmdpZnkob3JEYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG9yRGF0YS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShvckRhdGEpKVxyXG4gICAgICAgICAgICAgICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvb3JkZXIvcXVlcnlPcmRlcnMnLCBKU09OLnN0cmluZ2lmeShvckRhdGEpLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0MSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGxpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGlzdCA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5saXN0ID0gSlNPTi5wYXJzZShsaXN0MSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcmRlcnNMaXN0ID0gJHNjb3BlLmxpc3Qub3JkZXJzTGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50TnVtYmVyID0gJHNjb3BlLmxpc3QuY291bnROdW1iZXI7Ly/mgLvmnaHmlbBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhcnRBbW91bnQgPSAkc2NvcGUubGlzdC5hbGxBbW91bnQ7Ly/mgLvph5Hpop1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jb3VudE51bWJlciA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzcC5yZW1vdmVOb2RhdGFQaWMoJCgnLm9yZGVycy1saXN0JykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3AuY2xvc2VMb2FkUGVyY2VudCgkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzcC5hZGROb2RhdGFQaWMoJCgnLm9yZGVycy1saXN0JyksICQod2luZG93KS5oZWlnaHQoKSAtIDE3MSwgNDcsIDAsIHt3aWR0aDogJzEwMCUnfSx0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHNwLmNsb3NlTG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FydFNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHNwLmNsb3NlTG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKFwibG9hZGluZ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkc3AuY2pNZXNGdW4oMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy/kv67mlLnlnLDlnYBcclxuICAgICAgICAkc2NvcGUubW9kZWZ5QWRkRnVuID0gZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXHJcbiAgICAgICAgICAgIGNvbnN0IHtJRCxTSElQUElOR19BRERSRVNTLHNoaXBwaW5nQWRkcmVzczIsQ0lUWSxQUk9WSU5DRSxaSVAsUEhPTkUsQ1VTVE9NRVJfTkFNRSxkdXR5Tm8sc3RhcnRDb3VudHJ5Q29kZSxMT0dJU1RJQ19OQU1FLGFyZWFJZCxDT1VOVFJZX0NPREV9ID0gaXRlbTtcclxuICAgICAgICAgICAgJHNjb3BlLmFkZE1vZGVmeUZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAkc2NvcGUuYWRkSXRlbUlkID0gSUQ7XHJcbiAgICAgICAgICAgICRzY29wZS5hZGRJdGVtSW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgJHNjb3BlLmFkZHJlc3MxID0gU0hJUFBJTkdfQUREUkVTUztcclxuICAgICAgICAgICAgJHNjb3BlLmFkZHJlc3MyID0gc2hpcHBpbmdBZGRyZXNzMjtcclxuICAgICAgICAgICAgJHNjb3BlLmFkZENpdHkgPSBDSVRZO1xyXG4gICAgICAgICAgICAkc2NvcGUuYWRkUHJvdmluY2UgPSBQUk9WSU5DRTtcclxuICAgICAgICAgICAgJHNjb3BlLmFkZFppcCA9IFpJUDtcclxuICAgICAgICAgICAgJHNjb3BlLmFkZFBob25lID0gUEhPTkU7XHJcbiAgICAgICAgICAgICRzY29wZS5hZGROYW1lID0gQ1VTVE9NRVJfTkFNRTtcclxuICAgICAgICAgICAgJHNjb3BlLml0ZW1XbE5hbWUgPSBMT0dJU1RJQ19OQU1FO1xyXG4gICAgICAgICAgICAkc2NvcGUuYWRkVGF4aWQgPSBkdXR5Tm8vL+eojuWPt1xyXG4gICAgICAgICAgICAkc2NvcGUuYWRkQXJlYUlkID0gYXJlYUlkOyAvL+WPkei0p+WcsOWMuklkXHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVJZCA9IGl0ZW0uYXJlYUlkXHJcbiAgICAgICAgICAgICRzY29wZS5hZGRDb3VudHJ5Q29kZSA9IENPVU5UUllfQ09ERTsgLy/nm67nmoTlm73lrrZcclxuICAgICAgICAgICAgJHNjb3BlLmFkZFN0YXJ0Q291bnRyeSA9IHN0YXJ0Q291bnRyeUNvZGU7IC8v5Y+R6LSn5Zu95a6257yp5YaZXHJcbiAgICAgICAgICAgICRzY29wZS5jb3VudHJ5RW5OYW1lID0gY291bnRyeUVuTmFtZShDT1VOVFJZX0NPREUpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5jb3VudHJ5RW5OYW1lKVxyXG4gICAgICAgICAgICAkc2NvcGUub3BpbmlvbigpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5qCh6aqM5Yik5patXHJcbiAgICAgICAgJHNjb3BlLm9waW5pb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAvLyDmiYvmnLrlrZjlnKjvvIzlpLHljrvnhKbngrnliKTmlq3moLzlvI/mmK/lkKbmraPnoa5cclxuICAgICAgICAgICAgaWYoISRzY29wZS5hZGRyZXNzMSl7XHJcbiAgICAgICAgICAgICAgICBsYXllci5tc2coJ1BsZWFzZSBlbnRlciB0aGUgYWRkcmVzcy4nKVxyXG4gICAgICAgICAgICAgICAgZHNwLmNsb3NlTG9hZCgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKCEkc2NvcGUuYWRkQ2l0eSl7XHJcbiAgICAgICAgICAgICAgICBsYXllci5tc2coJ1BsZWFzZSBlbnRlciB0aGUgY2l0eS4nKVxyXG4gICAgICAgICAgICAgICAgZHNwLmNsb3NlTG9hZCgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgfWVsc2UgaWYoISRzY29wZS5hZGROYW1lKXtcclxuICAgICAgICAgICAgICAgIGxheWVyLm1zZygnUGxlYXNlIGVudGVyIG5hbWUuJylcclxuICAgICAgICAgICAgICAgIGRzcC5jbG9zZUxvYWQoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy/moKHpqoznvJbovpHkv6Hmga9cclxuICAgICAgICAkc2NvcGUuZWRpdENvbmZpcm0gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUub3BpbmlvbigpID09PSB0cnVlKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy/lpLHljrvlhYnmoIfmoKHpqoxcclxuICAgICAgICAkc2NvcGUubG9zdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICRzY29wZS5vcGluaW9uKClcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/noa7orqTnvJbovpFcclxuICAgICAgICAkc2NvcGUuc3VyZU1vZGVGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5hZGRJdGVtSW5kZXgpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5pdGVtV2xOYW1lKTtcclxuICAgICAgICAgICAgaWYgKCgoJHNjb3BlLml0ZW1XbE5hbWUmJiRzY29wZS5pdGVtV2xOYW1lLmluZGV4T2YoJ0RITCcpICE9IC0xKSB8fCAkc2NvcGUuaXRlbVdsTmFtZSA9PSBcIkNoaW5hIEVNU1wiIHx8ICRzY29wZS5pdGVtV2xOYW1lID09IFwiUy5GIENoaW5hIERvbWVzdGljXCIgfHwgJHNjb3BlLml0ZW1XbE5hbWUgPT0gXCJZVE8gQ2hpbmEgRG9tZXN0aWNcIiB8fCAkc2NvcGUuaXRlbVdsTmFtZSA9PSBcIlNvdXRoIEFmcmljYSBTcGVjaWFsIExpbmVcIiB8fCAkc2NvcGUuaXRlbVdsTmFtZSA9PSBcIkNKIE5vcm1hbCBFeHByZXNzXCIpICYmICEkc2NvcGUuYWRkUGhvbmUpIHtcclxuICAgICAgICAgICAgICAgIGxheWVyLm1zZygnUGhvbmUgbnVtYmVyIGlzIHJlcXVpcmVkLicpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkc3AubG9hZCgpXHJcbiAgICAgICAgICAgIHZhciBhZGRVcGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgYWRkVXBkYXRhLmlkID0gJHNjb3BlLmFkZEl0ZW1JZDtcclxuICAgICAgICAgICAgYWRkVXBkYXRhLnNoaXBwaW5nX2FkZHJlc3MgPSAkc2NvcGUuYWRkcmVzczE7XHJcbiAgICAgICAgICAgIGFkZFVwZGF0YS5zaGlwcGluZ19hZGRyZXNzMiA9ICRzY29wZS5hZGRyZXNzMjtcclxuICAgICAgICAgICAgYWRkVXBkYXRhLmNpdHkgPSAkc2NvcGUuYWRkQ2l0eTtcclxuICAgICAgICAgICAgYWRkVXBkYXRhLnByb3ZpbmNlID0gJHNjb3BlLmFkZFByb3ZpbmNlO1xyXG4gICAgICAgICAgICBhZGRVcGRhdGEuemlwID0gJHNjb3BlLmFkZFppcDtcclxuICAgICAgICAgICAgYWRkVXBkYXRhLnBob25lID0gJHNjb3BlLmFkZFBob25lO1xyXG4gICAgICAgICAgICBhZGRVcGRhdGEubmFtZSA9ICRzY29wZS5hZGROYW1lO1xyXG4gICAgICAgICAgICBhZGRVcGRhdGEudGF4aWQgPSAkc2NvcGUuYWRkVGF4aWQ7XHJcbiAgICAgICAgICAgIGFkZFVwZGF0YS5zdGFydENvdW50cnlDb2RlID0gJHNjb3BlLmFkZFN0YXJ0Q291bnRyeTtcclxuICAgICAgICAgICAgYWRkVXBkYXRhLkxPR0lTVElDX05BTUUgPSAkc2NvcGUuaXRlbVdsTmFtZTtcclxuICAgICAgICAgICAgYWRkVXBkYXRhLmFyZWFJZCA9ICRzY29wZS5hZGRBcmVhSWQ7XHJcbiAgICAgICAgICAgIGFkZFVwZGF0YS5jb3VudHJ5Q29kZSA9ICRzY29wZS5hZGRDb3VudHJ5Q29kZTtcclxuICAgICAgICAgICAgYWRkVXBkYXRhLmNvdW50cnkgPSAkc2NvcGUuY291bnRyeUVuTmFtZVxyXG4gICAgICAgICAgICBhZGRVcGRhdGEudHlwZSA9ICcyJ1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhZGRVcGRhdGEpO1xyXG4gICAgICAgICAgICBpZigkc2NvcGUuZWRpdENvbmZpcm0oKSA9PT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgICAgICBkc3AucG9zdEZ1bignYXBwL29yZGVyL3VwZGF0ZUZpbGVkJywgSlNPTi5zdHJpbmdpZnkoYWRkVXBkYXRhKSwgZnVuY3Rpb24gKHtkYXRhfSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRzcC5jbG9zZUxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLm1zZ0NvZGUgPT09ICc1MDUnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBob25lRXJyID0gZGF0YS5ydWxlTXNnLmZpbHRlcihpdGVtID0+IGl0ZW0udHlwZT09PSdwaG9uZScpIHx8IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEkc2NvcGUucGhvbmVFcnIubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRNb2RlZnlGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5tc2coJ01vZGlmeSBzdWNjZXNzJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZWZlcnNoRnVuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmIChkYXRhLnJlc3VsdCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZE1vZGVmeUZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZHJlc3NPcmRlckxpc3QgPSBbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tBZGRyZXNzTGlzdCA9IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja0FkZHJlc3MgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllci5tc2coJ01vZGlmeSBzdWNjZXNzJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlZmVyc2hGdW4oKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLm1zZygnTW9kaWZ5IGZhaWxlZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBkc3AuY2xvc2VMb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy/mo4Dmn6XmsqHmnInmi4nlj5bliLDorqLljZXnmoTljp/lm6BcclxuICAgICAgICAkc2NvcGUubm9PcmRSZXNvbkZsYWcgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUucmVzUmVzb25GbGFnID0gZmFsc2U7Ly/lsZXnpLrlkI7lj7Dov5Tlm57nmoTmsqHmnInorqLljZXljp/lm6DnmoTlvLnmoYZcclxuICAgICAgICAkc2NvcGUubm9PcmRSZXNvbkZ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm5vT3JkUmVzb25GbGFnID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLm5vT3JkU3VyZUZ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5zaG9wT3JkTnVtID09ICd1bmRlZmluZWQnIHx8ICRzY29wZS5zaG9wT3JkTnVtID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBsYXllci5tc2coJ1BsZWFzZSBlbnRlciB0aGUgb3JkZXIgbnVtYmVyIGluIHlvdXIgc2hvcC4nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxheWVyLmxvYWQoMik7XHJcbiAgICAgICAgICAgIGRzcC5wb3N0RnVuKCdhcHAvb3JkZXIvY2hlY2tTeW5jT3JkZXInLCB7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21lck9yZGVySWQ6ICRzY29wZS5zaG9wT3JkTnVtXHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubm9PcmRSZXNvbkZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEucmVzdWx0ICE9ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlc1Jlc29uRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLm5vLW9yZHJlcy1yZXNvbicpLnRleHQoZGF0YS5kYXRhLnJlc3VsdClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIubXNnKCdUaGUgcXVlcnkgZmFpbHMuJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKFwibG9hZGluZ1wiKVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLm5vT3JkUXhGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5ub09yZFJlc29uRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUuY2xvc2VSZXNSZWFzb25GdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5yZXNSZXNvbkZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgJCgnLm5vLW9yZHJlcy1yZXNvbicpLnRleHQoJycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5ZCr5L6b5bqU5ZWG6K6i5Y2V5o+Q5Lqk5YGa6ZmQ5Yi25pON5L2cXHJcbiAgICAgICAgZnVuY3Rpb24gZmlsdGVyU3VwcGlsZXJPcmRlcigpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0RGF0YSA9ICRzY29wZS5vcmRlcnNMaXN0LmZpbHRlcihpdGVtID0+IGNhcnRBbGxPcmRJZC5zcGxpdCgnLCcpLmluY2x1ZGVzKGl0ZW0ub3JkZXIuSUQpKTtcclxuICAgICAgICAgICAgY29uc3QgaXNTdXBwaWxlck9yZGVyID0gISFzZWxlY3REYXRhLmZpbmQobyA9PiBvLm9yZGVyLk9EUFJPRFVDVFRZUEUgPT09ICcwJyk7IC8vIOaYr+WQpuWQq+acieS+m+W6lOWVhuiuouWNlVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpc1N1cHBpbGVyT3JkZXIpXHJcbiAgICAgICAgICAgIGNvbnN0IGlzQ2hpbGRPcmRlciA9ICEhc2VsZWN0RGF0YS5maW5kKG8gPT4gby5vcmRlci5PRFBST0RVQ1RUWVBFID09PSAnMScpOyAvLyDmmK/lkKblkKvmnInlrZDorqLljZVcclxuICAgICAgICAgICAgY29uc29sZS5sb2coaXNDaGlsZE9yZGVyKVxyXG4gICAgICAgICAgICBjb25zdCBpc01peGVkT3JkZXIgPSAhIXNlbGVjdERhdGEuZmluZChvID0+IG8ub3JkZXIuT0RQUk9EVUNUVFlQRSA9PT0gJzInKTsgLy8g5piv5ZCm5ZCr5pyJ5re35ZCI6K6i5Y2VXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdERhdGEpO1xyXG4gICAgICAgICAgICBpZiAoKGlzTWl4ZWRPcmRlciAmJiBpc0NoaWxkT3JkZXIpIHx8IChpc1N1cHBpbGVyT3JkZXIgJiYgaXNDaGlsZE9yZGVyKSkge1xyXG4gICAgICAgICAgICAgICAgY2FydEFsbE9yZElkID0gc2VsZWN0RGF0YS5maWx0ZXIobyA9PiBvLm9yZGVyLk9EUFJPRFVDVFRZUEUgPT09ICcxJykubWFwKG8gPT4gby5vcmRlci5JRCkuam9pbignLCcpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NhcnRBbGxPcmRJZCcsY2FydEFsbE9yZElkKTtcclxuICAgICAgICAgICAgcmV0dXJuICgoaXNNaXhlZE9yZGVyICYmIGlzQ2hpbGRPcmRlcikgfHwgKGlzU3VwcGlsZXJPcmRlciAmJiBpc0NoaWxkT3JkZXIpKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAkc2NvcGUuaGFuZGxlQ29uZmlybSA9ICgpID0+IHtcclxuICAgICAgICAgICAgc3VwcGlsZXJPcmRlckNvbmZpcm0oKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XSk7XHJcblxyXG4gICAgcmV0dXJuIGFwcDtcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBakZBO0FBbUZBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/pages/mycj/imported-orders/import-cart.js\n");

/***/ })

}]);