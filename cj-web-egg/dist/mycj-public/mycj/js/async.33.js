(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[33],{

/***/ "../src/pages/mycj/imported-orders/import-incomplete.js":
/*!**************************************************************!*\
  !*** ../src/pages/mycj/imported-orders/import-incomplete.js ***!
  \**************************************************************/
/*! exports provided: importIncompleteFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"importIncompleteFactory\", function() { return importIncompleteFactory; });\nfunction importIncompleteFactory(angular) {\n  var app = angular.module('import-incomplete.module', ['service']);\n  app.controller('import-incomplete.ctrl', ['$scope', 'dsp', function ($scope, dsp) {\n    dsp.domainData().then(function (res) {\n      $scope.iscj = res.iscj;\n      $scope.websiteName = $scope.iscj == '1' ? 'CJ' : res.websiteName || 'CJ';\n    });\n    var bs = new Base64(); //给更多搜索添加点击显示隐藏的动画\n\n    $('#ditect-searchmore').click(function () {\n      $('#ditect-moresearch').toggle(300);\n      $('#toggle-logo1').toggleClass('.glyphicon glyphicon-triangle-top');\n      setTimeout(function () {\n        console.log($('#ditect-moresearch').height());\n\n        if ($('#toggle-logo1').hasClass('glyphicon-triangle-top')) {\n          console.log('显示搜索');\n          $('.direct-right').css({\n            'min-height': $(window).height() * 1 + $('#ditect-moresearch').height() + 10 + 'px'\n          });\n        } else {\n          console.log('隐藏搜索');\n          $('.direct-right').css({\n            'min-height': $(window).height() * 1 + 'px'\n          });\n        }\n      }, 400);\n    });\n    $scope.dataFound = true;\n    dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0);\n    $scope.navList = [{\n      name: 'Process Required',\n      href: \"#/direct-orders\"\n    }, {\n      name: 'Cart',\n      href: \"#/imp-cart\"\n    }, {\n      name: 'Incomplete Orders',\n      href: \"#/imp-incomp\",\n      show: true\n    }, {\n      name: 'Canceled',\n      href: \"#/imp-cancel\"\n    }, {\n      name: 'Search All',\n      href: \"#/search-all\"\n    }, {\n      name: 'Store Orders',\n      href: \"#/AuthorizeOrder\"\n    }];\n    $('.direct-leftbara').click(function () {\n      $('.direct-leftbara').css('background-image', '');\n      $(this).css('background-image', 'linear-gradient(0deg,rgba(253, 162, 44, 1) 0%, rgba(247, 140, 41, 1) 78%, rgba(241, 118, 37, 1) 100%)');\n    }); //显示大图\n\n    $('.orders-table').on('mouseenter', '.sp-smallimg', function () {\n      $(this).siblings('.hide-bigimg').show();\n    });\n    $('.orders-table').on('mouseenter', '.hide-bigimg', function () {\n      $(this).show();\n    });\n    $('.orders-table').on('mouseleave', '.sp-smallimg', function () {\n      $(this).siblings('.hide-bigimg').hide();\n    });\n    $('.orders-table').on('mouseleave', '.hide-bigimg', function () {\n      $(this).hide();\n    }); //全部展开隐藏\n\n    $('.showsp-img').mouseenter(function () {\n      if ($(this).attr('src') == 'static/image/public-img/up.png') {\n        $(this).attr('src', 'static/image/public-img/up-hover.png');\n      } else if ($(this).attr('src') == 'static/image/public-img/down.png') {\n        $(this).attr('src', 'static/image/public-img/down-hover.png');\n      }\n    });\n    $('.showsp-img').mouseleave(function () {\n      if ($(this).attr('src') == 'static/image/public-img/up-hover.png') {\n        $(this).attr('src', 'static/image/public-img/up.png');\n      } else if ($(this).attr('src') == 'static/image/public-img/down-hover.png') {\n        $(this).attr('src', 'static/image/public-img/down.png');\n      }\n    });\n    $('.showsp-img').click(function () {\n      if ($(this).attr('src') == 'static/image/public-img/up-hover.png') {\n        $(this).attr('src', 'static/image/public-img/down-hover.png');\n        $('.orders-table .d-toggle-tr').show();\n        $('.orders-table .order-detail').addClass('order-click-active');\n      } else if ($(this).attr('src') == 'static/image/public-img/down-hover.png') {\n        $(this).attr('src', 'static/image/public-img/up-hover.png');\n        $('.orders-table .d-toggle-tr').hide();\n        $('.orders-table .order-detail').removeClass('order-click-active');\n      }\n    }); //鼠标移入移除 显示商品\n    //点击事件\n\n    $('.orders-table').on('click', '.order-detail', function (event) {\n      if ($(event.target).hasClass('zcheckbox')) {\n        return;\n      }\n\n      if ($(this).hasClass('order-click-active')) {\n        $(this).next().hide();\n        $(this).removeClass('order-click-active');\n      } else {\n        $(this).next().show();\n        $(this).addClass('order-click-active');\n      }\n    });\n    $('.orders-table').on('click', '.d-toggle-tr', function (event) {\n      $(this).show();\n      $(this).prev().addClass('order-click-active');\n    }); // 订单\n\n    $('.orders-table').on('mouseenter', '.order-detail>td', function () {\n      if ($(this).hasClass('order-time')) {\n        return;\n      }\n\n      $(this).parent().next().show();\n      $('.orders-table .order-detail').removeClass('order-detail-active');\n      $(this).parent().addClass('order-detail-active');\n    });\n    $('.orders-table').on('mouseleave', '.order-detail', function () {\n      if ($(this).hasClass('order-click-active')) {\n        $(this).next().show();\n      } else {\n        $(this).next().hide();\n      }\n    }); //商品\n\n    $('.orders-table').on('mouseenter', '.d-toggle-tr', function () {\n      $(this).show();\n    });\n    $('.orders-table').on('mouseleave', '.d-toggle-tr', function () {\n      if ($(this).prev().hasClass('order-click-active')) {\n        $(this).show();\n      } else {\n        $(this).hide();\n      }\n    }); //table\n\n    $('.orders-table').mouseleave(function () {\n      $('.orders-table .order-detail').removeClass('order-detail-active');\n    });\n    var codeInlocal = localStorage.getItem('code');\n    console.log(codeInlocal);\n\n    if (codeInlocal) {\n      var timer = setInterval(function () {\n        var myDate = new Date();\n        var tipHour = myDate.getHours(); //获取当前小时数(0-23)\n\n        var tipMinute = myDate.getMinutes(); //获取当前分钟数(0-59)\n\n        var tipSecond = myDate.getSeconds(); //获取当前秒数(0-59)\n\n        $('#tiphour').text(tipHour + ':');\n        $('#tipminute').text(tipMinute + ':');\n        $('#tipsecond').text(tipSecond);\n        codeInlocal = localStorage.getItem('code');\n        $scope.tipsOrdStatues = localStorage.getItem('ordTips');\n\n        if (codeInlocal == '200') {\n          $('.refresh-btn').show();\n          clearTimeout(timer);\n          console.log(myDate);\n          $scope.tipsOrdStatues = localStorage.getItem('ordTips');\n          $('.titOrdTips').text($scope.tipsOrdStatues);\n        }\n\n        console.log($scope.tipsOrdStatues);\n        console.log(codeInlocal);\n      }, 1000);\n    }\n\n    $scope.pageNum = 1;\n    $scope.pageSize = '100';\n\n    function tjFun(tjcs) {\n      var yStoresTime = $('#y-ord-sdate').val();\n      var yStoreeTime = $('#y-ord-edate').val();\n      var yStoreName = $.trim($('#y-pro-name').val());\n      var cjStoreName = $.trim($('#cj-pro-name').val());\n      var berName = $.trim($('.buyer-inp').val());\n      var searchinpVal = $('.ord-search-inp').val();\n      var ordType = '';\n\n      if ($('.type-sel').val() == 'All') {\n        ordType = '';\n      } else if ($('.type-sel').val() == 'Shopify Imported') {\n        ordType = '2';\n      } else if ($('.type-sel').val() == 'Excel Imported') {\n        ordType = '1';\n      }\n\n      tjcs.data = {};\n      tjcs.data.status = '1'; //请求的订单状态\n\n      tjcs.data.page = $scope.pageNum - 0; //请求的第几页\n\n      tjcs.data.limit = $scope.pageSize - 0;\n      ; //每页限制的订单条数\n\n      tjcs.data.canhandler = 'n';\n      tjcs.data.orderNumber = searchinpVal;\n      tjcs.data.storeOrderDateBegin = yStoresTime; //店铺开始时间\n\n      tjcs.data.storeOrderDateEnd = yStoreeTime; //店铺结束时间\n\n      tjcs.data.storeProductName = yStoreName; //店铺商品名称\n\n      tjcs.data.cjProductName = cjStoreName; //cj商品名称\n\n      tjcs.data.buyerName = berName; //名字\n\n      tjcs.data.orderType = ordType; //订单类型\n\n      var cjsTime = $('#cj-stime').val();\n      var cjeTime = $('#cj-etime').val();\n      tjcs.data.cjOrderDateBegin = cjsTime;\n      tjcs.data.cjOrderDateEnd = cjeTime;\n\n      if (!$scope.storeName) {\n        tjcs.data.storeNumber = '';\n      } else {\n        tjcs.data.storeNumber = $scope.storeName;\n      }\n    } //设置默认时间\n\n\n    function GetDateStr(AddDayCount) {\n      var dd = new Date();\n      dd.setDate(dd.getDate() + AddDayCount); //获取AddDayCount天后的日期 \n\n      var y = dd.getFullYear();\n      var m = dd.getMonth() + 1; //获取当前月份的日期 \n\n      var d = dd.getDate();\n\n      if (m < 10) {\n        m = '0' + m;\n      }\n\n      if (d < 10) {\n        d = '0' + d;\n      }\n\n      return y + \"-\" + m + \"-\" + d;\n    }\n\n    var aDate = GetDateStr(-45);\n    $(\"#cj-stime\").val(aDate); //关键语句\n\n    $scope.countNumber = ''; //Ò»¹²¶àÉÙÌõ¶©µ¥\n\n    $scope.list = ''; //¶©µ¥ºÍ²úÆ·\n\n    $scope.productList = ''; //²úÆ·µÄÁÐ±íÊý¾Ý\n\n    $scope.storeAllMoney = ''; //¶©µ¥µÄ×Ü½ð¶î\n\n    $scope.flag = false;\n\n    function getList() {\n      $scope.ordersList = [];\n      $scope.checkAll = false;\n      dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0);\n      var orData = {};\n      tjFun(orData);\n      orData.data = JSON.stringify(orData.data);\n      console.log(orData.data);\n      dsp.postFun('app/order/queryOrders', JSON.stringify(orData), dclsFun, dcleFun);\n\n      function dclsFun(data) {\n        //让全选按钮置为非选中状态\n        var list1 = data.data.result;\n        $scope.list = JSON.parse(list1);\n        $scope.ordersList = $scope.list.ordersList;\n        $scope.shops = $scope.list.shops; //店铺的数组\n\n        delShopFun($scope.shops);\n        var excelShop = {\n          id: 'excel',\n          name: 'Excel',\n          rNAME: 'Excel'\n        };\n        $scope.shops.push(excelShop);\n        $scope.pcountN = $scope.list.countNumber; //获取总订单的条数\n\n        if ($scope.pcountN > 0) {\n          dsp.removeNodataPic($('.orders-list'));\n          dsp.closeLoadPercent($('.orders-list'));\n        } else {\n          addNotSjFun();\n          dsp.closeLoadPercent($('.orders-list'));\n        }\n\n        $scope.ordstatusNum = $scope.list.allOrderCount2; //各种状态订单的数量\n\n        numFun(); //调用给订单赋值的函数\n\n        $scope.totalCounts = Math.ceil($scope.pcountN / $scope.pageSize);\n        $scope.$broadcast('page-data', {\n          pageNum: $scope.pageNum,\n          totalNum: $scope.totalCounts,\n          totalCounts: $scope.pcountN,\n          pageSize: $scope.pageSize,\n          pagesizeList: ['30', '50', '100']\n        });\n      }\n\n      function dcleFun() {\n        dsp.closeLoadPercent($('.orders-list'));\n        dsp.cjMesFun(1);\n      }\n    }\n\n    getList();\n    $scope.$on('pagedata-fa', function (d, data) {\n      console.log(data);\n      $scope.pageNum = data.pageNum;\n      $scope.pageSize = data.pageSize;\n      getList(dsp, $scope);\n    });\n\n    function delShopFun(shopArr) {\n      if (!shopArr) {\n        return;\n      }\n      /**店铺列表名字展示改成 店铺名+店铺类型+国家、增加国家全写参数、增加国家缩写参数 start */\n\n\n      shopArr.forEach(function (e) {\n        // 国家缩写转换全写。ThemeId:shopee;MarketplaceUrl:lazada\n        e.countryfullName = replaceCountry(e.type == 'shopee' ? e.ThemeId : e.type == 'Lazada' ? e.MarketplaceUrl : '').fullName; // 店铺名+店铺类型+国家\n\n        if (e.type) {\n          e.rNAME = \"\".concat(e.name, \" - \").concat(e.type.replace(e.type[0], e.type[0].toUpperCase()), \" \").concat(e.countryfullName ? '-' : '', \" \").concat(e.countryfullName);\n        } else {\n          e.rNAME = e.name;\n        } // 国家缩写code(大写)-物流模块传递国家需要\n\n\n        var curLogisticCountry = e.ThemeId || e.MarketplaceUrl ? e.type == 'shopee' ? e.ThemeId : e.type == 'Lazada' ? e.MarketplaceUrl : '' : '';\n\n        if (curLogisticCountry) {\n          e.logisticsCountry = curLogisticCountry.toUpperCase();\n        } else {\n          e.logisticsCountry = '';\n        } // e.logisticsCountry = (e.ThemeId || e.MarketplaceUrl) ? (e.type == 'shopee' ? e.ThemeId : e.type == 'Lazada' ? e.MarketplaceUrl : '').toUpperCase() : '';\n        // 货币代码\n\n\n        e.currencyCode = replaceCountry(e.type == 'shopee' ? e.ThemeId : e.type == 'Lazada' ? e.MarketplaceUrl : '').currencyCode;\n      });\n      $scope.shops = shopArr;\n    }\n\n    function replaceCountry(params) {\n      var fullName = '';\n      var currencyCode = '';\n\n      if (/sg/i.test(params)) {\n        fullName = 'Singapore', currencyCode = 'SGD';\n      } else if (/my/i.test(params)) {\n        fullName = 'Malaysia', currencyCode = 'MYR';\n      } else if (/id/i.test(params)) {\n        fullName = 'Indonesia', currencyCode = 'IDR';\n      } else if (/th/i.test(params)) {\n        fullName = 'Thailand', currencyCode = 'THB';\n      } else if (/ph/i.test(params)) {\n        fullName = 'Philippines', currencyCode = 'PHP';\n      } else if (/vn/i.test(params)) {\n        fullName = 'Vietnam', currencyCode = 'VND';\n      }\n\n      return {\n        fullName: fullName,\n        currencyCode: currencyCode\n      };\n    } //给订单状态赋值的函数\n\n\n    function numFun() {\n      $scope.impprocessNum = $scope.ordstatusNum.yi;\n      $scope.cartNum = $scope.ordstatusNum.er;\n      $scope.incompleteNum = $scope.ordstatusNum.san;\n      $scope.cancelNum = $scope.ordstatusNum.si;\n      $scope.refundNum = $scope.ordstatusNum.wu;\n      $scope.allProNum = $scope.ordstatusNum.jiu;\n    }\n\n    function getCheckData() {\n      $scope.checkIds = [];\n      $scope.checkList = $scope.ordersList.filter(function (item) {\n        if (item.check) {\n          $scope.checkIds.push(item.order.ID);\n          return item;\n        }\n\n        ;\n      });\n    } //是否保持订单\n\n\n    $scope.removeFlag = false;\n    $scope.proceTcFlag = false;\n\n    $scope.addProceFun = function () {\n      getCheckData();\n      var ids = [];\n      $scope.noKeeped = $scope.checkList.filter(function (item) {\n        return item.order.operateover != 'y';\n      });\n      $scope.keepedNum = $scope.checkList.length - $scope.noKeeped.length;\n      $scope.noKeeped.forEach(function (item) {\n        ids.push(item.order.ID);\n      });\n      $scope.noKeepedId = ids.toString();\n      if ($scope.checkList.length <= 0) return layer.msg('Please select order(s) first!');\n      $scope.proceTcFlag = true;\n    };\n\n    var isKeepFlag = false;\n\n    $scope.keepSureFun = function () {\n      if (isKeepFlag) {\n        return;\n      }\n\n      isKeepFlag = true;\n      layer.load(2);\n      $scope.keepFlag = false;\n      var queryData = {\n        orderNums: $scope.noKeepedId,\n        type: $scope.unConnectType\n      };\n      dsp.postFun('order/order/regenerateOrder', JSON.stringify(queryData), function (data) {\n        isKeepFlag = false;\n        layer.closeAll('loading');\n\n        if (data.status == 200) {\n          var resArr = data.data.result;\n          var resSucCount = 0,\n              resErrorCount = 0,\n              errorMessage;\n\n          if (resArr && JSON.stringify(resArr) != '[]') {\n            for (var i = 0, len = resArr.length; i < len; i++) {\n              if (resArr[i].result) {\n                resSucCount++;\n              } else {\n                resErrorCount++;\n                errorMessage = resArr[i].message[0];\n              }\n            }\n\n            if (resSucCount > 0 && resErrorCount < 1) {\n              layer.msg('Reprocessed Successfully');\n              resSucFreshFun();\n            } else {\n              if (resSucCount > 0) {\n                resSucFreshFun();\n                layer.msg(errorMessage, {\n                  time: 3000\n                });\n              } else {\n                errorMessage = resArr[0].message[0];\n                layer.closeAll(\"loading\");\n                layer.msg(errorMessage, {\n                  time: 3000\n                });\n              }\n            }\n          } else {\n            layer.msg('Reprocess error');\n            layer.closeAll(\"loading\");\n          }\n        }\n      }, function () {\n        isKeepFlag = false;\n        dsp.cjMesFun(1);\n        layer.closeAll('loading');\n      });\n    }; //删除订单的取消 确定\n\n\n    $scope.removeQxFun = function () {\n      $scope.removeFlag = false;\n    };\n\n    function resSucFreshFun() {\n      $scope.pageNum = 1;\n      getList();\n    }\n\n    var isSureFlag = false;\n\n    $scope.removeSureFun = function () {\n      if (isSureFlag) {\n        return;\n      }\n\n      isSureFlag = true;\n      layer.load(2);\n      $scope.removeFlag = false;\n      var queryData = {\n        orderNums: $scope.checkIds.toString(),\n        type: 0\n      };\n      dsp.postFun('order/order/regenerateOrder', JSON.stringify(queryData), function (data) {\n        isSureFlag = false;\n        layer.closeAll('loading');\n\n        if (data.status == 200) {\n          var resArr = data.data.result;\n          var resSucCount = 0,\n              resErrorCount = 0,\n              errorMessage;\n\n          if (resArr && JSON.stringify(resArr) != '[]') {\n            for (var i = 0, len = resArr.length; i < len; i++) {\n              if (resArr[i].result) {\n                resSucCount++;\n              } else {\n                resErrorCount++;\n                errorMessage = resArr[i].message[0]; // console.log(errorMessage)\n              }\n            }\n\n            if (resSucCount > 0 && resErrorCount < 1) {\n              layer.msg('Reprocessed Successfullys');\n              resSucFreshFun();\n            } else {\n              if (resSucCount > 0) {\n                resSucFreshFun();\n                layer.msg(errorMessage, {\n                  time: 3000\n                });\n              } else {\n                errorMessage = resArr[0].message[0];\n                layer.closeAll(\"loading\");\n                layer.msg(errorMessage, {\n                  time: 3000\n                });\n              }\n            }\n          } else {\n            layer.msg('Reprocess error');\n            layer.closeAll(\"loading\");\n          }\n        }\n      }, function () {\n        isSureFlag = false;\n        layer.closeAll('loading');\n        dsp.closeLoadPercent($('.orders-list'));\n        dsp.cjMesFun(1);\n      });\n    }; //重新拉取订单的倒计时\n\n\n    var progressLineNum = 0;\n    var progressStu = '1';\n\n    function testFun() {\n      if ((new Date().getTime() - localStorage.getItem('bianliangtime')) / 1000 < 5) {\n        setTimeout(function () {\n          testFun();\n        }, 5000);\n        return;\n      }\n\n      localStorage.setItem('bianliangtime', new Date().getTime());\n      var queryData = localStorage.getItem('queryData');\n      var link = location.href;\n      console.log(link); // setTimeout(function () {\n\n      dsp.postFun('app/order/getOperationOrderStatus', queryData, function (data) {\n        console.log(data);\n        progressLineNum = localStorage.getItem(\"progressLineNum\") - 0;\n        progressLineNum++;\n        progressStu = data.data.result;\n\n        switch (progressStu) {\n          case '1':\n            localStorage.setItem(\"progressLineNum\", progressLineNum);\n\n            if (progressLineNum > 32) {\n              $('.progress-bar').css('width', 33 + '%');\n              $('.progress-bar').text(33 + '%');\n            } else {\n              $('.progress-bar').css('width', progressLineNum + '%');\n              $('.progress-bar').text(progressLineNum + '%');\n            }\n\n            break;\n\n          case '2':\n            if (progressLineNum < 33) {\n              progressLineNum = 33;\n            }\n\n            localStorage.setItem(\"progressLineNum\", progressLineNum);\n\n            if (progressLineNum > 66) {\n              $('.progress-bar').css('width', 66 + '%');\n              $('.progress-bar').text(66 + '%');\n            } else {\n              $('.progress-bar').css('width', progressLineNum + '%');\n              $('.progress-bar').text(progressLineNum + '%');\n            }\n\n            break;\n\n          case '3':\n            if (progressLineNum < 66) {\n              progressLineNum = 66;\n            }\n\n            localStorage.setItem(\"progressLineNum\", progressLineNum);\n\n            if (progressLineNum > 99) {\n              $('.progress-bar').css('width', 99 + '%');\n              $('.progress-bar').text(99 + '%');\n            } else {\n              $('.progress-bar').css('width', progressLineNum + '%');\n              $('.progress-bar').text(progressLineNum + '%');\n            }\n\n            break;\n\n          case '0':\n            $scope.isupdateFlag = false;\n            localStorage.removeItem('updateTime');\n\n            if (localStorage.getItem(\"zhixing0\") == undefined) {\n              localStorage.setItem('zhixing0', \"0\");\n            } else {\n              return;\n            }\n\n            $scope.pageNum = 1;\n            getList();\n            break;\n        }\n\n        if (progressStu != \"0\") {\n          testFun();\n        }\n      }, function (data) {\n        console.log(data);\n      });\n    }\n\n    if (localStorage.getItem('updateTime')) {\n      $scope.isupdateFlag = true;\n      testFun();\n    } //重新拉取订单\n\n\n    $scope.cxlqordFun = function () {\n      getCheckData();\n      layer.load();\n      var selectNum = $scope.checkList.length; //存储被选中的条数\n\n      var ordersid = $scope.checkIds.toString(); //存储订单的id\n\n      if (selectNum <= 0) return layer.msg('Please select order(s) first!');\n      layer.open({\n        content: \"<p>Are you sure to Update Orders?</p><p>It will take around few miuntes to make this happen.</p>\\n        <p>Order Quantity:  <span id='awa-dcl-num'></span></p>\",\n        area: ['480px', '260px'],\n        closeBtn: 0,\n        title: \"Update Orders\",\n        btn: ['Cancel', 'Confirm'],\n        success: function success(layero, index) {\n          $(layero).find('#awa-dcl-num').html(selectNum);\n        },\n        yes: function yes(index, layero) {\n          layer.closeAll(\"loading\");\n          layer.close(index);\n        },\n        btn2: function btn2(index, layero) {\n          var queryData = {\n            orderNums: ordersid\n          };\n          dsp.postFun('order/order/regenerateOrderAll', JSON.stringify(queryData), function (data) {\n            dsp.closeLoad();\n\n            if (data.data.statusCode == \"200\") {\n              var result = data.data.result;\n              $scope.showUpdate = true;\n              $scope.updataInfo = {\n                succ: result.successCount,\n                fail: result.unModifyCount\n              };\n            } else {\n              $scope.isupdateFlag = false;\n              layer.msg(data.data.message);\n            }\n          }, function (data) {\n            console.log(data);\n          });\n        }\n      });\n    };\n\n    $scope.modefyAddFun = function (item, index) {\n      $scope.addModefyFlag = true;\n      $scope.addItemId = item.ID;\n      $scope.addItemIndex = index;\n      $scope.address1 = item.SHIPPING_ADDRESS;\n      $scope.address2 = item.shippingAddress2;\n      $scope.addCity = item.CITY;\n      $scope.addProvince = item.PROVINCE;\n      $scope.addZip = item.ZIP;\n      $scope.addPhone = item.PHONE;\n      $scope.addName = item.CUSTOMER_NAME;\n    };\n\n    $scope.sureModeFun = function () {\n      dsp.load();\n      var addUpdata = {\n        id: $scope.addItemId,\n        shipping_address: $scope.address1,\n        shipping_address2: $scope.address2,\n        city: $scope.addCity,\n        province: $scope.addProvince,\n        zip: $scope.addZip,\n        phone: $scope.addPhone,\n        name: $scope.addName\n      };\n      dsp.postFun('app/order/updateFiled', JSON.stringify(addUpdata), function (data) {\n        console.log(data);\n        dsp.closeLoad();\n\n        if (data.data.result > 0) {\n          $scope.addModefyFlag = false;\n          layer.msg('Modified Successfully');\n          resSucFreshFun();\n        } else {\n          layer.msg('Modify failed');\n        }\n      }, function (data) {\n        dsp.closeLoad();\n        console.log(data);\n      });\n    };\n\n    $scope.checkPhone = function (phone) {\n      phone = phone.replace(/[^\\d\\+\\-\\(\\)]/g, \"\");\n      $scope.addPhone = phone;\n    }; //给左侧的导航添加滚动事件\n\n\n    $(document).scroll(function () {\n      if ($(document).scrollTop() >= 0) {\n        $('.left-nav').css({\n          position: 'fixed',\n          top: '80px'\n        });\n\n        if ($(document).scrollTop() >= 52) {\n          $('.back-wrap').css({\n            top: '80px'\n          });\n        } else {\n          $('.back-wrap').css({\n            top: '130px'\n          });\n        }\n      } else {\n        $('.left-nav').css({\n          position: 'relative',\n          top: '80px'\n        });\n      }\n    }); //按店铺搜索订单\n\n    $scope.storeChangeFun = function () {\n      $scope.pageNum = 1;\n      getList();\n    }; //高级搜索部分的查询\t\t\n\n\n    $('#tj-search-btn').click(function () {\n      $scope.pageNum = 1;\n      getList();\n    }); //批量删除\n\n    $scope.bulkCancelFun = function () {\n      getCheckData();\n\n      if ($scope.checkList.length <= 0) {\n        dsp.closeLoadPercent($('.orders-list'));\n        layer.msg('Please select order(s) first!');\n        return;\n      } else {\n        $scope.bulkDelFlag = true;\n      }\n    };\n\n    $scope.bulkDelFun = function () {\n      $scope.bulkDelFlag = false;\n    };\n\n    $scope.bulkSureDelFun = function () {\n      $scope.bulkDelFlag = false; // $scope.ordersList = [];\n      // dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0)\n\n      layer.load(2);\n      var cancelData = {\n        orderNums: $scope.checkIds.toString(),\n        type: 1\n      };\n      dsp.postFun('app/order/deleteOrder', JSON.stringify(cancelData), function (data) {\n        console.log(data);\n        layer.closeAll(\"loading\");\n\n        if (data.data.result == true) {\n          //让全选按钮置为非选中状态\n          $scope.pageNum = 1;\n          getList();\n          layer.msg('Delete Success');\n        } else {\n          // dsp.closeLoadPercent($('.orders-list'))\n          layer.msg('Delete Error');\n        }\n      }, function (data) {\n        layer.closeAll(\"loading\"); // dsp.closeLoadPercent($('.orders-list'))\n\n        console.log(data);\n      });\n    }; //高级搜索里面的按订单类型搜索\n\n\n    $('.type-sel').change(function () {\n      $scope.pageNum = 1;\n      getList();\n    }); //用订单号搜索 orderNumber  \n\n    $('.ord-search-inp').keypress(function (Event) {\n      if (Event.keyCode == 13) {\n        $scope.ordnumSearch();\n      }\n    });\n\n    $scope.ordnumSearch = function () {\n      $scope.pageNum = 1;\n      getList();\n    };\n\n    $scope.connectFun = function (item) {\n      var spName = bs.encode(item.SHIPPING_NAME);\n      window.open('#/products-connection/pending-connection/' + spName);\n    };\n\n    $scope.sourceFun = function (item, order) {\n      console.log(item);\n      var spName = bs.encode(item.SHIPPING_NAME);\n      var storeId = order.STORE_NUMBER;\n      window.open('#/add-sourcing/' + spName + '/' + storeId + '//', '_blank');\n    }; //cj商品名字跳转到cj详情页\n\n\n    $scope.cjdetailhref = function (orditem, spitem) {\n      var id = spitem.cjProductId;\n      window.open('product-detail.html?id=' + id);\n    }; //商品名字跳转客户后台\n\n\n    $scope.hrefFun = function (orditem, spitem) {\n      console.log(orditem.STORE_NAME);\n      var storeName = orditem.STORE_NAME;\n      console.log(spitem.product_id);\n      var productId = spitem.product_id;\n\n      if (storeName == \"Excel Imported\") {\n        return;\n      } else {\n        window.open('https://' + storeName + '.myshopify.com/admin/products/' + productId);\n      }\n    };\n\n    function addNotSjFun() {\n      dsp.addNodataPic($('.orders-list'), $(window).height() - 171, 47, 0, {\n        width: '100%'\n      }, true);\n      $('.deal-orders').css('min-height', $('.cj-nodata-pic').height() + 50);\n    } //cj开始日期搜索\n\n\n    $(\"#cj-stime\").click(function () {\n      var cjendtime = $(\"#cj-stime\").val();\n      var interval = setInterval(function () {\n        var endtime2 = $(\"#cj-stime\").val();\n\n        if (endtime2 != cjendtime) {\n          $scope.ordersList = [];\n          dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0);\n          clearInterval(interval);\n          $scope.pageNum = 1;\n          getList();\n        }\n      }, 100);\n    }); //cj结束日期搜索\n\n    $(\"#cj-etime\").click(function () {\n      var cjendtime = $(\"#cj-etime\").val();\n      var interval = setInterval(function () {\n        var endtime2 = $(\"#cj-etime\").val();\n\n        if (endtime2 != cjendtime) {\n          $scope.ordersList = [];\n          dsp.loadPercent($('.orders-list'), $(window).height() - 171, 47, 0);\n          clearInterval(interval);\n          $scope.pageNum = 1;\n          getList();\n        }\n      }, 100);\n    }); //检查没有拉取到订单的原因\n\n    $scope.noOrdResonFlag = false;\n    $scope.resResonFlag = false; //展示后台返回的没有订单原因的弹框\n\n    $scope.noOrdResonFun = function () {\n      $scope.noOrdResonFlag = true;\n    };\n\n    $scope.noOrdSureFun = function () {\n      if ($scope.shopOrdNum == 'undefined' || $scope.shopOrdNum == '') {\n        layer.msg('Please enter the order number in your shop.');\n        return;\n      }\n\n      layer.load(2);\n      dsp.postFun('app/order/checkSyncOrder', {\n        customerOrderId: $scope.shopOrdNum\n      }, function (data) {\n        console.log(data);\n        layer.closeAll(\"loading\");\n        $scope.noOrdResonFlag = false;\n\n        if (data.data.result != '') {\n          $scope.resResonFlag = true;\n          $('.no-ordres-reson').text(data.data.result);\n        } else {\n          layer.msg('The query fails.');\n        }\n      }, function (data) {\n        layer.closeAll(\"loading\");\n        console.log(data);\n      });\n    };\n\n    $scope.noOrdQxFun = function () {\n      $scope.noOrdResonFlag = false;\n    };\n\n    $scope.closeResReasonFun = function () {\n      $scope.resResonFlag = false;\n      $('.no-ordres-reson').text('');\n    };\n    /* 全选操作 */\n\n\n    $scope.checkAllFun = function () {\n      $scope.ordersList.forEach(function (item) {\n        return item.check = $scope.checkAll;\n      });\n    };\n    /* 单选操作 */\n\n\n    $scope.checkFun = function (e) {\n      getCheckData();\n      $scope.checkAll = $scope.checkList.length == $scope.ordersList.length;\n    };\n\n    $scope.stopProp = function (e) {\n      e.stopPropagation();\n    };\n\n    $scope.keepUnconnectFun = function () {\n      $scope.proceTcFlag = false;\n      $scope.keepFlag = true;\n      $scope.unConnectType = 1;\n    };\n\n    $scope.removeUnconnectFun = function () {\n      $scope.proceTcFlag = false;\n      $scope.keepFlag = true;\n      $scope.unConnectType = 0;\n    };\n  }]);\n  return app;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovaW1wb3J0ZWQtb3JkZXJzL2ltcG9ydC1pbmNvbXBsZXRlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9wYWdlcy9teWNqL2ltcG9ydGVkLW9yZGVycy9pbXBvcnQtaW5jb21wbGV0ZS5qcz85N2E2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpbXBvcnRJbmNvbXBsZXRlRmFjdG9yeShhbmd1bGFyKSB7XHJcbiAgY29uc3QgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2ltcG9ydC1pbmNvbXBsZXRlLm1vZHVsZScsIFsnc2VydmljZSddKTtcclxuXHJcbiAgYXBwLmNvbnRyb2xsZXIoJ2ltcG9ydC1pbmNvbXBsZXRlLmN0cmwnLCBbJyRzY29wZScsICdkc3AnLCBmdW5jdGlvbiAoJHNjb3BlLCBkc3ApIHtcclxuICAgIGRzcC5kb21haW5EYXRhKCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICRzY29wZS5pc2NqID0gcmVzLmlzY2o7XHJcbiAgICAgICRzY29wZS53ZWJzaXRlTmFtZSA9ICRzY29wZS5pc2NqID09ICcxJyA/ICdDSic6KHJlcy53ZWJzaXRlTmFtZSB8fCAnQ0onKTtcclxuICAgIH0pXHJcbiAgICBjb25zdCBicyA9IG5ldyBCYXNlNjQoKTtcclxuICAgIC8v57uZ5pu05aSa5pCc57Si5re75Yqg54K55Ye75pi+56S66ZqQ6JeP55qE5Yqo55S7XHJcbiAgICAkKCcjZGl0ZWN0LXNlYXJjaG1vcmUnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQoJyNkaXRlY3QtbW9yZXNlYXJjaCcpLnRvZ2dsZSgzMDApO1xyXG4gICAgICAkKCcjdG9nZ2xlLWxvZ28xJykudG9nZ2xlQ2xhc3MoJy5nbHlwaGljb24gZ2x5cGhpY29uLXRyaWFuZ2xlLXRvcCcpO1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygkKCcjZGl0ZWN0LW1vcmVzZWFyY2gnKS5oZWlnaHQoKSlcclxuICAgICAgICBpZiAoJCgnI3RvZ2dsZS1sb2dvMScpLmhhc0NsYXNzKCdnbHlwaGljb24tdHJpYW5nbGUtdG9wJykpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfmmL7npLrmkJzntKInKVxyXG4gICAgICAgICAgJCgnLmRpcmVjdC1yaWdodCcpLmNzcyh7XHJcbiAgICAgICAgICAgICdtaW4taGVpZ2h0JzogJCh3aW5kb3cpLmhlaWdodCgpICogMSArICQoJyNkaXRlY3QtbW9yZXNlYXJjaCcpLmhlaWdodCgpICsgMTAgKyAncHgnXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ+makOiXj+aQnOe0oicpXHJcbiAgICAgICAgICAkKCcuZGlyZWN0LXJpZ2h0JykuY3NzKHtcclxuICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiAkKHdpbmRvdykuaGVpZ2h0KCkgKiAxICsgJ3B4J1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCA0MDApXHJcbiAgICB9KTtcclxuICAgICRzY29wZS5kYXRhRm91bmQgPSB0cnVlO1xyXG4gICAgZHNwLmxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpLCAkKHdpbmRvdykuaGVpZ2h0KCkgLSAxNzEsIDQ3LCAwKTtcclxuICAgICRzY29wZS5uYXZMaXN0ID0gW1xyXG4gICAgICB7bmFtZTonUHJvY2VzcyBSZXF1aXJlZCcsaHJlZjpcIiMvZGlyZWN0LW9yZGVyc1wifSxcclxuICAgICAge25hbWU6J0NhcnQnLGhyZWY6XCIjL2ltcC1jYXJ0XCJ9LFxyXG4gICAgICB7bmFtZTonSW5jb21wbGV0ZSBPcmRlcnMnLGhyZWY6XCIjL2ltcC1pbmNvbXBcIixzaG93OnRydWV9LFxyXG4gICAgICB7bmFtZTonQ2FuY2VsZWQnLGhyZWY6XCIjL2ltcC1jYW5jZWxcIn0sXHJcbiAgICAgIHtuYW1lOidTZWFyY2ggQWxsJyxocmVmOlwiIy9zZWFyY2gtYWxsXCJ9LFxyXG4gICAgICB7bmFtZTonU3RvcmUgT3JkZXJzJyxocmVmOlwiIy9BdXRob3JpemVPcmRlclwifSxcclxuICAgIF1cclxuICAgICQoJy5kaXJlY3QtbGVmdGJhcmEnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQoJy5kaXJlY3QtbGVmdGJhcmEnKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAnJyk7XHJcbiAgICAgICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ2xpbmVhci1ncmFkaWVudCgwZGVnLHJnYmEoMjUzLCAxNjIsIDQ0LCAxKSAwJSwgcmdiYSgyNDcsIDE0MCwgNDEsIDEpIDc4JSwgcmdiYSgyNDEsIDExOCwgMzcsIDEpIDEwMCUpJyk7XHJcbiAgICB9KVxyXG5cclxuICAgIC8v5pi+56S65aSn5Zu+XHJcbiAgICAkKCcub3JkZXJzLXRhYmxlJykub24oJ21vdXNlZW50ZXInLCAnLnNwLXNtYWxsaW1nJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAkKHRoaXMpLnNpYmxpbmdzKCcuaGlkZS1iaWdpbWcnKS5zaG93KCk7XHJcbiAgICB9KVxyXG4gICAgJCgnLm9yZGVycy10YWJsZScpLm9uKCdtb3VzZWVudGVyJywgJy5oaWRlLWJpZ2ltZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgJCh0aGlzKS5zaG93KCk7XHJcbiAgICB9KVxyXG4gICAgJCgnLm9yZGVycy10YWJsZScpLm9uKCdtb3VzZWxlYXZlJywgJy5zcC1zbWFsbGltZycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLmhpZGUtYmlnaW1nJykuaGlkZSgpO1xyXG4gICAgfSlcclxuICAgICQoJy5vcmRlcnMtdGFibGUnKS5vbignbW91c2VsZWF2ZScsICcuaGlkZS1iaWdpbWcnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQodGhpcykuaGlkZSgpO1xyXG4gICAgfSlcclxuXHJcbiAgICAvL+WFqOmDqOWxleW8gOmakOiXj1xyXG4gICAgJCgnLnNob3dzcC1pbWcnKS5tb3VzZWVudGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCQodGhpcykuYXR0cignc3JjJykgPT0gJ3N0YXRpYy9pbWFnZS9wdWJsaWMtaW1nL3VwLnBuZycpIHtcclxuICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy91cC1ob3Zlci5wbmcnKTtcclxuICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLmF0dHIoJ3NyYycpID09ICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy9kb3duLnBuZycpIHtcclxuICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy9kb3duLWhvdmVyLnBuZycpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgJCgnLnNob3dzcC1pbWcnKS5tb3VzZWxlYXZlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCQodGhpcykuYXR0cignc3JjJykgPT0gJ3N0YXRpYy9pbWFnZS9wdWJsaWMtaW1nL3VwLWhvdmVyLnBuZycpIHtcclxuICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy91cC5wbmcnKTtcclxuICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLmF0dHIoJ3NyYycpID09ICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy9kb3duLWhvdmVyLnBuZycpIHtcclxuICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsICdzdGF0aWMvaW1hZ2UvcHVibGljLWltZy9kb3duLnBuZycpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgICQoJy5zaG93c3AtaW1nJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoJCh0aGlzKS5hdHRyKCdzcmMnKSA9PSAnc3RhdGljL2ltYWdlL3B1YmxpYy1pbWcvdXAtaG92ZXIucG5nJykge1xyXG4gICAgICAgICQodGhpcykuYXR0cignc3JjJywgJ3N0YXRpYy9pbWFnZS9wdWJsaWMtaW1nL2Rvd24taG92ZXIucG5nJyk7XHJcbiAgICAgICAgJCgnLm9yZGVycy10YWJsZSAuZC10b2dnbGUtdHInKS5zaG93KCk7XHJcbiAgICAgICAgJCgnLm9yZGVycy10YWJsZSAub3JkZXItZGV0YWlsJykuYWRkQ2xhc3MoJ29yZGVyLWNsaWNrLWFjdGl2ZScpO1xyXG4gICAgICB9IGVsc2UgaWYgKCQodGhpcykuYXR0cignc3JjJykgPT0gJ3N0YXRpYy9pbWFnZS9wdWJsaWMtaW1nL2Rvd24taG92ZXIucG5nJykge1xyXG4gICAgICAgICQodGhpcykuYXR0cignc3JjJywgJ3N0YXRpYy9pbWFnZS9wdWJsaWMtaW1nL3VwLWhvdmVyLnBuZycpO1xyXG4gICAgICAgICQoJy5vcmRlcnMtdGFibGUgLmQtdG9nZ2xlLXRyJykuaGlkZSgpO1xyXG4gICAgICAgICQoJy5vcmRlcnMtdGFibGUgLm9yZGVyLWRldGFpbCcpLnJlbW92ZUNsYXNzKCdvcmRlci1jbGljay1hY3RpdmUnKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8v6byg5qCH56e75YWl56e76ZmkIOaYvuekuuWVhuWTgVxyXG4gICAgLy/ngrnlh7vkuovku7ZcclxuICAgICQoJy5vcmRlcnMtdGFibGUnKS5vbignY2xpY2snLCAnLm9yZGVyLWRldGFpbCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBpZiAoJChldmVudC50YXJnZXQpLmhhc0NsYXNzKCd6Y2hlY2tib3gnKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnb3JkZXItY2xpY2stYWN0aXZlJykpIHtcclxuICAgICAgICAkKHRoaXMpLm5leHQoKS5oaWRlKCk7XHJcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnb3JkZXItY2xpY2stYWN0aXZlJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0KCkuc2hvdygpO1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ29yZGVyLWNsaWNrLWFjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgJCgnLm9yZGVycy10YWJsZScpLm9uKCdjbGljaycsICcuZC10b2dnbGUtdHInLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgJCh0aGlzKS5zaG93KCk7XHJcbiAgICAgICQodGhpcykucHJldigpLmFkZENsYXNzKCdvcmRlci1jbGljay1hY3RpdmUnKTtcclxuICAgIH0pXHJcbiAgICAvLyDorqLljZVcclxuICAgICQoJy5vcmRlcnMtdGFibGUnKS5vbignbW91c2VlbnRlcicsICcub3JkZXItZGV0YWlsPnRkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnb3JkZXItdGltZScpKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgICAgJCh0aGlzKS5wYXJlbnQoKS5uZXh0KCkuc2hvdygpO1xyXG4gICAgICAkKCcub3JkZXJzLXRhYmxlIC5vcmRlci1kZXRhaWwnKS5yZW1vdmVDbGFzcygnb3JkZXItZGV0YWlsLWFjdGl2ZScpO1xyXG4gICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdvcmRlci1kZXRhaWwtYWN0aXZlJyk7XHJcbiAgICB9KVxyXG4gICAgJCgnLm9yZGVycy10YWJsZScpLm9uKCdtb3VzZWxlYXZlJywgJy5vcmRlci1kZXRhaWwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdvcmRlci1jbGljay1hY3RpdmUnKSkge1xyXG4gICAgICAgICQodGhpcykubmV4dCgpLnNob3coKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKHRoaXMpLm5leHQoKS5oaWRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvL+WVhuWTgVxyXG4gICAgJCgnLm9yZGVycy10YWJsZScpLm9uKCdtb3VzZWVudGVyJywgJy5kLXRvZ2dsZS10cicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgJCh0aGlzKS5zaG93KCk7XHJcbiAgICB9KVxyXG4gICAgJCgnLm9yZGVycy10YWJsZScpLm9uKCdtb3VzZWxlYXZlJywgJy5kLXRvZ2dsZS10cicsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgIGlmICgkKHRoaXMpLnByZXYoKS5oYXNDbGFzcygnb3JkZXItY2xpY2stYWN0aXZlJykpIHtcclxuICAgICAgICAkKHRoaXMpLnNob3coKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vdGFibGVcclxuICAgICQoJy5vcmRlcnMtdGFibGUnKS5tb3VzZWxlYXZlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgJCgnLm9yZGVycy10YWJsZSAub3JkZXItZGV0YWlsJykucmVtb3ZlQ2xhc3MoJ29yZGVyLWRldGFpbC1hY3RpdmUnKTtcclxuICAgIH0pO1xyXG4gICAgdmFyIGNvZGVJbmxvY2FsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NvZGUnKTtcclxuICAgIGNvbnNvbGUubG9nKGNvZGVJbmxvY2FsKVxyXG4gICAgaWYgKGNvZGVJbmxvY2FsKSB7XHJcbiAgICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbXlEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICB2YXIgdGlwSG91ciA9IG15RGF0ZS5nZXRIb3VycygpOyAgICAgICAvL+iOt+WPluW9k+WJjeWwj+aXtuaVsCgwLTIzKVxyXG4gICAgICAgIHZhciB0aXBNaW51dGUgPSBteURhdGUuZ2V0TWludXRlcygpOyAgICAgLy/ojrflj5blvZPliY3liIbpkp/mlbAoMC01OSlcclxuICAgICAgICB2YXIgdGlwU2Vjb25kID0gbXlEYXRlLmdldFNlY29uZHMoKTsgICAgIC8v6I635Y+W5b2T5YmN56eS5pWwKDAtNTkpXHJcbiAgICAgICAgJCgnI3RpcGhvdXInKS50ZXh0KHRpcEhvdXIgKyAnOicpXHJcbiAgICAgICAgJCgnI3RpcG1pbnV0ZScpLnRleHQodGlwTWludXRlICsgJzonKVxyXG4gICAgICAgICQoJyN0aXBzZWNvbmQnKS50ZXh0KHRpcFNlY29uZClcclxuICAgICAgICBjb2RlSW5sb2NhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjb2RlJyk7XHJcbiAgICAgICAgJHNjb3BlLnRpcHNPcmRTdGF0dWVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ29yZFRpcHMnKTtcclxuICAgICAgICBpZiAoY29kZUlubG9jYWwgPT0gJzIwMCcpIHtcclxuICAgICAgICAgICQoJy5yZWZyZXNoLWJ0bicpLnNob3coKTtcclxuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcilcclxuICAgICAgICAgIGNvbnNvbGUubG9nKG15RGF0ZSlcclxuICAgICAgICAgICRzY29wZS50aXBzT3JkU3RhdHVlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcmRUaXBzJyk7XHJcbiAgICAgICAgICAkKCcudGl0T3JkVGlwcycpLnRleHQoJHNjb3BlLnRpcHNPcmRTdGF0dWVzKVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUudGlwc09yZFN0YXR1ZXMpXHJcbiAgICAgICAgY29uc29sZS5sb2coY29kZUlubG9jYWwpXHJcbiAgICAgIH0sIDEwMDApXHJcbiAgICB9XHJcbiAgICAkc2NvcGUucGFnZU51bSA9IDE7XHJcbiAgICAkc2NvcGUucGFnZVNpemUgPSAnMTAwJztcclxuICAgIGZ1bmN0aW9uIHRqRnVuKHRqY3MpIHtcclxuICAgICAgdmFyIHlTdG9yZXNUaW1lID0gJCgnI3ktb3JkLXNkYXRlJykudmFsKCk7XHJcbiAgICAgIHZhciB5U3RvcmVlVGltZSA9ICQoJyN5LW9yZC1lZGF0ZScpLnZhbCgpO1xyXG4gICAgICB2YXIgeVN0b3JlTmFtZSA9ICQudHJpbSgkKCcjeS1wcm8tbmFtZScpLnZhbCgpKTtcclxuICAgICAgdmFyIGNqU3RvcmVOYW1lID0gJC50cmltKCQoJyNjai1wcm8tbmFtZScpLnZhbCgpKTtcclxuICAgICAgdmFyIGJlck5hbWUgPSAkLnRyaW0oJCgnLmJ1eWVyLWlucCcpLnZhbCgpKTtcclxuICAgICAgdmFyIHNlYXJjaGlucFZhbCA9ICQoJy5vcmQtc2VhcmNoLWlucCcpLnZhbCgpO1xyXG4gICAgICB2YXIgb3JkVHlwZSA9ICcnO1xyXG4gICAgICBpZiAoJCgnLnR5cGUtc2VsJykudmFsKCkgPT0gJ0FsbCcpIHtcclxuICAgICAgICBvcmRUeXBlID0gJyc7XHJcbiAgICAgIH0gZWxzZSBpZiAoJCgnLnR5cGUtc2VsJykudmFsKCkgPT0gJ1Nob3BpZnkgSW1wb3J0ZWQnKSB7XHJcbiAgICAgICAgb3JkVHlwZSA9ICcyJztcclxuICAgICAgfSBlbHNlIGlmICgkKCcudHlwZS1zZWwnKS52YWwoKSA9PSAnRXhjZWwgSW1wb3J0ZWQnKSB7XHJcbiAgICAgICAgb3JkVHlwZSA9ICcxJztcclxuICAgICAgfVxyXG4gICAgICB0amNzLmRhdGEgPSB7fTtcclxuICAgICAgdGpjcy5kYXRhLnN0YXR1cyA9ICcxJzsvL+ivt+axgueahOiuouWNleeKtuaAgVxyXG4gICAgICB0amNzLmRhdGEucGFnZSA9ICRzY29wZS5wYWdlTnVtIC0gMDsvL+ivt+axgueahOesrOWHoOmhtVxyXG4gICAgICB0amNzLmRhdGEubGltaXQgPSAkc2NvcGUucGFnZVNpemUgLSAwOzsvL+avj+mhtemZkOWItueahOiuouWNleadoeaVsFxyXG4gICAgICB0amNzLmRhdGEuY2FuaGFuZGxlciA9ICduJztcclxuICAgICAgdGpjcy5kYXRhLm9yZGVyTnVtYmVyID0gc2VhcmNoaW5wVmFsO1xyXG4gICAgICB0amNzLmRhdGEuc3RvcmVPcmRlckRhdGVCZWdpbiA9IHlTdG9yZXNUaW1lOy8v5bqX6ZO65byA5aeL5pe26Ze0XHJcbiAgICAgIHRqY3MuZGF0YS5zdG9yZU9yZGVyRGF0ZUVuZCA9IHlTdG9yZWVUaW1lOy8v5bqX6ZO657uT5p2f5pe26Ze0XHJcbiAgICAgIHRqY3MuZGF0YS5zdG9yZVByb2R1Y3ROYW1lID0geVN0b3JlTmFtZTsvL+W6l+mTuuWVhuWTgeWQjeensFxyXG4gICAgICB0amNzLmRhdGEuY2pQcm9kdWN0TmFtZSA9IGNqU3RvcmVOYW1lOy8vY2rllYblk4HlkI3np7BcclxuICAgICAgdGpjcy5kYXRhLmJ1eWVyTmFtZSA9IGJlck5hbWU7Ly/lkI3lrZdcclxuICAgICAgdGpjcy5kYXRhLm9yZGVyVHlwZSA9IG9yZFR5cGU7Ly/orqLljZXnsbvlnotcclxuICAgICAgdmFyIGNqc1RpbWUgPSAkKCcjY2otc3RpbWUnKS52YWwoKTtcclxuICAgICAgdmFyIGNqZVRpbWUgPSAkKCcjY2otZXRpbWUnKS52YWwoKTtcclxuICAgICAgdGpjcy5kYXRhLmNqT3JkZXJEYXRlQmVnaW4gPSBjanNUaW1lO1xyXG4gICAgICB0amNzLmRhdGEuY2pPcmRlckRhdGVFbmQgPSBjamVUaW1lO1xyXG4gICAgICBpZiAoISRzY29wZS5zdG9yZU5hbWUpIHtcclxuICAgICAgICB0amNzLmRhdGEuc3RvcmVOdW1iZXIgPSAnJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0amNzLmRhdGEuc3RvcmVOdW1iZXIgPSAkc2NvcGUuc3RvcmVOYW1lO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+iuvue9rum7mOiupOaXtumXtFxyXG4gICAgZnVuY3Rpb24gR2V0RGF0ZVN0cihBZGREYXlDb3VudCkge1xyXG4gICAgICB2YXIgZGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBkZC5zZXREYXRlKGRkLmdldERhdGUoKSArIEFkZERheUNvdW50KTsvL+iOt+WPlkFkZERheUNvdW505aSp5ZCO55qE5pel5pyfIFxyXG4gICAgICB2YXIgeSA9IGRkLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgIHZhciBtID0gZGQuZ2V0TW9udGgoKSArIDE7Ly/ojrflj5blvZPliY3mnIjku73nmoTml6XmnJ8gXHJcbiAgICAgIHZhciBkID0gZGQuZ2V0RGF0ZSgpO1xyXG4gICAgICBpZiAobSA8IDEwKSB7XHJcbiAgICAgICAgbSA9ICcwJyArIG1cclxuICAgICAgfVxyXG4gICAgICBpZiAoZCA8IDEwKSB7XHJcbiAgICAgICAgZCA9ICcwJyArIGRcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4geSArIFwiLVwiICsgbSArIFwiLVwiICsgZDtcclxuICAgIH1cclxuICAgIHZhciBhRGF0ZSA9IEdldERhdGVTdHIoLTQ1KTtcclxuICAgICQoXCIjY2otc3RpbWVcIikudmFsKGFEYXRlKTsgICAvL+WFs+mUruivreWPpVxyXG5cclxuICAgIFxyXG4gICAgJHNjb3BlLmNvdW50TnVtYmVyID0gJyc7Ly/DksK7wrnCssK2w6DDicOZw4zDtcK2wqnCtcKlXHJcbiAgICAkc2NvcGUubGlzdCA9ICcnOy8vwrbCqcK1wqXCusONwrLDusOGwrdcclxuICAgICRzY29wZS5wcm9kdWN0TGlzdCA9ICcnOy8vwrLDusOGwrfCtcOEw4HDkMKxw63DisO9wr7DnVxyXG4gICAgJHNjb3BlLnN0b3JlQWxsTW9uZXkgPSAnJzsvL8K2wqnCtcKlwrXDhMOXw5zCvcOwwrbDrlxyXG5cclxuICAgICRzY29wZS5mbGFnID0gZmFsc2U7XHJcbiAgICBmdW5jdGlvbiBnZXRMaXN0ICgpIHtcclxuICAgICAgJHNjb3BlLm9yZGVyc0xpc3QgPSBbXTtcclxuICAgICAgJHNjb3BlLmNoZWNrQWxsPWZhbHNlO1xyXG4gICAgICBkc3AubG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JyksICQod2luZG93KS5oZWlnaHQoKSAtIDE3MSwgNDcsIDApXHJcbiAgICAgIHZhciBvckRhdGEgPSB7fTtcclxuICAgICAgdGpGdW4ob3JEYXRhKVxyXG4gICAgICBvckRhdGEuZGF0YSA9IEpTT04uc3RyaW5naWZ5KG9yRGF0YS5kYXRhKVxyXG4gICAgICBjb25zb2xlLmxvZyhvckRhdGEuZGF0YSlcclxuICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9vcmRlci9xdWVyeU9yZGVycycsIEpTT04uc3RyaW5naWZ5KG9yRGF0YSksIGRjbHNGdW4sIGRjbGVGdW4pXHJcbiAgICAgIGZ1bmN0aW9uIGRjbHNGdW4oZGF0YSkge1xyXG4gICAgICAgIC8v6K6p5YWo6YCJ5oyJ6ZKu572u5Li66Z2e6YCJ5Lit54q25oCBXHJcbiAgICAgICAgdmFyIGxpc3QxID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuXHJcbiAgICAgICAgJHNjb3BlLmxpc3QgPSBKU09OLnBhcnNlKGxpc3QxKTtcclxuICAgICAgICAkc2NvcGUub3JkZXJzTGlzdCA9ICRzY29wZS5saXN0Lm9yZGVyc0xpc3Q7XHJcbiAgICAgICAgJHNjb3BlLnNob3BzID0gJHNjb3BlLmxpc3Quc2hvcHM7IC8v5bqX6ZO655qE5pWw57uEXHJcbiAgICAgICAgZGVsU2hvcEZ1bigkc2NvcGUuc2hvcHMpXHJcbiAgICAgICAgdmFyIGV4Y2VsU2hvcCA9IHtcclxuICAgICAgICAgIGlkOiAnZXhjZWwnLFxyXG4gICAgICAgICAgbmFtZTonRXhjZWwnLFxyXG4gICAgICAgICAgck5BTUU6J0V4Y2VsJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLnNob3BzLnB1c2goZXhjZWxTaG9wKVxyXG4gICAgICAgICRzY29wZS5wY291bnROID0gJHNjb3BlLmxpc3QuY291bnROdW1iZXI7Ly/ojrflj5bmgLvorqLljZXnmoTmnaHmlbBcclxuICAgICAgICBpZiAoJHNjb3BlLnBjb3VudE4gPiAwKSB7XHJcbiAgICAgICAgICBkc3AucmVtb3ZlTm9kYXRhUGljKCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgICAgZHNwLmNsb3NlTG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JykpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFkZE5vdFNqRnVuKClcclxuICAgICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUub3Jkc3RhdHVzTnVtID0gJHNjb3BlLmxpc3QuYWxsT3JkZXJDb3VudDI7Ly/lkITnp43nirbmgIHorqLljZXnmoTmlbDph49cclxuICAgICAgICBudW1GdW4oKTsvL+iwg+eUqOe7meiuouWNlei1i+WAvOeahOWHveaVsFxyXG4gICAgICAgICRzY29wZS50b3RhbENvdW50cyA9IE1hdGguY2VpbCgkc2NvcGUucGNvdW50TiAvICRzY29wZS5wYWdlU2l6ZSk7XHJcbiAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ3BhZ2UtZGF0YScsIHtcclxuICAgICAgICAgIHBhZ2VOdW06ICRzY29wZS5wYWdlTnVtLFxyXG4gICAgICAgICAgdG90YWxOdW06ICRzY29wZS50b3RhbENvdW50cyxcclxuICAgICAgICAgIHRvdGFsQ291bnRzOiAkc2NvcGUucGNvdW50TixcclxuICAgICAgICAgIHBhZ2VTaXplOiAkc2NvcGUucGFnZVNpemUsXHJcbiAgICAgICAgICBwYWdlc2l6ZUxpc3Q6IFsnMzAnLCc1MCcsJzEwMCddXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgZnVuY3Rpb24gZGNsZUZ1bigpIHtcclxuICAgICAgICBkc3AuY2xvc2VMb2FkUGVyY2VudCgkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICBkc3AuY2pNZXNGdW4oMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGdldExpc3QoKVxyXG4gICAgJHNjb3BlLiRvbigncGFnZWRhdGEtZmEnLCBmdW5jdGlvbiAoZCwgZGF0YSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAkc2NvcGUucGFnZU51bSA9IGRhdGEucGFnZU51bTtcclxuICAgICAgJHNjb3BlLnBhZ2VTaXplID0gZGF0YS5wYWdlU2l6ZTtcclxuICAgICAgZ2V0TGlzdChkc3AsICRzY29wZSk7XHJcbiAgICB9KTtcclxuICAgIGZ1bmN0aW9uIGRlbFNob3BGdW4oc2hvcEFycikge1xyXG4gICAgICBpZiAoIXNob3BBcnIpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgICAvKirlupfpk7rliJfooajlkI3lrZflsZXnpLrmlLnmiJAg5bqX6ZO65ZCNK+W6l+mTuuexu+Weiyvlm73lrrbjgIHlop7liqDlm73lrrblhajlhpnlj4LmlbDjgIHlop7liqDlm73lrrbnvKnlhpnlj4LmlbAgc3RhcnQgKi9cclxuICAgICAgc2hvcEFyci5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICAgIC8vIOWbveWutue8qeWGmei9rOaNouWFqOWGmeOAglRoZW1lSWQ6c2hvcGVlO01hcmtldHBsYWNlVXJsOmxhemFkYVxyXG4gICAgICAgIGUuY291bnRyeWZ1bGxOYW1lID0gcmVwbGFjZUNvdW50cnkoZS50eXBlID09ICdzaG9wZWUnID8gZS5UaGVtZUlkIDogZS50eXBlID09ICdMYXphZGEnID8gZS5NYXJrZXRwbGFjZVVybCA6ICcnKS5mdWxsTmFtZTtcclxuICAgICAgICAvLyDlupfpk7rlkI0r5bqX6ZO657G75Z6LK+WbveWutlxyXG4gICAgICAgIGlmIChlLnR5cGUpIHtcclxuICAgICAgICAgIGUuck5BTUUgPSBgJHtlLm5hbWV9IC0gJHtlLnR5cGUucmVwbGFjZShlLnR5cGVbMF0sIGUudHlwZVswXS50b1VwcGVyQ2FzZSgpKX0gJHtlLmNvdW50cnlmdWxsTmFtZSA/ICctJyA6ICcnfSAke2UuY291bnRyeWZ1bGxOYW1lfWA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGUuck5BTUUgPSBlLm5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWbveWutue8qeWGmWNvZGUo5aSn5YaZKS3nianmtYHmqKHlnZfkvKDpgJLlm73lrrbpnIDopoFcclxuICAgICAgICBsZXQgY3VyTG9naXN0aWNDb3VudHJ5ID0gKGUuVGhlbWVJZCB8fCBlLk1hcmtldHBsYWNlVXJsKSA/IChlLnR5cGUgPT0gJ3Nob3BlZScgPyBlLlRoZW1lSWQgOiBlLnR5cGUgPT0gJ0xhemFkYScgPyBlLk1hcmtldHBsYWNlVXJsIDogJycpIDogJyc7XHJcbiAgICAgICAgaWYoY3VyTG9naXN0aWNDb3VudHJ5KXtcclxuICAgICAgICAgIGUubG9naXN0aWNzQ291bnRyeSA9IGN1ckxvZ2lzdGljQ291bnRyeS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgZS5sb2dpc3RpY3NDb3VudHJ5ID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGUubG9naXN0aWNzQ291bnRyeSA9IChlLlRoZW1lSWQgfHwgZS5NYXJrZXRwbGFjZVVybCkgPyAoZS50eXBlID09ICdzaG9wZWUnID8gZS5UaGVtZUlkIDogZS50eXBlID09ICdMYXphZGEnID8gZS5NYXJrZXRwbGFjZVVybCA6ICcnKS50b1VwcGVyQ2FzZSgpIDogJyc7XHJcbiAgICAgICAgLy8g6LSn5biB5Luj56CBXHJcbiAgICAgICAgZS5jdXJyZW5jeUNvZGUgPSByZXBsYWNlQ291bnRyeShlLnR5cGUgPT0gJ3Nob3BlZScgPyBlLlRoZW1lSWQgOiBlLnR5cGUgPT0gJ0xhemFkYScgPyBlLk1hcmtldHBsYWNlVXJsIDogJycpLmN1cnJlbmN5Q29kZTtcclxuICAgICAgfSk7XHJcbiAgICAgICRzY29wZS5zaG9wcyA9IHNob3BBcnI7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXBsYWNlQ291bnRyeShwYXJhbXMpIHtcclxuICAgICAgbGV0IGZ1bGxOYW1lID0gJyc7XHJcbiAgICAgIGxldCBjdXJyZW5jeUNvZGUgPSAnJztcclxuICAgICAgaWYgKC9zZy9pLnRlc3QocGFyYW1zKSkgeyBmdWxsTmFtZSA9ICdTaW5nYXBvcmUnLCBjdXJyZW5jeUNvZGUgPSAnU0dEJyB9XHJcbiAgICAgIGVsc2UgaWYgKC9teS9pLnRlc3QocGFyYW1zKSkgeyBmdWxsTmFtZSA9ICdNYWxheXNpYScsIGN1cnJlbmN5Q29kZSA9ICdNWVInIH1cclxuICAgICAgZWxzZSBpZiAoL2lkL2kudGVzdChwYXJhbXMpKSB7IGZ1bGxOYW1lID0gJ0luZG9uZXNpYScsIGN1cnJlbmN5Q29kZSA9ICdJRFInIH1cclxuICAgICAgZWxzZSBpZiAoL3RoL2kudGVzdChwYXJhbXMpKSB7IGZ1bGxOYW1lID0gJ1RoYWlsYW5kJywgY3VycmVuY3lDb2RlID0gJ1RIQicgfVxyXG4gICAgICBlbHNlIGlmICgvcGgvaS50ZXN0KHBhcmFtcykpIHsgZnVsbE5hbWUgPSAnUGhpbGlwcGluZXMnLCBjdXJyZW5jeUNvZGUgPSAnUEhQJyB9XHJcbiAgICAgIGVsc2UgaWYgKC92bi9pLnRlc3QocGFyYW1zKSkgeyBmdWxsTmFtZSA9ICdWaWV0bmFtJywgY3VycmVuY3lDb2RlID0gJ1ZORCcgfVxyXG4gICAgICByZXR1cm4geyBmdWxsTmFtZSwgY3VycmVuY3lDb2RlIH07XHJcbiAgICB9XHJcbiAgICAvL+e7meiuouWNleeKtuaAgei1i+WAvOeahOWHveaVsFxyXG4gICAgZnVuY3Rpb24gbnVtRnVuKCkge1xyXG4gICAgICAkc2NvcGUuaW1wcHJvY2Vzc051bSA9ICRzY29wZS5vcmRzdGF0dXNOdW0ueWk7XHJcbiAgICAgICRzY29wZS5jYXJ0TnVtID0gJHNjb3BlLm9yZHN0YXR1c051bS5lcjtcclxuICAgICAgJHNjb3BlLmluY29tcGxldGVOdW0gPSAkc2NvcGUub3Jkc3RhdHVzTnVtLnNhbjtcclxuICAgICAgJHNjb3BlLmNhbmNlbE51bSA9ICRzY29wZS5vcmRzdGF0dXNOdW0uc2k7XHJcbiAgICAgICRzY29wZS5yZWZ1bmROdW0gPSAkc2NvcGUub3Jkc3RhdHVzTnVtLnd1O1xyXG4gICAgICAkc2NvcGUuYWxsUHJvTnVtID0gJHNjb3BlLm9yZHN0YXR1c051bS5qaXU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRDaGVja0RhdGEoKXtcclxuICAgICAgJHNjb3BlLmNoZWNrSWRzID0gW107XHJcbiAgICAgICRzY29wZS5jaGVja0xpc3QgPSAkc2NvcGUub3JkZXJzTGlzdC5maWx0ZXIoaXRlbT0+e1xyXG4gICAgICAgIGlmKGl0ZW0uY2hlY2spIHtcclxuICAgICAgICAgICRzY29wZS5jaGVja0lkcy5wdXNoKGl0ZW0ub3JkZXIuSUQpXHJcbiAgICAgICAgICByZXR1cm4gaXRlbVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICAvL+aYr+WQpuS/neaMgeiuouWNlVxyXG4gICAgJHNjb3BlLnJlbW92ZUZsYWcgPSBmYWxzZTtcclxuICAgICRzY29wZS5wcm9jZVRjRmxhZyA9IGZhbHNlO1xyXG4gICAgJHNjb3BlLmFkZFByb2NlRnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBnZXRDaGVja0RhdGEoKTtcclxuICAgICAgbGV0IGlkcyA9IFtdO1xyXG4gICAgICAkc2NvcGUubm9LZWVwZWQgPSAkc2NvcGUuY2hlY2tMaXN0LmZpbHRlcihpdGVtID0+IGl0ZW0ub3JkZXIub3BlcmF0ZW92ZXIhPSd5JylcclxuICAgICAgJHNjb3BlLmtlZXBlZE51bSA9ICRzY29wZS5jaGVja0xpc3QubGVuZ3RoIC0gJHNjb3BlLm5vS2VlcGVkLmxlbmd0aDtcclxuICAgICAgJHNjb3BlLm5vS2VlcGVkLmZvckVhY2goaXRlbT0+e1xyXG4gICAgICAgIGlkcy5wdXNoKGl0ZW0ub3JkZXIuSUQpO1xyXG4gICAgICB9KVxyXG4gICAgICAkc2NvcGUubm9LZWVwZWRJZCA9IGlkcy50b1N0cmluZygpO1xyXG4gICAgICBpZiAoJHNjb3BlLmNoZWNrTGlzdC5sZW5ndGggPD0gMCkgcmV0dXJuIGxheWVyLm1zZygnUGxlYXNlIHNlbGVjdCBvcmRlcihzKSBmaXJzdCEnKTtcclxuICAgICAgJHNjb3BlLnByb2NlVGNGbGFnID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGxldCBpc0tlZXBGbGFnID0gZmFsc2U7XHJcbiAgICAkc2NvcGUua2VlcFN1cmVGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChpc0tlZXBGbGFnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlzS2VlcEZsYWcgPSB0cnVlO1xyXG4gICAgICBsYXllci5sb2FkKDIpXHJcbiAgICAgICRzY29wZS5rZWVwRmxhZyA9IGZhbHNlO1xyXG4gICAgICBsZXQgcXVlcnlEYXRhID0ge1xyXG4gICAgICAgIG9yZGVyTnVtczokc2NvcGUubm9LZWVwZWRJZCxcclxuICAgICAgICB0eXBlOiRzY29wZS51bkNvbm5lY3RUeXBlXHJcbiAgICAgIH07XHJcbiAgICAgIGRzcC5wb3N0RnVuKCdvcmRlci9vcmRlci9yZWdlbmVyYXRlT3JkZXInLCBKU09OLnN0cmluZ2lmeShxdWVyeURhdGEpLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGlzS2VlcEZsYWcgPSBmYWxzZTtcclxuICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpXHJcbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgdmFyIHJlc0FyciA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICB2YXIgcmVzU3VjQ291bnQgPSAwLCByZXNFcnJvckNvdW50ID0gMCwgZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgICAgaWYgKHJlc0FyciAmJiBKU09OLnN0cmluZ2lmeShyZXNBcnIpICE9ICdbXScpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJlc0Fyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgIGlmIChyZXNBcnJbaV0ucmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNTdWNDb3VudCsrO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXNFcnJvckNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSByZXNBcnJbaV0ubWVzc2FnZVswXTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChyZXNTdWNDb3VudCA+IDAgJiYgcmVzRXJyb3JDb3VudCA8IDEpIHtcclxuICAgICAgICAgICAgICBsYXllci5tc2coJ1JlcHJvY2Vzc2VkIFN1Y2Nlc3NmdWxseScpXHJcbiAgICAgICAgICAgICAgcmVzU3VjRnJlc2hGdW4oKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlmIChyZXNTdWNDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJlc1N1Y0ZyZXNoRnVuKClcclxuICAgICAgICAgICAgICAgIGxheWVyLm1zZyhlcnJvck1lc3NhZ2UsIHsgdGltZTogMzAwMCB9KVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSByZXNBcnJbMF0ubWVzc2FnZVswXVxyXG4gICAgICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcbiAgICAgICAgICAgICAgICBsYXllci5tc2coZXJyb3JNZXNzYWdlLCB7IHRpbWU6IDMwMDAgfSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxheWVyLm1zZygnUmVwcm9jZXNzIGVycm9yJylcclxuICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoXCJsb2FkaW5nXCIpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaXNLZWVwRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIGRzcC5jak1lc0Z1bigxKTtcclxuICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy/liKDpmaTorqLljZXnmoTlj5bmtogg56Gu5a6aXHJcbiAgICAkc2NvcGUucmVtb3ZlUXhGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICRzY29wZS5yZW1vdmVGbGFnID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXNTdWNGcmVzaEZ1bigpIHtcclxuICAgICAgJHNjb3BlLnBhZ2VOdW0gPSAxO1xyXG4gICAgICBnZXRMaXN0KClcclxuICAgIH1cclxuICAgIGxldCBpc1N1cmVGbGFnID0gZmFsc2U7XHJcbiAgICAkc2NvcGUucmVtb3ZlU3VyZUZ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKGlzU3VyZUZsYWcpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaXNTdXJlRmxhZyA9IHRydWU7XHJcbiAgICAgIGxheWVyLmxvYWQoMilcclxuICAgICAgJHNjb3BlLnJlbW92ZUZsYWcgPSBmYWxzZTtcclxuICAgICAgbGV0IHF1ZXJ5RGF0YSA9IHtcclxuICAgICAgICBvcmRlck51bXM6JHNjb3BlLmNoZWNrSWRzLnRvU3RyaW5nKCksXHJcbiAgICAgICAgdHlwZTowXHJcbiAgICAgIH07XHJcbiAgICAgIGRzcC5wb3N0RnVuKCdvcmRlci9vcmRlci9yZWdlbmVyYXRlT3JkZXInLCBKU09OLnN0cmluZ2lmeShxdWVyeURhdGEpLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGlzU3VyZUZsYWcgPSBmYWxzZTtcclxuICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpXHJcbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgdmFyIHJlc0FyciA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICB2YXIgcmVzU3VjQ291bnQgPSAwLCByZXNFcnJvckNvdW50ID0gMCwgZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgICAgaWYgKHJlc0FyciAmJiBKU09OLnN0cmluZ2lmeShyZXNBcnIpICE9ICdbXScpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJlc0Fyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgIGlmIChyZXNBcnJbaV0ucmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNTdWNDb3VudCsrO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXNFcnJvckNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSByZXNBcnJbaV0ubWVzc2FnZVswXTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yTWVzc2FnZSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChyZXNTdWNDb3VudCA+IDAgJiYgcmVzRXJyb3JDb3VudCA8IDEpIHtcclxuICAgICAgICAgICAgICBsYXllci5tc2coJ1JlcHJvY2Vzc2VkIFN1Y2Nlc3NmdWxseXMnKVxyXG4gICAgICAgICAgICAgIHJlc1N1Y0ZyZXNoRnVuKClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBpZiAocmVzU3VjQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXNTdWNGcmVzaEZ1bigpXHJcbiAgICAgICAgICAgICAgICBsYXllci5tc2coZXJyb3JNZXNzYWdlLCB7IHRpbWU6IDMwMDAgfSlcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gcmVzQXJyWzBdLm1lc3NhZ2VbMF1cclxuICAgICAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKFwibG9hZGluZ1wiKVxyXG4gICAgICAgICAgICAgICAgbGF5ZXIubXNnKGVycm9yTWVzc2FnZSwgeyB0aW1lOiAzMDAwIH0pXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsYXllci5tc2coJ1JlcHJvY2VzcyBlcnJvcicpXHJcbiAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKFwibG9hZGluZ1wiKVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpc1N1cmVGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgbGF5ZXIuY2xvc2VBbGwoJ2xvYWRpbmcnKVxyXG4gICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgIGRzcC5jak1lc0Z1bigxKTtcclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIC8v6YeN5paw5ouJ5Y+W6K6i5Y2V55qE5YCS6K6h5pe2XHJcbiAgICB2YXIgcHJvZ3Jlc3NMaW5lTnVtID0gMDtcclxuICAgIHZhciBwcm9ncmVzc1N0dSA9ICcxJztcclxuXHJcbiAgICBmdW5jdGlvbiB0ZXN0RnVuKCkge1xyXG4gICAgICBpZiAoKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JpYW5saWFuZ3RpbWUnKSkgLyAxMDAwIDwgNSkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdGVzdEZ1bigpO1xyXG4gICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmlhbmxpYW5ndGltZScsIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcclxuICAgICAgdmFyIHF1ZXJ5RGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdxdWVyeURhdGEnKVxyXG4gICAgICB2YXIgbGluayA9IGxvY2F0aW9uLmhyZWY7XHJcbiAgICAgIGNvbnNvbGUubG9nKGxpbmspXHJcbiAgICAgIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBkc3AucG9zdEZ1bignYXBwL29yZGVyL2dldE9wZXJhdGlvbk9yZGVyU3RhdHVzJywgcXVlcnlEYXRhLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgcHJvZ3Jlc3NMaW5lTnVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcm9ncmVzc0xpbmVOdW1cIikgLSAwO1xyXG4gICAgICAgIHByb2dyZXNzTGluZU51bSsrO1xyXG4gICAgICAgIHByb2dyZXNzU3R1ID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICBzd2l0Y2ggKHByb2dyZXNzU3R1KSB7XHJcbiAgICAgICAgICBjYXNlICcxJzpcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9ncmVzc0xpbmVOdW1cIiwgcHJvZ3Jlc3NMaW5lTnVtKTtcclxuICAgICAgICAgICAgaWYgKHByb2dyZXNzTGluZU51bSA+IDMyKSB7XHJcbiAgICAgICAgICAgICAgJCgnLnByb2dyZXNzLWJhcicpLmNzcygnd2lkdGgnLCAzMyArICclJyk7XHJcbiAgICAgICAgICAgICAgJCgnLnByb2dyZXNzLWJhcicpLnRleHQoMzMgKyAnJScpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJCgnLnByb2dyZXNzLWJhcicpLmNzcygnd2lkdGgnLCBwcm9ncmVzc0xpbmVOdW0gKyAnJScpO1xyXG4gICAgICAgICAgICAgICQoJy5wcm9ncmVzcy1iYXInKS50ZXh0KHByb2dyZXNzTGluZU51bSArICclJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJzInOlxyXG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3NMaW5lTnVtIDwgMzMpIHtcclxuICAgICAgICAgICAgICBwcm9ncmVzc0xpbmVOdW0gPSAzMztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2dyZXNzTGluZU51bVwiLCBwcm9ncmVzc0xpbmVOdW0pO1xyXG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3NMaW5lTnVtID4gNjYpIHtcclxuICAgICAgICAgICAgICAkKCcucHJvZ3Jlc3MtYmFyJykuY3NzKCd3aWR0aCcsIDY2ICsgJyUnKTtcclxuICAgICAgICAgICAgICAkKCcucHJvZ3Jlc3MtYmFyJykudGV4dCg2NiArICclJylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAkKCcucHJvZ3Jlc3MtYmFyJykuY3NzKCd3aWR0aCcsIHByb2dyZXNzTGluZU51bSArICclJyk7XHJcbiAgICAgICAgICAgICAgJCgnLnByb2dyZXNzLWJhcicpLnRleHQocHJvZ3Jlc3NMaW5lTnVtICsgJyUnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnMyc6XHJcbiAgICAgICAgICAgIGlmIChwcm9ncmVzc0xpbmVOdW0gPCA2Nikge1xyXG4gICAgICAgICAgICAgIHByb2dyZXNzTGluZU51bSA9IDY2O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvZ3Jlc3NMaW5lTnVtXCIsIHByb2dyZXNzTGluZU51bSk7XHJcbiAgICAgICAgICAgIGlmIChwcm9ncmVzc0xpbmVOdW0gPiA5OSkge1xyXG4gICAgICAgICAgICAgICQoJy5wcm9ncmVzcy1iYXInKS5jc3MoJ3dpZHRoJywgOTkgKyAnJScpO1xyXG4gICAgICAgICAgICAgICQoJy5wcm9ncmVzcy1iYXInKS50ZXh0KDk5ICsgJyUnKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICQoJy5wcm9ncmVzcy1iYXInKS5jc3MoJ3dpZHRoJywgcHJvZ3Jlc3NMaW5lTnVtICsgJyUnKTtcclxuICAgICAgICAgICAgICAkKCcucHJvZ3Jlc3MtYmFyJykudGV4dChwcm9ncmVzc0xpbmVOdW0gKyAnJScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICcwJzpcclxuICAgICAgICAgICAgJHNjb3BlLmlzdXBkYXRlRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXBkYXRlVGltZScpXHJcbiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInpoaXhpbmcwXCIpID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd6aGl4aW5nMCcsIFwiMFwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHNjb3BlLnBhZ2VOdW0gPSAxO1xyXG4gICAgICAgICAgICBnZXRMaXN0KClcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcm9ncmVzc1N0dSAhPSBcIjBcIikge1xyXG4gICAgICAgICAgdGVzdEZ1bigpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1cGRhdGVUaW1lJykpIHtcclxuICAgICAgJHNjb3BlLmlzdXBkYXRlRmxhZyA9IHRydWU7XHJcbiAgICAgIHRlc3RGdW4oKTtcclxuICAgIH1cclxuICAgIC8v6YeN5paw5ouJ5Y+W6K6i5Y2VXHJcbiAgICAkc2NvcGUuY3hscW9yZEZ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgZ2V0Q2hlY2tEYXRhKClcclxuICAgICAgbGF5ZXIubG9hZCgpO1xyXG4gICAgICBsZXQgc2VsZWN0TnVtID0gJHNjb3BlLmNoZWNrTGlzdC5sZW5ndGg7Ly/lrZjlgqjooqvpgInkuK3nmoTmnaHmlbBcclxuICAgICAgbGV0IG9yZGVyc2lkID0gJHNjb3BlLmNoZWNrSWRzLnRvU3RyaW5nKCk7Ly/lrZjlgqjorqLljZXnmoRpZFxyXG4gICAgICBpZiAoc2VsZWN0TnVtIDw9IDApIHJldHVybiBsYXllci5tc2coJ1BsZWFzZSBzZWxlY3Qgb3JkZXIocykgZmlyc3QhJyk7XHJcbiAgICAgIGxheWVyLm9wZW4oe1xyXG4gICAgICAgIGNvbnRlbnQ6IGA8cD5BcmUgeW91IHN1cmUgdG8gVXBkYXRlIE9yZGVycz88L3A+PHA+SXQgd2lsbCB0YWtlIGFyb3VuZCBmZXcgbWl1bnRlcyB0byBtYWtlIHRoaXMgaGFwcGVuLjwvcD5cclxuICAgICAgICA8cD5PcmRlciBRdWFudGl0eTogIDxzcGFuIGlkPSdhd2EtZGNsLW51bSc+PC9zcGFuPjwvcD5gLFxyXG4gICAgICAgIGFyZWE6IFsnNDgwcHgnLCAnMjYwcHgnXSxcclxuICAgICAgICBjbG9zZUJ0bjogMCxcclxuICAgICAgICB0aXRsZTogXCJVcGRhdGUgT3JkZXJzXCIsXHJcbiAgICAgICAgYnRuOiBbJ0NhbmNlbCcsICdDb25maXJtJ10sXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGxheWVybywgaW5kZXgpIHtcclxuICAgICAgICAgICQobGF5ZXJvKS5maW5kKCcjYXdhLWRjbC1udW0nKS5odG1sKHNlbGVjdE51bSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB5ZXM6IGZ1bmN0aW9uIChpbmRleCwgbGF5ZXJvKSB7XHJcbiAgICAgICAgICBsYXllci5jbG9zZUFsbChcImxvYWRpbmdcIilcclxuICAgICAgICAgIGxheWVyLmNsb3NlKGluZGV4KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJ0bjI6IGZ1bmN0aW9uIChpbmRleCwgbGF5ZXJvKSB7XHJcbiAgICAgICAgICBsZXQgcXVlcnlEYXRhID0ge1xyXG4gICAgICAgICAgICBvcmRlck51bXM6IG9yZGVyc2lkXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgZHNwLnBvc3RGdW4oJ29yZGVyL29yZGVyL3JlZ2VuZXJhdGVPcmRlckFsbCcsIEpTT04uc3RyaW5naWZ5KHF1ZXJ5RGF0YSksIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGRzcC5jbG9zZUxvYWQoKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5zdGF0dXNDb2RlID09IFwiMjAwXCIpIHtcclxuICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAkc2NvcGUuc2hvd1VwZGF0ZT10cnVlO1xyXG4gICAgICAgICAgICAgICRzY29wZS51cGRhdGFJbmZvID0ge1xyXG4gICAgICAgICAgICAgICAgc3VjYzpyZXN1bHQuc3VjY2Vzc0NvdW50LFxyXG4gICAgICAgICAgICAgICAgZmFpbDpyZXN1bHQudW5Nb2RpZnlDb3VudFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuaXN1cGRhdGVGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgbGF5ZXIubXNnKGRhdGEuZGF0YS5tZXNzYWdlKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAkc2NvcGUubW9kZWZ5QWRkRnVuID0gZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICRzY29wZS5hZGRNb2RlZnlGbGFnID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLmFkZEl0ZW1JZCA9IGl0ZW0uSUQ7XHJcbiAgICAgICRzY29wZS5hZGRJdGVtSW5kZXggPSBpbmRleDtcclxuICAgICAgJHNjb3BlLmFkZHJlc3MxID0gaXRlbS5TSElQUElOR19BRERSRVNTO1xyXG4gICAgICAkc2NvcGUuYWRkcmVzczIgPSBpdGVtLnNoaXBwaW5nQWRkcmVzczI7XHJcbiAgICAgICRzY29wZS5hZGRDaXR5ID0gaXRlbS5DSVRZO1xyXG4gICAgICAkc2NvcGUuYWRkUHJvdmluY2UgPSBpdGVtLlBST1ZJTkNFO1xyXG4gICAgICAkc2NvcGUuYWRkWmlwID0gaXRlbS5aSVA7XHJcbiAgICAgICRzY29wZS5hZGRQaG9uZSA9IGl0ZW0uUEhPTkU7XHJcbiAgICAgICRzY29wZS5hZGROYW1lID0gaXRlbS5DVVNUT01FUl9OQU1FO1xyXG4gICAgfVxyXG4gICAgJHNjb3BlLnN1cmVNb2RlRnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBkc3AubG9hZCgpXHJcbiAgICAgIGxldCBhZGRVcGRhdGEgPSB7XHJcbiAgICAgICAgaWQ6ICRzY29wZS5hZGRJdGVtSWQsXHJcbiAgICAgICAgc2hpcHBpbmdfYWRkcmVzczogJHNjb3BlLmFkZHJlc3MxLFxyXG4gICAgICAgIHNoaXBwaW5nX2FkZHJlc3MyOiAkc2NvcGUuYWRkcmVzczIsXHJcbiAgICAgICAgY2l0eTogJHNjb3BlLmFkZENpdHksXHJcbiAgICAgICAgcHJvdmluY2U6ICRzY29wZS5hZGRQcm92aW5jZSxcclxuICAgICAgICB6aXA6ICRzY29wZS5hZGRaaXAsXHJcbiAgICAgICAgcGhvbmU6ICRzY29wZS5hZGRQaG9uZSxcclxuICAgICAgICBuYW1lOiAkc2NvcGUuYWRkTmFtZVxyXG4gICAgICB9O1xyXG4gICAgICBkc3AucG9zdEZ1bignYXBwL29yZGVyL3VwZGF0ZUZpbGVkJywgSlNPTi5zdHJpbmdpZnkoYWRkVXBkYXRhKSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgIGRzcC5jbG9zZUxvYWQoKTtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhLnJlc3VsdCA+IDApIHtcclxuICAgICAgICAgICRzY29wZS5hZGRNb2RlZnlGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICBsYXllci5tc2coJ01vZGlmaWVkIFN1Y2Nlc3NmdWxseScpXHJcbiAgICAgICAgICByZXNTdWNGcmVzaEZ1bigpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxheWVyLm1zZygnTW9kaWZ5IGZhaWxlZCcpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGRzcC5jbG9zZUxvYWQoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgJHNjb3BlLmNoZWNrUGhvbmUgPSBmdW5jdGlvbiAocGhvbmUpIHtcclxuICAgICAgcGhvbmUgPSBwaG9uZS5yZXBsYWNlKC9bXlxcZFxcK1xcLVxcKFxcKV0vZywgXCJcIik7XHJcbiAgICAgICRzY29wZS5hZGRQaG9uZSA9IHBob25lO1xyXG4gICAgfVxyXG5cclxuICAgIC8v57uZ5bem5L6n55qE5a+86Iiq5re75Yqg5rua5Yqo5LqL5Lu2XHJcbiAgICAkKGRvY3VtZW50KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPj0gMCkge1xyXG4gICAgICAgICQoJy5sZWZ0LW5hdicpLmNzcyh7XHJcbiAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcclxuICAgICAgICAgIHRvcDogJzgwcHgnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKCQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID49IDUyKSB7XHJcbiAgICAgICAgICAkKCcuYmFjay13cmFwJykuY3NzKHtcclxuICAgICAgICAgICAgdG9wOiAnODBweCdcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQoJy5iYWNrLXdyYXAnKS5jc3Moe1xyXG4gICAgICAgICAgICB0b3A6ICcxMzBweCdcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgICQoJy5sZWZ0LW5hdicpLmNzcyh7XHJcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcclxuICAgICAgICAgIHRvcDogJzgwcHgnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy/mjInlupfpk7rmkJzntKLorqLljZVcclxuICAgICRzY29wZS5zdG9yZUNoYW5nZUZ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgJHNjb3BlLnBhZ2VOdW0gPSAxO1xyXG4gICAgICBnZXRMaXN0KClcclxuICAgIH1cclxuXHJcbiAgICAvL+mrmOe6p+aQnOe0oumDqOWIhueahOafpeivolx0XHRcclxuICAgICQoJyN0ai1zZWFyY2gtYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAkc2NvcGUucGFnZU51bSA9IDE7XHJcbiAgICAgIGdldExpc3QoKVxyXG4gICAgfSlcclxuXHJcbiAgICAvL+aJuemHj+WIoOmZpFxyXG4gICAgJHNjb3BlLmJ1bGtDYW5jZWxGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGdldENoZWNrRGF0YSgpO1xyXG4gICAgICBpZiAoJHNjb3BlLmNoZWNrTGlzdC5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5vcmRlcnMtbGlzdCcpKVxyXG4gICAgICAgIGxheWVyLm1zZygnUGxlYXNlIHNlbGVjdCBvcmRlcihzKSBmaXJzdCEnKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkc2NvcGUuYnVsa0RlbEZsYWcgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAkc2NvcGUuYnVsa0RlbEZ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgJHNjb3BlLmJ1bGtEZWxGbGFnID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAkc2NvcGUuYnVsa1N1cmVEZWxGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICRzY29wZS5idWxrRGVsRmxhZyA9IGZhbHNlO1xyXG4gICAgICAvLyAkc2NvcGUub3JkZXJzTGlzdCA9IFtdO1xyXG4gICAgICAvLyBkc3AubG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JyksICQod2luZG93KS5oZWlnaHQoKSAtIDE3MSwgNDcsIDApXHJcbiAgICAgIGxheWVyLmxvYWQoMilcclxuICAgICAgbGV0IGNhbmNlbERhdGEgPSB7XHJcbiAgICAgICAgb3JkZXJOdW1zOiAkc2NvcGUuY2hlY2tJZHMudG9TdHJpbmcoKSxcclxuICAgICAgICB0eXBlOiAxXHJcbiAgICAgIH07XHJcbiAgICAgIGRzcC5wb3N0RnVuKCdhcHAvb3JkZXIvZGVsZXRlT3JkZXInLCBKU09OLnN0cmluZ2lmeShjYW5jZWxEYXRhKSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgIGxheWVyLmNsb3NlQWxsKFwibG9hZGluZ1wiKVxyXG4gICAgICAgIGlmIChkYXRhLmRhdGEucmVzdWx0ID09IHRydWUpIHtcclxuICAgICAgICAgIC8v6K6p5YWo6YCJ5oyJ6ZKu572u5Li66Z2e6YCJ5Lit54q25oCBXHJcbiAgICAgICAgICAkc2NvcGUucGFnZU51bSA9IDE7XHJcbiAgICAgICAgICBnZXRMaXN0KClcclxuICAgICAgICAgIGxheWVyLm1zZygnRGVsZXRlIFN1Y2Nlc3MnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gZHNwLmNsb3NlTG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JykpXHJcbiAgICAgICAgICBsYXllci5tc2coJ0RlbGV0ZSBFcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBsYXllci5jbG9zZUFsbChcImxvYWRpbmdcIilcclxuICAgICAgICAvLyBkc3AuY2xvc2VMb2FkUGVyY2VudCgkKCcub3JkZXJzLWxpc3QnKSlcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgLy/pq5jnuqfmkJzntKLph4zpnaLnmoTmjInorqLljZXnsbvlnovmkJzntKJcclxuICAgICQoJy50eXBlLXNlbCcpLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICRzY29wZS5wYWdlTnVtID0gMTtcclxuICAgICAgZ2V0TGlzdCgpXHJcbiAgICB9KVxyXG4gICAgLy/nlKjorqLljZXlj7fmkJzntKIgb3JkZXJOdW1iZXIgIFxyXG4gICAgJCgnLm9yZC1zZWFyY2gtaW5wJykua2V5cHJlc3MoZnVuY3Rpb24gKEV2ZW50KSB7XHJcbiAgICAgIGlmIChFdmVudC5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgJHNjb3BlLm9yZG51bVNlYXJjaCgpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgJHNjb3BlLm9yZG51bVNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgJHNjb3BlLnBhZ2VOdW0gPSAxO1xyXG4gICAgICBnZXRMaXN0KClcclxuICAgIH1cclxuICAgICRzY29wZS5jb25uZWN0RnVuID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgdmFyIHNwTmFtZSA9IGJzLmVuY29kZShpdGVtLlNISVBQSU5HX05BTUUpO1xyXG4gICAgICB3aW5kb3cub3BlbignIy9wcm9kdWN0cy1jb25uZWN0aW9uL3BlbmRpbmctY29ubmVjdGlvbi8nICsgc3BOYW1lKTtcclxuICAgIH1cclxuICAgICRzY29wZS5zb3VyY2VGdW4gPSBmdW5jdGlvbiAoaXRlbSwgb3JkZXIpIHtcclxuICAgICAgY29uc29sZS5sb2coaXRlbSlcclxuICAgICAgdmFyIHNwTmFtZSA9IGJzLmVuY29kZShpdGVtLlNISVBQSU5HX05BTUUpO1xyXG4gICAgICB2YXIgc3RvcmVJZCA9IG9yZGVyLlNUT1JFX05VTUJFUjtcclxuICAgICAgd2luZG93Lm9wZW4oJyMvYWRkLXNvdXJjaW5nLycgKyBzcE5hbWUgKyAnLycgKyBzdG9yZUlkICsgICcvLycsICdfYmxhbmsnKVxyXG4gICAgfVxyXG4gICAgLy9jauWVhuWTgeWQjeWtl+i3s+i9rOWIsGNq6K+m5oOF6aG1XHJcbiAgICAkc2NvcGUuY2pkZXRhaWxocmVmID0gZnVuY3Rpb24gKG9yZGl0ZW0sIHNwaXRlbSkge1xyXG4gICAgICB2YXIgaWQgPSBzcGl0ZW0uY2pQcm9kdWN0SWQ7XHJcbiAgICAgIHdpbmRvdy5vcGVuKCdwcm9kdWN0LWRldGFpbC5odG1sP2lkPScgKyBpZClcclxuICAgIH1cclxuICAgIC8v5ZWG5ZOB5ZCN5a2X6Lez6L2s5a6i5oi35ZCO5Y+wXHJcbiAgICAkc2NvcGUuaHJlZkZ1biA9IGZ1bmN0aW9uIChvcmRpdGVtLCBzcGl0ZW0pIHtcclxuICAgICAgY29uc29sZS5sb2cob3JkaXRlbS5TVE9SRV9OQU1FKVxyXG4gICAgICB2YXIgc3RvcmVOYW1lID0gb3JkaXRlbS5TVE9SRV9OQU1FO1xyXG4gICAgICBjb25zb2xlLmxvZyhzcGl0ZW0ucHJvZHVjdF9pZClcclxuICAgICAgdmFyIHByb2R1Y3RJZCA9IHNwaXRlbS5wcm9kdWN0X2lkO1xyXG4gICAgICBpZiAoc3RvcmVOYW1lID09IFwiRXhjZWwgSW1wb3J0ZWRcIikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3aW5kb3cub3BlbignaHR0cHM6Ly8nICsgc3RvcmVOYW1lICsgJy5teXNob3BpZnkuY29tL2FkbWluL3Byb2R1Y3RzLycgKyBwcm9kdWN0SWQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGFkZE5vdFNqRnVuKCkge1xyXG4gICAgICBkc3AuYWRkTm9kYXRhUGljKCQoJy5vcmRlcnMtbGlzdCcpLCQod2luZG93KS5oZWlnaHQoKS0xNzEsNDcsMCx7d2lkdGg6JzEwMCUnfSx0cnVlKVxyXG4gICAgICAkKCcuZGVhbC1vcmRlcnMnKS5jc3MoJ21pbi1oZWlnaHQnLCAkKCcuY2otbm9kYXRhLXBpYycpLmhlaWdodCgpICsgNTApXHJcbiAgICB9XHJcbiAgICAvL2Nq5byA5aeL5pel5pyf5pCc57SiXHJcbiAgICAkKFwiI2NqLXN0aW1lXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIGNqZW5kdGltZSA9ICQoXCIjY2otc3RpbWVcIikudmFsKCk7XHJcbiAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZW5kdGltZTIgPSAkKFwiI2NqLXN0aW1lXCIpLnZhbCgpO1xyXG4gICAgICAgIGlmIChlbmR0aW1lMiAhPSBjamVuZHRpbWUpIHtcclxuICAgICAgICAgICRzY29wZS5vcmRlcnNMaXN0ID0gW107XHJcbiAgICAgICAgICBkc3AubG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JyksICQod2luZG93KS5oZWlnaHQoKSAtIDE3MSwgNDcsIDApXHJcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuXHJcbiAgICAgICAgICAkc2NvcGUucGFnZU51bSA9IDE7XHJcbiAgICAgICAgICBnZXRMaXN0KClcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDEwMClcclxuICAgIH0pXHJcbiAgICAvL2Nq57uT5p2f5pel5pyf5pCc57SiXHJcbiAgICAkKFwiI2NqLWV0aW1lXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIGNqZW5kdGltZSA9ICQoXCIjY2otZXRpbWVcIikudmFsKCk7XHJcbiAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZW5kdGltZTIgPSAkKFwiI2NqLWV0aW1lXCIpLnZhbCgpO1xyXG4gICAgICAgIGlmIChlbmR0aW1lMiAhPSBjamVuZHRpbWUpIHtcclxuICAgICAgICAgICRzY29wZS5vcmRlcnNMaXN0ID0gW107XHJcbiAgICAgICAgICBkc3AubG9hZFBlcmNlbnQoJCgnLm9yZGVycy1saXN0JyksICQod2luZG93KS5oZWlnaHQoKSAtIDE3MSwgNDcsIDApXHJcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuXHJcbiAgICAgICAgICAkc2NvcGUucGFnZU51bSA9IDE7XHJcbiAgICAgICAgICBnZXRMaXN0KClcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDEwMClcclxuICAgIH0pXHJcbiAgICAvL+ajgOafpeayoeacieaLieWPluWIsOiuouWNleeahOWOn+WboFxyXG4gICAgJHNjb3BlLm5vT3JkUmVzb25GbGFnID0gZmFsc2U7XHJcbiAgICAkc2NvcGUucmVzUmVzb25GbGFnID0gZmFsc2U7Ly/lsZXnpLrlkI7lj7Dov5Tlm57nmoTmsqHmnInorqLljZXljp/lm6DnmoTlvLnmoYZcclxuICAgICRzY29wZS5ub09yZFJlc29uRnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAkc2NvcGUubm9PcmRSZXNvbkZsYWcgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgJHNjb3BlLm5vT3JkU3VyZUZ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCRzY29wZS5zaG9wT3JkTnVtID09ICd1bmRlZmluZWQnIHx8ICRzY29wZS5zaG9wT3JkTnVtID09ICcnKSB7XHJcbiAgICAgICAgbGF5ZXIubXNnKCdQbGVhc2UgZW50ZXIgdGhlIG9yZGVyIG51bWJlciBpbiB5b3VyIHNob3AuJylcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgbGF5ZXIubG9hZCgyKTtcclxuICAgICAgZHNwLnBvc3RGdW4oJ2FwcC9vcmRlci9jaGVja1N5bmNPcmRlcicsIHtcclxuICAgICAgICBjdXN0b21lck9yZGVySWQ6ICRzY29wZS5zaG9wT3JkTnVtXHJcbiAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgICAgICBsYXllci5jbG9zZUFsbChcImxvYWRpbmdcIilcclxuICAgICAgICAkc2NvcGUubm9PcmRSZXNvbkZsYWcgPSBmYWxzZTtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhLnJlc3VsdCAhPSAnJykge1xyXG4gICAgICAgICAgJHNjb3BlLnJlc1Jlc29uRmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAkKCcubm8tb3JkcmVzLXJlc29uJykudGV4dChkYXRhLmRhdGEucmVzdWx0KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBsYXllci5tc2coJ1RoZSBxdWVyeSBmYWlscy4nKVxyXG4gICAgICAgIH1cclxuICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBsYXllci5jbG9zZUFsbChcImxvYWRpbmdcIilcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgJHNjb3BlLm5vT3JkUXhGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICRzY29wZS5ub09yZFJlc29uRmxhZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgJHNjb3BlLmNsb3NlUmVzUmVhc29uRnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAkc2NvcGUucmVzUmVzb25GbGFnID0gZmFsc2U7XHJcbiAgICAgICQoJy5uby1vcmRyZXMtcmVzb24nKS50ZXh0KCcnKTtcclxuICAgIH1cclxuICAgIC8qIOWFqOmAieaTjeS9nCAqL1xyXG4gICAgJHNjb3BlLmNoZWNrQWxsRnVuID0gKCk9PntcclxuICAgICAgJHNjb3BlLm9yZGVyc0xpc3QuZm9yRWFjaChpdGVtPT5pdGVtLmNoZWNrPSRzY29wZS5jaGVja0FsbCk7XHJcbiAgICB9XHJcbiAgICAvKiDljZXpgInmk43kvZwgKi9cclxuICAgICRzY29wZS5jaGVja0Z1biA9IChlKT0+e1xyXG4gICAgICBnZXRDaGVja0RhdGEoKTtcclxuICAgICAgJHNjb3BlLmNoZWNrQWxsID0gJHNjb3BlLmNoZWNrTGlzdC5sZW5ndGg9PSRzY29wZS5vcmRlcnNMaXN0Lmxlbmd0aDtcclxuICAgIH1cclxuICAgICRzY29wZS5zdG9wUHJvcCA9IChlKT0+e1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG4gICAgJHNjb3BlLmtlZXBVbmNvbm5lY3RGdW4gPSAoKT0+e1xyXG4gICAgICAkc2NvcGUucHJvY2VUY0ZsYWc9ZmFsc2U7XHJcbiAgICAgICRzY29wZS5rZWVwRmxhZz10cnVlO1xyXG4gICAgICAkc2NvcGUudW5Db25uZWN0VHlwZT0xO1xyXG4gICAgfVxyXG4gICAgJHNjb3BlLnJlbW92ZVVuY29ubmVjdEZ1biA9ICgpPT57XHJcbiAgICAgICRzY29wZS5wcm9jZVRjRmxhZz1mYWxzZTtcclxuICAgICAgJHNjb3BlLmtlZXBGbGFnPXRydWU7XHJcbiAgICAgICRzY29wZS51bkNvbm5lY3RUeXBlPTA7XHJcbiAgICB9XHJcbiAgfV0pO1xyXG5cclxuICByZXR1cm4gYXBwO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUEvQ0E7QUFDQTtBQWdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFuQ0E7QUFxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/pages/mycj/imported-orders/import-incomplete.js\n");

/***/ })

}]);