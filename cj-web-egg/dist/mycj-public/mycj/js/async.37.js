(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[37],{

/***/ "../src/pages/mycj/inventory-package/child-order.js":
/*!**********************************************************!*\
  !*** ../src/pages/mycj/inventory-package/child-order.js ***!
  \**********************************************************/
/*! exports provided: childOrderFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"childOrderFactory\", function() { return childOrderFactory; });\nfunction childOrderFactory(angular) {\n  var winHeight = $(window).height() * 1;\n  var rightBarHeight = winHeight - 191 - 34;\n  var nodataHeight = winHeight - 311;\n  var app = angular.module('inventory-package-child-order.module', []);\n  app.controller('inventory-package-child-order.ctrl', ['$scope', '$stateParams', 'dsp', function ($scope, $stateParams, dsp) {\n    /*\r\n    * 默认配置\r\n    * */\n    $('.header-nav li').eq(0).addClass('active');\n    dsp.setRightMinHeight(); //数据声明\n\n    $scope.pageNum = '1';\n    $scope.pageSize = '10';\n    $scope.totalNum = null;\n    $scope.inputStr = '';\n    $scope.dataList = [];\n    $scope.type = $stateParams.type;\n    $scope.id = $stateParams.id;\n    $scope.packVid = $stateParams.packVid;\n    $scope.shopId = $stateParams.shopId || '';\n    $scope.title = '';\n    console.log($scope.type);\n    console.log($scope.packVid);\n    console.log($scope.shopId);\n    console.log($scope.id);\n\n    if ($scope.type === 'use') {\n      $scope.title = 'Used:';\n    } else if ($scope.type === 'order') {\n      $scope.title = 'Subscribed:';\n    } //搜索\n\n\n    $scope.searchPro = function () {\n      $scope.pageNum = '1';\n      getData();\n    };\n\n    $scope.enterSearch = function (event) {\n      if (event.keyCode == 13) {\n        $scope.searchPro();\n      }\n    }; //获取数据\n\n\n    function getData() {\n      var parms = {\n        id: $scope.id,\n        shopId: $scope.shopId,\n        packVid: $scope.packVid,\n        pageNum: $scope.pageNum,\n        pageSize: $scope.pageSize,\n        cjId: $scope.inputStr,\n        startDate: $('#cj-stime').val(),\n        endDate: $('#cj-etime').val()\n      }; //layer.load(2);\n\n      dsp.loadPercent($('.mycj-right-bar'), nodataHeight);\n      $scope.dataList = [];\n      dsp.postFun('cj/PackProduct/getCjOrderInfo', parms, function (res) {\n        //layer.closeAll('loading');\n        dsp.closeLoadPercent($('.mycj-right-bar'));\n\n        if (res.data.statusCode === '200') {\n          $scope.dataList = res.data.result.list;\n          $scope.totalNum = res.data.result.count;\n          $scope.orderNo = res.data.result.id;\n          $scope.num = res.data.result.totalNum;\n          console.log($scope.dataList);\n          pageFun();\n        }\n      }, function (err) {\n        //layer.closeAll('loading');\n        dsp.closeLoadPercent($('.mycj-right-bar'));\n        console.log(err);\n      });\n    }\n\n    getData();\n\n    $scope.back = function () {\n      history.go(-1);\n    }; //分页\n\n\n    function pageFun() {\n      $(\".page-index\").jqPaginator({\n        totalCounts: Number($scope.totalNum) || 1,\n        pageSize: Number($scope.pageSize),\n        visiblePages: 5,\n        currentPage: Number($scope.pageNum),\n        activeClass: 'current',\n        first: '<a class=\"prev\" href=\"javascript:void(0);\">&lt;&lt;<\\/a>',\n        prev: '<a class=\"prev\" href=\"javascript:void(0);\">&lt;<\\/a>',\n        next: '<a class=\"next\" href=\"javascript:void(0);\">&gt;<\\/a>',\n        last: '<a class=\"next\" href=\"javascript:void(0);\">&gt;&gt;<\\/a>',\n        page: '<a href=\"javascript:void(0);\">{{page}}<\\/a>',\n        onPageChange: function onPageChange(n, type) {\n          if (type == 'init') {\n            return;\n          }\n\n          ;\n          $scope.pageNum = n.toString();\n          getData();\n        }\n      });\n    }\n\n    $scope.chanPageSize = function () {\n      $scope.pageNum = '1';\n      getData();\n    };\n\n    $scope.chanPageNum = function () {\n      if (!isNaN($scope.pageNum * 1) && $scope.pageNum * 1 > 0 && $scope.pageNum * 1 <= $scope.totalNum) {\n        getData();\n      } else {\n        $scope.pageNum = '1';\n      }\n    };\n  }]);\n  return app;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovaW52ZW50b3J5LXBhY2thZ2UvY2hpbGQtb3JkZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vc3JjL3BhZ2VzL215Y2ovaW52ZW50b3J5LXBhY2thZ2UvY2hpbGQtb3JkZXIuanM/ZGY4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY2hpbGRPcmRlckZhY3RvcnkoYW5ndWxhcikge1xyXG4gIHZhciB3aW5IZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCkgKiAxO1xyXG4gIHZhciByaWdodEJhckhlaWdodCA9IHdpbkhlaWdodCAtIDE5MSAtIDM0O1xyXG4gIHZhciBub2RhdGFIZWlnaHQgPSB3aW5IZWlnaHQgLSAzMTE7XHJcbiAgY29uc3QgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2ludmVudG9yeS1wYWNrYWdlLWNoaWxkLW9yZGVyLm1vZHVsZScsIFtdKTtcclxuXHJcbiAgYXBwLmNvbnRyb2xsZXIoJ2ludmVudG9yeS1wYWNrYWdlLWNoaWxkLW9yZGVyLmN0cmwnLCBbJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnZHNwJyxcclxuICAgIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZVBhcmFtcywgZHNwKSB7XHJcbiAgICAgIC8qXHJcbiAgICAgICog6buY6K6k6YWN572uXHJcbiAgICAgICogKi9cclxuICAgICAgJCgnLmhlYWRlci1uYXYgbGknKS5lcSgwKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgIGRzcC5zZXRSaWdodE1pbkhlaWdodCgpO1xyXG4gICAgICAvL+aVsOaNruWjsOaYjlxyXG4gICAgICAkc2NvcGUucGFnZU51bSA9ICcxJztcclxuICAgICAgJHNjb3BlLnBhZ2VTaXplID0gJzEwJztcclxuICAgICAgJHNjb3BlLnRvdGFsTnVtID0gbnVsbDtcclxuICAgICAgJHNjb3BlLmlucHV0U3RyID0gJyc7XHJcbiAgICAgICRzY29wZS5kYXRhTGlzdCA9IFtdO1xyXG4gICAgICAkc2NvcGUudHlwZSA9ICRzdGF0ZVBhcmFtcy50eXBlO1xyXG4gICAgICAkc2NvcGUuaWQgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICAgICRzY29wZS5wYWNrVmlkID0gJHN0YXRlUGFyYW1zLnBhY2tWaWQ7XHJcbiAgICAgICRzY29wZS5zaG9wSWQgPSAkc3RhdGVQYXJhbXMuc2hvcElkIHx8ICcnO1xyXG4gICAgICAkc2NvcGUudGl0bGUgPSAnJztcclxuICAgICAgY29uc29sZS5sb2coJHNjb3BlLnR5cGUpXHJcbiAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5wYWNrVmlkKVxyXG4gICAgICBjb25zb2xlLmxvZygkc2NvcGUuc2hvcElkKVxyXG4gICAgICBjb25zb2xlLmxvZygkc2NvcGUuaWQpXHJcbiAgICAgIGlmICgkc2NvcGUudHlwZSA9PT0gJ3VzZScpIHtcclxuICAgICAgICAkc2NvcGUudGl0bGUgPSAnVXNlZDonO1xyXG4gICAgICB9IGVsc2UgaWYgKCRzY29wZS50eXBlID09PSAnb3JkZXInKSB7XHJcbiAgICAgICAgJHNjb3BlLnRpdGxlID0gJ1N1YnNjcmliZWQ6JztcclxuICAgICAgfVxyXG4gICAgICAvL+aQnOe0olxyXG4gICAgICAkc2NvcGUuc2VhcmNoUHJvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRzY29wZS5wYWdlTnVtID0gJzEnO1xyXG4gICAgICAgIGdldERhdGEoKTtcclxuICAgICAgfTtcclxuICAgICAgJHNjb3BlLmVudGVyU2VhcmNoID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMpIHtcclxuICAgICAgICAgICRzY29wZS5zZWFyY2hQcm8oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8v6I635Y+W5pWw5o2uXHJcbiAgICAgIGZ1bmN0aW9uIGdldERhdGEoKSB7XHJcbiAgICAgICAgdmFyIHBhcm1zID0ge1xyXG4gICAgICAgICAgaWQ6ICRzY29wZS5pZCxcclxuICAgICAgICAgIHNob3BJZDogJHNjb3BlLnNob3BJZCxcclxuICAgICAgICAgIHBhY2tWaWQ6ICRzY29wZS5wYWNrVmlkLFxyXG4gICAgICAgICAgcGFnZU51bTogJHNjb3BlLnBhZ2VOdW0sXHJcbiAgICAgICAgICBwYWdlU2l6ZTogJHNjb3BlLnBhZ2VTaXplLFxyXG4gICAgICAgICAgY2pJZDogJHNjb3BlLmlucHV0U3RyLFxyXG4gICAgICAgICAgc3RhcnREYXRlOiAkKCcjY2otc3RpbWUnKS52YWwoKSxcclxuICAgICAgICAgIGVuZERhdGU6ICQoJyNjai1ldGltZScpLnZhbCgpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy9sYXllci5sb2FkKDIpO1xyXG4gICAgICAgIGRzcC5sb2FkUGVyY2VudCgkKCcubXljai1yaWdodC1iYXInKSwgbm9kYXRhSGVpZ2h0KTtcclxuICAgICAgICAkc2NvcGUuZGF0YUxpc3QgPSBbXTtcclxuICAgICAgICBkc3AucG9zdEZ1bignY2ovUGFja1Byb2R1Y3QvZ2V0Q2pPcmRlckluZm8nLCBwYXJtcywgKHJlcykgPT4ge1xyXG4gICAgICAgICAgLy9sYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgICAgZHNwLmNsb3NlTG9hZFBlcmNlbnQoJCgnLm15Y2otcmlnaHQtYmFyJykpO1xyXG4gICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09ICcyMDAnKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRhTGlzdCA9IHJlcy5kYXRhLnJlc3VsdC5saXN0O1xyXG4gICAgICAgICAgICAkc2NvcGUudG90YWxOdW0gPSByZXMuZGF0YS5yZXN1bHQuY291bnQ7XHJcbiAgICAgICAgICAgICRzY29wZS5vcmRlck5vID0gcmVzLmRhdGEucmVzdWx0LmlkO1xyXG4gICAgICAgICAgICAkc2NvcGUubnVtID0gcmVzLmRhdGEucmVzdWx0LnRvdGFsTnVtO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuZGF0YUxpc3QpXHJcbiAgICAgICAgICAgIHBhZ2VGdW4oKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgIC8vbGF5ZXIuY2xvc2VBbGwoJ2xvYWRpbmcnKTtcclxuICAgICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5teWNqLXJpZ2h0LWJhcicpKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBnZXREYXRhKCk7XHJcbiAgICAgICRzY29wZS5iYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGhpc3RvcnkuZ28oLTEpO1xyXG4gICAgICB9XHJcbiAgICAgIC8v5YiG6aG1XHJcbiAgICAgIGZ1bmN0aW9uIHBhZ2VGdW4oKSB7XHJcbiAgICAgICAgJChcIi5wYWdlLWluZGV4XCIpLmpxUGFnaW5hdG9yKHtcclxuICAgICAgICAgIHRvdGFsQ291bnRzOiBOdW1iZXIoJHNjb3BlLnRvdGFsTnVtKSB8fCAxLFxyXG4gICAgICAgICAgcGFnZVNpemU6IE51bWJlcigkc2NvcGUucGFnZVNpemUpLFxyXG4gICAgICAgICAgdmlzaWJsZVBhZ2VzOiA1LFxyXG4gICAgICAgICAgY3VycmVudFBhZ2U6IE51bWJlcigkc2NvcGUucGFnZU51bSksXHJcbiAgICAgICAgICBhY3RpdmVDbGFzczogJ2N1cnJlbnQnLFxyXG4gICAgICAgICAgZmlyc3Q6ICc8YSBjbGFzcz1cInByZXZcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiPiZsdDsmbHQ7PFxcL2E+JyxcclxuICAgICAgICAgIHByZXY6ICc8YSBjbGFzcz1cInByZXZcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiPiZsdDs8XFwvYT4nLFxyXG4gICAgICAgICAgbmV4dDogJzxhIGNsYXNzPVwibmV4dFwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCI+Jmd0OzxcXC9hPicsXHJcbiAgICAgICAgICBsYXN0OiAnPGEgY2xhc3M9XCJuZXh0XCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIj4mZ3Q7Jmd0OzxcXC9hPicsXHJcbiAgICAgICAgICBwYWdlOiAnPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIj57e3BhZ2V9fTxcXC9hPicsXHJcbiAgICAgICAgICBvblBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIChuLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlID09ICdpbml0Jykge1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA7XHJcbiAgICAgICAgICAgICRzY29wZS5wYWdlTnVtID0gbi50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBnZXREYXRhKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRzY29wZS5jaGFuUGFnZVNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHNjb3BlLnBhZ2VOdW0gPSAnMSc7XHJcbiAgICAgICAgZ2V0RGF0YSgpO1xyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS5jaGFuUGFnZU51bSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIWlzTmFOKCRzY29wZS5wYWdlTnVtICogMSkgJiYgJHNjb3BlLnBhZ2VOdW0gKiAxID4gMCAmJiAkc2NvcGUucGFnZU51bSAqIDEgPD0gJHNjb3BlLnRvdGFsTnVtKSB7XHJcbiAgICAgICAgICBnZXREYXRhKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS5wYWdlTnVtID0gJzEnO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfV0pO1xyXG5cclxuICByZXR1cm4gYXBwO1xyXG5cclxufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFsQkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../src/pages/mycj/inventory-package/child-order.js\n");

/***/ })

}]);