(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[39],{

/***/ "../src/pages/mycj/inventory-package/use-order.js":
/*!********************************************************!*\
  !*** ../src/pages/mycj/inventory-package/use-order.js ***!
  \********************************************************/
/*! exports provided: useOrderFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useOrderFactory\", function() { return useOrderFactory; });\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction useOrderFactory(angular) {\n  var winHeight = $(window).height() * 1;\n  var rightBarHeight = winHeight - 191 - 34;\n  var nodataHeight = winHeight - 311;\n  var app = angular.module('inventory-package-use-order.moodule', []);\n  app.controller('inventory-package-use-order.ctrl', ['$scope', '$stateParams', 'dsp', function ($scope, $stateParams, dsp) {\n    /*\r\n    * 默认配置\r\n    * */\n    $('.header-nav li').eq(0).addClass('active');\n    dsp.setRightMinHeight(); //数据声明\n\n    $scope.pageNum = '1';\n    $scope.pageSize = '10';\n    $scope.totalNum = null;\n    $scope.inputStr = '';\n    $scope.title = '';\n    $scope.dataList = [];\n    $scope.chartDialog = false;\n    $scope.path = $stateParams.path;\n    $scope.shopId = $stateParams.shopId || '';\n    $scope.id = $stateParams.id;\n    console.log('shopId===>', $scope.shopId, 'id===>', $scope.id);\n    console.log($scope.path);\n\n    if ($scope.path === 'use') {\n      $scope.title = 'Total used:';\n      $scope.url = 'cj/PackProduct/getPackUsedOrder';\n    } else if ($scope.path === 'order') {\n      $scope.title = 'Total subscribed:';\n      $scope.url = 'cj/PackProduct/getPackMakeOrder';\n    } //\n\n\n    $scope.price = function (price) {\n      $scope[price] = $scope[price].replace(/[^\\.\\d]/g, '');\n    }; //搜索\n\n\n    $scope.searchPro = function () {\n      $scope.pageNum = '1';\n      getData();\n    };\n\n    $scope.enterSearch = function (event) {\n      if (event.keyCode == 13) {\n        $scope.searchPro();\n      }\n    }; //获取数据\n\n\n    function getData() {\n      var parms = {\n        pageNum: $scope.pageNum,\n        pageSize: $scope.pageSize,\n        sku: $scope.inputStr,\n        packVid: $scope.id,\n        shopId: $scope.shopId,\n        startDate: $('#cj-stime').val(),\n        endDate: $('#cj-etime').val()\n      }; //layer.load(2);\n\n      dsp.loadPercent($('.mycj-right-bar'), nodataHeight);\n      $scope.dataList = [];\n      dsp.postFun($scope.url, parms, function (res) {\n        //layer.closeAll('loading');\n        dsp.closeLoadPercent($('.mycj-right-bar'));\n\n        if (res.data.statusCode === '200') {\n          $scope.dataList = res.data.result.list;\n          $scope.totalNum = res.data.result.count;\n          $scope.usedNum = res.data.result.usedNum;\n          console.log($scope.dataList);\n          $scope.totalCounts = Math.ceil($scope.totalNum / $scope.pageSize);\n          $scope.$broadcast('page-data', {\n            pageNum: $scope.pageNum,\n            totalNum: $scope.totalCounts,\n            totalCounts: $scope.totalNum,\n            pageSize: $scope.pageSize\n          });\n        }\n      }, function (err) {\n        //layer.closeAll('loading');\n        dsp.closeLoadPercent($('.mycj-right-bar'));\n        console.log(err);\n      });\n    }\n\n    getData(); //状态\n\n    $scope.status = function (status) {\n      console.log(status, _typeof(status));\n      var stu;\n\n      switch (status) {\n        case '2':\n          stu = 'Pending';\n          break;\n\n        case '3':\n          stu = 'Awaiting Payment';\n          break;\n\n        case '10':\n          stu = 'Paid';\n          break;\n\n        case '5':\n          stu = 'Completed';\n          break;\n\n        case '11':\n          stu = 'Payment Incoming';\n          break;\n\n        case '6':\n          stu = 'Pending Shipment';\n          break;\n\n        case '12':\n          stu = 'Dispatched';\n          break;\n\n        case '7':\n          stu = 'Closed';\n          break;\n\n        case '13':\n          stu = 'Completed';\n          break;\n      }\n\n      return stu;\n    }; //分页\n\n\n    $scope.$on('pagedata-fa', function (d, data) {\n      console.log(data);\n      $scope.pageNum = data.pageNum;\n      $scope.pageSize = data.pageSize;\n      getData();\n    });\n  }]);\n  return app;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovaW52ZW50b3J5LXBhY2thZ2UvdXNlLW9yZGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9wYWdlcy9teWNqL2ludmVudG9yeS1wYWNrYWdlL3VzZS1vcmRlci5qcz9hNjc5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiB1c2VPcmRlckZhY3RvcnkoYW5ndWxhcikge1xyXG4gIHZhciB3aW5IZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCkgKiAxO1xyXG4gIHZhciByaWdodEJhckhlaWdodCA9IHdpbkhlaWdodCAtIDE5MSAtIDM0O1xyXG4gIHZhciBub2RhdGFIZWlnaHQgPSB3aW5IZWlnaHQgLSAzMTE7XHJcbiAgY29uc3QgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2ludmVudG9yeS1wYWNrYWdlLXVzZS1vcmRlci5tb29kdWxlJywgW10pO1xyXG5cclxuICBhcHAuY29udHJvbGxlcignaW52ZW50b3J5LXBhY2thZ2UtdXNlLW9yZGVyLmN0cmwnLCBbJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnZHNwJyxcclxuICAgIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZVBhcmFtcywgZHNwKSB7XHJcbiAgICAgIC8qXHJcbiAgICAgICog6buY6K6k6YWN572uXHJcbiAgICAgICogKi9cclxuICAgICAgJCgnLmhlYWRlci1uYXYgbGknKS5lcSgwKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgIGRzcC5zZXRSaWdodE1pbkhlaWdodCgpO1xyXG4gICAgICAvL+aVsOaNruWjsOaYjlxyXG4gICAgICAkc2NvcGUucGFnZU51bSA9ICcxJztcclxuICAgICAgJHNjb3BlLnBhZ2VTaXplID0gJzEwJztcclxuICAgICAgJHNjb3BlLnRvdGFsTnVtID0gbnVsbDtcclxuICAgICAgJHNjb3BlLmlucHV0U3RyID0gJyc7XHJcbiAgICAgICRzY29wZS50aXRsZSA9ICcnO1xyXG4gICAgICAkc2NvcGUuZGF0YUxpc3QgPSBbXTtcclxuICAgICAgJHNjb3BlLmNoYXJ0RGlhbG9nID0gZmFsc2U7XHJcbiAgICAgICRzY29wZS5wYXRoID0gJHN0YXRlUGFyYW1zLnBhdGg7XHJcbiAgICAgICRzY29wZS5zaG9wSWQgPSAkc3RhdGVQYXJhbXMuc2hvcElkIHx8ICcnO1xyXG4gICAgICAkc2NvcGUuaWQgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdzaG9wSWQ9PT0+JywgJHNjb3BlLnNob3BJZCwgJ2lkPT09PicsICRzY29wZS5pZClcclxuICAgICAgY29uc29sZS5sb2coJHNjb3BlLnBhdGgpXHJcbiAgICAgIGlmICgkc2NvcGUucGF0aCA9PT0gJ3VzZScpIHtcclxuICAgICAgICAkc2NvcGUudGl0bGUgPSAnVG90YWwgdXNlZDonO1xyXG4gICAgICAgICRzY29wZS51cmwgPSAnY2ovUGFja1Byb2R1Y3QvZ2V0UGFja1VzZWRPcmRlcic7XHJcbiAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLnBhdGggPT09ICdvcmRlcicpIHtcclxuICAgICAgICAkc2NvcGUudGl0bGUgPSAnVG90YWwgc3Vic2NyaWJlZDonO1xyXG4gICAgICAgICRzY29wZS51cmwgPSAnY2ovUGFja1Byb2R1Y3QvZ2V0UGFja01ha2VPcmRlcic7XHJcbiAgICAgIH1cclxuICAgICAgLy9cclxuICAgICAgJHNjb3BlLnByaWNlID0gZnVuY3Rpb24gKHByaWNlKSB7XHJcbiAgICAgICAgJHNjb3BlW3ByaWNlXSA9ICRzY29wZVtwcmljZV0ucmVwbGFjZSgvW15cXC5cXGRdL2csICcnKTtcclxuICAgICAgfTtcclxuICAgICAgLy/mkJzntKJcclxuICAgICAgJHNjb3BlLnNlYXJjaFBybyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkc2NvcGUucGFnZU51bSA9ICcxJztcclxuICAgICAgICBnZXREYXRhKCk7XHJcbiAgICAgIH07XHJcbiAgICAgICRzY29wZS5lbnRlclNlYXJjaCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAkc2NvcGUuc2VhcmNoUHJvKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvL+iOt+WPluaVsOaNrlxyXG4gICAgICBmdW5jdGlvbiBnZXREYXRhKCkge1xyXG4gICAgICAgIHZhciBwYXJtcyA9IHtcclxuICAgICAgICAgIHBhZ2VOdW06ICRzY29wZS5wYWdlTnVtLFxyXG4gICAgICAgICAgcGFnZVNpemU6ICRzY29wZS5wYWdlU2l6ZSxcclxuICAgICAgICAgIHNrdTogJHNjb3BlLmlucHV0U3RyLFxyXG4gICAgICAgICAgcGFja1ZpZDogJHNjb3BlLmlkLFxyXG4gICAgICAgICAgc2hvcElkOiAkc2NvcGUuc2hvcElkLFxyXG4gICAgICAgICAgc3RhcnREYXRlOiAkKCcjY2otc3RpbWUnKS52YWwoKSxcclxuICAgICAgICAgIGVuZERhdGU6ICQoJyNjai1ldGltZScpLnZhbCgpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy9sYXllci5sb2FkKDIpO1xyXG4gICAgICAgIGRzcC5sb2FkUGVyY2VudCgkKCcubXljai1yaWdodC1iYXInKSwgbm9kYXRhSGVpZ2h0KTtcclxuICAgICAgICAkc2NvcGUuZGF0YUxpc3QgPSBbXTtcclxuICAgICAgICBkc3AucG9zdEZ1bigkc2NvcGUudXJsLCBwYXJtcywgKHJlcykgPT4ge1xyXG4gICAgICAgICAgLy9sYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgICAgZHNwLmNsb3NlTG9hZFBlcmNlbnQoJCgnLm15Y2otcmlnaHQtYmFyJykpO1xyXG4gICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT09ICcyMDAnKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRhTGlzdCA9IHJlcy5kYXRhLnJlc3VsdC5saXN0O1xyXG4gICAgICAgICAgICAkc2NvcGUudG90YWxOdW0gPSByZXMuZGF0YS5yZXN1bHQuY291bnQ7XHJcbiAgICAgICAgICAgICRzY29wZS51c2VkTnVtID0gcmVzLmRhdGEucmVzdWx0LnVzZWROdW07XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5kYXRhTGlzdClcclxuICAgICAgICAgICAgJHNjb3BlLnRvdGFsQ291bnRzID0gTWF0aC5jZWlsKCRzY29wZS50b3RhbE51bSAvICRzY29wZS5wYWdlU2l6ZSk7XHJcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdwYWdlLWRhdGEnLCB7XHJcbiAgICAgICAgICAgICAgcGFnZU51bTogJHNjb3BlLnBhZ2VOdW0sXHJcbiAgICAgICAgICAgICAgdG90YWxOdW06ICRzY29wZS50b3RhbENvdW50cyxcclxuICAgICAgICAgICAgICB0b3RhbENvdW50czogJHNjb3BlLnRvdGFsTnVtLFxyXG4gICAgICAgICAgICAgIHBhZ2VTaXplOiAkc2NvcGUucGFnZVNpemUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgIC8vbGF5ZXIuY2xvc2VBbGwoJ2xvYWRpbmcnKTtcclxuICAgICAgICAgIGRzcC5jbG9zZUxvYWRQZXJjZW50KCQoJy5teWNqLXJpZ2h0LWJhcicpKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBnZXREYXRhKCk7XHJcblxyXG4gICAgICAvL+eKtuaAgVxyXG4gICAgICAkc2NvcGUuc3RhdHVzID0gZnVuY3Rpb24gKHN0YXR1cykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyx0eXBlb2Yoc3RhdHVzKSlcclxuICAgICAgICBsZXQgc3R1O1xyXG4gICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XHJcbiAgICAgICAgICBjYXNlICcyJzpcclxuICAgICAgICAgICAgc3R1ID0gJ1BlbmRpbmcnO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJzMnOlxyXG4gICAgICAgICAgICBzdHUgPSAnQXdhaXRpbmcgUGF5bWVudCc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnMTAnOlxyXG4gICAgICAgICAgICBzdHUgPSAnUGFpZCc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnNSc6XHJcbiAgICAgICAgICAgIHN0dSA9ICdDb21wbGV0ZWQnO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJzExJzpcclxuICAgICAgICAgICAgc3R1ID0gJ1BheW1lbnQgSW5jb21pbmcnO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJzYnOlxyXG4gICAgICAgICAgICBzdHUgPSAnUGVuZGluZyBTaGlwbWVudCc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnMTInOlxyXG4gICAgICAgICAgICBzdHUgPSAnRGlzcGF0Y2hlZCc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnNyc6XHJcbiAgICAgICAgICAgIHN0dSA9ICdDbG9zZWQnO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJzEzJzpcclxuICAgICAgICAgICAgc3R1ID0gJ0NvbXBsZXRlZCc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3R1O1xyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgLy/liIbpobVcclxuICAgICAgJHNjb3BlLiRvbigncGFnZWRhdGEtZmEnLCBmdW5jdGlvbiAoZCwgZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgJHNjb3BlLnBhZ2VOdW0gPSBkYXRhLnBhZ2VOdW07XHJcbiAgICAgICAgJHNjb3BlLnBhZ2VTaXplID0gZGF0YS5wYWdlU2l6ZTtcclxuICAgICAgICBnZXREYXRhKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG5cclxuICByZXR1cm4gYXBwO1xyXG5cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQTNCQTtBQUNBO0FBNEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../src/pages/mycj/inventory-package/use-order.js\n");

/***/ })

}]);