(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[40],{

/***/ "../src/pages/mycj/inventory/my-inventory.js":
/*!***************************************************!*\
  !*** ../src/pages/mycj/inventory/my-inventory.js ***!
  \***************************************************/
/*! exports provided: myInventoryFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"myInventoryFactory\", function() { return myInventoryFactory; });\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction myInventoryFactory(angular) {\n  var app = angular.module('my-inventory.module', []);\n  app.controller('my-inventory.ctrl', ['$scope', '$rootScope', 'dsp', 'utils', function ($scope, $rootScope, dsp, utils) {\n    $scope.isvip = $rootScope.userInfo.vip;\n    dsp.setRightMinHeight();\n    $scope.invelist = [];\n    $scope.pageSize = '20';\n    $scope.pageNum = '1';\n    $scope.totalNum = 0;\n    $scope.inputStr = '';\n    $scope.isHideZero = false;\n    $rootScope.$on('pojo/inventory/getCjAuthorityList', function (_, bool) {\n      $scope.loading = bool;\n\n      if (bool) {\n        $scope.notDataFound = false;\n      }\n    });\n    $rootScope.$on('pojo/inventory/getCjAuthorityTransforRecordList', function (_, bool) {\n      $scope.loading = bool;\n\n      if (bool) {\n        $scope.notDataFound = false;\n      }\n    });\n\n    $scope.returnInventoryList = function () {\n      $scope.pageSize = '20';\n      $scope.pageNum = '1';\n      $scope.listUrl = false;\n      $scope.listVidUrl = false;\n      $scope.isViewTransRecord = false;\n      getKuncunList();\n    };\n\n    $scope.transRecordsList = function () {\n      $scope.pageSize = '20';\n      $scope.pageNum = '1';\n      $scope.listUrl = 'pojo/inventory/getCjAuthorityTransforRecordList';\n      $scope.listVidUrl = 'pojo/inventory/getCjAuthorityVariantsTransforRecords';\n      $scope.isViewTransRecord = true;\n      getKuncunList();\n    };\n\n    $scope.returnInventoryList = function () {\n      $scope.pageSize = '20';\n      $scope.pageNum = '1';\n      $scope.listUrl = false;\n      $scope.listVidUrl = false;\n      $scope.isViewTransRecord = false;\n      getKuncunList();\n    };\n\n    function getKuncunList() {\n      var url = $scope.listUrl || 'pojo/inventory/getCjAuthorityList';\n      $scope.invelist = [];\n      dsp.postFun(url, JSON.stringify({\n        inputStr: $scope.inputStr,\n        pageSize: $scope.pageSize,\n        pageNum: $scope.pageNum\n      }), function (data) {\n        if (data.data.statusCode != 200) {\n          dsp.cjMesFun(1);\n          return;\n        }\n\n        var result = JSON.parse(data.data.result);\n        $scope.supplier = result.bindingAccount;\n        $scope.getCjAuthorityList = result.transforProducts;\n\n        if (result.total == 0) {\n          $scope.totalNum = 0;\n          $scope.invelist = [];\n\n          if ($scope.inputStr) {\n            $scope.notDataFound = true;\n          } else {\n            $scope.noData = true;\n          }\n\n          return;\n        }\n\n        $scope.noData = false;\n        var list = result.list;\n\n        for (var i = 0; i < list.length; i++) {\n          list[i].down = true;\n        }\n\n        $scope.invelist = list;\n        $scope.totalNum = result.total;\n        $scope.totalMoney = result.totalMny;\n        $scope.totalCounts = Math.ceil($scope.totalNum / $scope.pageSize);\n        $scope.$broadcast('page-data', {\n          pageNum: $scope.pageNum,\n          totalNum: $scope.totalCounts,\n          totalCounts: $scope.totalNum,\n          pageSize: $scope.pageSize,\n          pagesizeList: ['10', '20', '50', '100']\n        });\n      });\n    }\n\n    getKuncunList();\n    $scope.$on('pagedata-fa', function (d, data) {\n      $scope.pageNum = data.pageNum;\n      $scope.pageSize = data.pageSize;\n      $scope.check_All = false;\n      getKuncunList();\n    });\n\n    $scope.searchPro = function () {\n      $scope.showResearch = true;\n      $scope.pageNum = '1';\n      getKuncunList();\n    };\n\n    $scope.enterSearch = function (event) {\n      if (event.keyCode == 13) {\n        $scope.searchPro();\n      }\n    };\n\n    $scope.showVariant = function (item, index) {\n      var isWarning = item.isWarning == '1' ? '1' : '';\n      var url = 'pojo/inventory/getCjAuthorityVariants';\n      $scope.currentClickedCategory = item.categoryId;\n      dsp.postFun($scope.listVidUrl || url, JSON.stringify({\n        pid: item.pid,\n        isWarning: isWarning\n      }), function (data) {\n        if (data.data.statusCode != 200) {\n          dsp.cjMesFun(1);\n          return;\n        }\n\n        var result = JSON.parse(data.data.result);\n        console.log('result--------------', result);\n        $scope.invelist[index].vlist = result.list;\n        $scope.invelist[index].down = false;\n      });\n    };\n\n    $scope.hideVariant = function (item, index) {\n      $scope.invelist[index].vlist = [];\n      $scope.invelist[index].down = true;\n    };\n\n    $scope.toShowExport = function () {\n      $scope.showExport = true;\n    };\n\n    $scope.exportExcel = function () {\n      $scope.showExport = false;\n      var pids = [];\n      $scope.invelist.forEach(function (item) {\n        if (item.check == true) {\n          pids.push(item.pid);\n        }\n      });\n\n      if (pids.length == 0) {\n        layer.msg(\"Please select export list\");\n        return;\n      }\n\n      var msgLoading = cjMessage.loading({\n        isFixed: true\n      });\n      dsp.postFun('order/goods/exportInventor', {\n        \"pids\": pids.join(\",\")\n      }, function (data) {\n        msgLoading.hide();\n        var result = data.data.result;\n\n        if (data.data.statusCode == 200) {\n          location.href = result;\n        }\n      }, function () {\n        msgLoading.hide();\n      });\n    };\n\n    $scope.transInventory = function (item, type) {\n      $scope.clickedItem = item;\n      $scope.showTransferConfirm = true;\n      $scope.isTransVid = type;\n    };\n\n    $scope.confirmTransInventory = function () {\n      $scope.showTransferConfirm = false;\n      var msgLoading = cjMessage.loading({\n        isFixed: true\n      });\n      dsp.postFun('app/ajax/autoSku', {\n        \"cid\": $scope.clickedItem.categoryId || $scope.currentClickedCategory\n      }, function (res1) {\n        if (res1.data.statusCode === '200') {\n          var params1 = {\n            \"locPid\": $scope.clickedItem.pid,\n            \"accountName\": utils.getLocalInfo('loginName'),\n            \"accountId\": utils.getLocalInfo('userId'),\n            \"newSku\": res1.data.result,\n            \"stanPids\": $scope.isTransVid ? [$scope.clickedItem.vid] : _toConsumableArray($scope.clickedItem.privateVids)\n          };\n          dsp.postFun('supplierPlanInfo/cjproductTransform/doTransform', params1, function (res2) {\n            if (res2.data.code === 200) {\n              var params2 = {\n                \"accountId\": utils.getLocalInfo('userId'),\n                \"stanIds\": res2.data.data.map(function (item) {\n                  return {\n                    newStanSku: item.newSku,\n                    oldStanId: item.oldStanPid,\n                    newLocPid: item.newLocPid,\n                    newStanPid: item.newStanPid\n                  };\n                })\n              };\n              dsp.postFun('storehouse/cjproductTransform/outInventorys', params2, function (res3) {\n                if (res3.data.code === 200) {\n                  layer.msg('Transfer Success');\n                  getKuncunList();\n                } else {\n                  layer.msg('Transfer failed');\n                }\n\n                msgLoading.hide();\n              }, function () {\n                msgLoading.hide();\n                layer.msg('Transfer failed');\n              });\n            } else if (res2.data.code === 5000024) {\n              layer.msg('Out of listing products, you cannot transfer them. You can upgrade Pricing to list more products.');\n              msgLoading.hide();\n            } else if (res2.data.code === 5000001 || res2.data.code === 10000) {\n              layer.msg(res2.data.error);\n              msgLoading.hide();\n            } else {\n              layer.msg(res2.data.error);\n              msgLoading.hide();\n            }\n          }, function () {\n            msgLoading.hide();\n            layer.msg('Transfer failed');\n          });\n        } else {\n          msgLoading.hide();\n          layer.msg('Transfer failed');\n        }\n      }, function () {\n        msgLoading.hide();\n        layer.msg('Transfer failed');\n      }, function () {\n        msgLoading.hide();\n      });\n    };\n\n    $scope.checkAll = function () {\n      if ($scope.check_All) {\n        $scope.invelist.forEach(function (item) {\n          item.check = true;\n        });\n      } else {\n        $scope.invelist.forEach(function (item) {\n          item.check = false;\n        });\n      }\n    };\n\n    $scope.checkOne = function (item, index) {\n      if (item.check) {\n        var num = 0;\n\n        for (var i = 0; i < $scope.invelist.length; i++) {\n          if ($scope.invelist[i].check) {\n            num++;\n          }\n        }\n\n        if (num == $scope.invelist.length) {\n          $scope.check_All = true;\n        }\n      } else {\n        $scope.check_All = false;\n      }\n    };\n\n    dsp.getFun(\"app/storage/getStorage\", function (data) {\n      $scope.wareList = JSON.parse(data.data.result);\n    }); //viewDetails\n\n    $scope.viewDetails = function (item) {\n      $scope.isView = true;\n      $scope.storageId = item.storageId;\n      $scope.sku = item.sku; // 新仓库数据接口\n\n      dsp.postFun(\"storehouse/WarehousInfo/getStorehouseNew \", {\n        useStorageType: \"1\"\n      }, function (data) {\n        layer.closeAll('loading');\n\n        if (data.data.code == 200) {\n          var list = data.data.data;\n\n          for (var i = 0; i < list.length; i++) {\n            //直发仓\n            var target = list[i];\n\n            if (target.storageName == '直发仓') {\n              list.splice(i, 1);\n            }\n          }\n\n          var newArr = list.filter(function (item) {\n            if (item.storageName !== '义乌直发仓') {\n              return true;\n            }\n          }).filter(function (item) {\n            if (item.storageName !== '深圳直发仓') {\n              return true;\n            }\n          });\n          $scope.StorageList = newArr;\n        }\n      });\n      getList($scope.storageId);\n    };\n\n    function getList(storageId) {\n      var msgLoading = cjMessage.loading({\n        isFixed: true\n      });\n      dsp.postFun(\"cj/CjAccInventoryDetail/getOutInInventoryRecordInfo\", {\n        storageId: storageId,\n        sku: $scope.sku\n      }, function (data) {\n        msgLoading.hide();\n\n        if (data.data.statusCode == 200) {\n          $scope.detailList = data.data.result;\n        }\n      }, function () {\n        msgLoading.hide();\n      });\n    }\n\n    $scope.storageSelect = function (storageId) {\n      getList(storageId);\n    }; //隐藏0库存商品\n\n\n    $scope.hideZeroProduct = function () {\n      $scope.isHideZero = !$scope.isHideZero;\n      var isHide = $scope.isHideZero ? '1' : '0';\n      dsp.postFun(\"app/customerConfig/saveConfigByType\", {\n        configValue: isHide,\n        configType: 'isHideZeroInventory'\n      }, function (data) {\n        if (data.status === 200) {\n          getKuncunList();\n        }\n      });\n    }; //获取上次用户是否隐藏记录\n\n\n    function getUserStockConfig() {\n      dsp.postFun(\"app/customerConfig/getConfigByType\", {\n        configType: 'isHideZeroInventory'\n      }, function (data) {\n        if (data.status == 200) {\n          $scope.isHideZero = data.data.result === \"1\" ? true : false;\n        }\n      });\n    }\n\n    getUserStockConfig(); // 显示预警提示文本\n\n    $scope.warningMsgOne = '';\n    $scope.warningMsgTwo = '';\n\n    $scope.getMsg = function (item, fileds) {\n      $scope.invelist = $scope.invelist.map(function (o) {\n        if (o.vlist) {\n          o.vlist = o.vlist.map(function (i) {\n            return _objectSpread(_objectSpread({}, i), {}, _defineProperty({}, fileds, i[fileds] ? false : i.vid == item.vid));\n          });\n        }\n\n        return o;\n      });\n\n      if (_typeof(item.warningMap) == 'object' && Object.keys(item.warningMap).length > 0) {\n        var _item$warningMap = item.warningMap,\n            warningType = _item$warningMap.warningType,\n            actualValue = _item$warningMap.actualValue,\n            warningValue = _item$warningMap.warningValue;\n\n        switch (Number(warningType)) {\n          case 0:\n            {\n              // 库存数量\n              if (actualValue == warningValue) {\n                $scope.warningMsgOne = 'Current private inventory (' + actualValue + ')';\n                $scope.warningMsgTwo = 'has come to the set safety stock value ' + warningValue;\n              } else if (actualValue < warningValue) {\n                $scope.warningMsgOne = 'Cucurrent private inventory (' + actualValue + ')';\n                $scope.warningMsgTwo = 'is less than set safety stock value by ' + (warningValue - actualValue) + ' pieces';\n              }\n\n              break;\n            }\n\n          case 1:\n            {\n              // 可变天数\n              $scope.warningMsgOne = 'Estimated Remaining Days: ' + actualValue;\n              $scope.warningMsgTwo = 'Estimated Days to Restock: ' + warningValue;\n              break;\n            }\n        }\n      }\n    };\n\n    $scope.isShow = function (obj) {\n      for (var i in obj) {\n        if (obj.hasOwnProperty(i)) return true;\n      }\n\n      return false;\n    };\n\n    $scope.mouseOut = function (fileds) {\n      $scope.invelist = $scope.invelist.map(function (o) {\n        if (o.vlist) {\n          o.vlist = o.vlist.map(function (i) {\n            return _objectSpread(_objectSpread({}, i), {}, _defineProperty({}, fileds, false));\n          });\n        }\n\n        return o;\n      });\n    };\n  }]);\n  return app;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovaW52ZW50b3J5L215LWludmVudG9yeS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9zcmMvcGFnZXMvbXljai9pbnZlbnRvcnkvbXktaW52ZW50b3J5LmpzP2I1NWQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIG15SW52ZW50b3J5RmFjdG9yeShhbmd1bGFyKSB7XHJcbiAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteS1pbnZlbnRvcnkubW9kdWxlJywgW10pO1xyXG5cclxuICBhcHAuY29udHJvbGxlcignbXktaW52ZW50b3J5LmN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJ2RzcCcsICd1dGlscycsIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsIGRzcCwgdXRpbHMpIHtcclxuICAgICRzY29wZS5pc3ZpcCA9ICRyb290U2NvcGUudXNlckluZm8udmlwO1xyXG4gICAgZHNwLnNldFJpZ2h0TWluSGVpZ2h0KCk7XHJcbiAgICAkc2NvcGUuaW52ZWxpc3QgPSBbXTtcclxuICAgICRzY29wZS5wYWdlU2l6ZSA9ICcyMCc7XHJcbiAgICAkc2NvcGUucGFnZU51bSA9ICcxJztcclxuICAgICRzY29wZS50b3RhbE51bSA9IDA7XHJcbiAgICAkc2NvcGUuaW5wdXRTdHIgPSAnJztcclxuICAgICRzY29wZS5pc0hpZGVaZXJvID0gZmFsc2U7XHJcblxyXG4gICAgJHJvb3RTY29wZS4kb24oJ3Bvam8vaW52ZW50b3J5L2dldENqQXV0aG9yaXR5TGlzdCcsIChfLCBib29sKSA9PiB7XHJcbiAgICAgICRzY29wZS5sb2FkaW5nID0gYm9vbDtcclxuICAgICAgaWYgKGJvb2wpIHtcclxuICAgICAgICAkc2NvcGUubm90RGF0YUZvdW5kID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJHJvb3RTY29wZS4kb24oJ3Bvam8vaW52ZW50b3J5L2dldENqQXV0aG9yaXR5VHJhbnNmb3JSZWNvcmRMaXN0JywgKF8sIGJvb2wpID0+IHtcclxuICAgICAgJHNjb3BlLmxvYWRpbmcgPSBib29sO1xyXG4gICAgICBpZiAoYm9vbCkge1xyXG4gICAgICAgICRzY29wZS5ub3REYXRhRm91bmQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJHNjb3BlLnJldHVybkludmVudG9yeUxpc3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgJHNjb3BlLnBhZ2VTaXplID0gJzIwJztcclxuICAgICAgJHNjb3BlLnBhZ2VOdW0gPSAnMSc7XHJcbiAgICAgICRzY29wZS5saXN0VXJsID0gZmFsc2U7XHJcbiAgICAgICRzY29wZS5saXN0VmlkVXJsID0gZmFsc2U7XHJcbiAgICAgICRzY29wZS5pc1ZpZXdUcmFuc1JlY29yZCA9IGZhbHNlO1xyXG4gICAgICBnZXRLdW5jdW5MaXN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgJHNjb3BlLnRyYW5zUmVjb3Jkc0xpc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICRzY29wZS5wYWdlU2l6ZSA9ICcyMCc7XHJcbiAgICAgICRzY29wZS5wYWdlTnVtID0gJzEnO1xyXG4gICAgICAkc2NvcGUubGlzdFVybCA9ICdwb2pvL2ludmVudG9yeS9nZXRDakF1dGhvcml0eVRyYW5zZm9yUmVjb3JkTGlzdCc7XHJcbiAgICAgICRzY29wZS5saXN0VmlkVXJsID0gJ3Bvam8vaW52ZW50b3J5L2dldENqQXV0aG9yaXR5VmFyaWFudHNUcmFuc2ZvclJlY29yZHMnO1xyXG4gICAgICAkc2NvcGUuaXNWaWV3VHJhbnNSZWNvcmQgPSB0cnVlO1xyXG4gICAgICBnZXRLdW5jdW5MaXN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgJHNjb3BlLnJldHVybkludmVudG9yeUxpc3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgJHNjb3BlLnBhZ2VTaXplID0gJzIwJztcclxuICAgICAgJHNjb3BlLnBhZ2VOdW0gPSAnMSc7XHJcbiAgICAgICRzY29wZS5saXN0VXJsID0gZmFsc2U7XHJcbiAgICAgICRzY29wZS5saXN0VmlkVXJsID0gZmFsc2U7XHJcbiAgICAgICRzY29wZS5pc1ZpZXdUcmFuc1JlY29yZCA9IGZhbHNlO1xyXG4gICAgICBnZXRLdW5jdW5MaXN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0S3VuY3VuTGlzdCgpIHtcclxuICAgICAgdmFyIHVybCA9ICRzY29wZS5saXN0VXJsIHx8ICdwb2pvL2ludmVudG9yeS9nZXRDakF1dGhvcml0eUxpc3QnXHJcbiAgICAgICRzY29wZS5pbnZlbGlzdCA9IFtdO1xyXG4gICAgICBkc3AucG9zdEZ1bih1cmwsIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBpbnB1dFN0cjogJHNjb3BlLmlucHV0U3RyLFxyXG4gICAgICAgIHBhZ2VTaXplOiAkc2NvcGUucGFnZVNpemUsXHJcbiAgICAgICAgcGFnZU51bTogJHNjb3BlLnBhZ2VOdW1cclxuICAgICAgfSksIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5zdGF0dXNDb2RlICE9IDIwMCkge1xyXG4gICAgICAgICAgZHNwLmNqTWVzRnVuKDEpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzdWx0ID0gSlNPTi5wYXJzZShkYXRhLmRhdGEucmVzdWx0KTtcclxuICAgICAgICAkc2NvcGUuc3VwcGxpZXIgPSByZXN1bHQuYmluZGluZ0FjY291bnQ7XHJcbiAgICAgICAgJHNjb3BlLmdldENqQXV0aG9yaXR5TGlzdCA9IHJlc3VsdC50cmFuc2ZvclByb2R1Y3RzO1xyXG4gICAgICAgIGlmIChyZXN1bHQudG90YWwgPT0gMCkge1xyXG4gICAgICAgICAgJHNjb3BlLnRvdGFsTnVtID0gMDtcclxuICAgICAgICAgICRzY29wZS5pbnZlbGlzdCA9IFtdO1xyXG4gICAgICAgICAgaWYgKCRzY29wZS5pbnB1dFN0cikge1xyXG4gICAgICAgICAgICAkc2NvcGUubm90RGF0YUZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5ub0RhdGEgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUubm9EYXRhID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGxpc3QgPSByZXN1bHQubGlzdDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGxpc3RbaV0uZG93biA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5pbnZlbGlzdCA9IGxpc3Q7XHJcbiAgICAgICAgJHNjb3BlLnRvdGFsTnVtID0gcmVzdWx0LnRvdGFsO1xyXG4gICAgICAgICRzY29wZS50b3RhbE1vbmV5ID0gcmVzdWx0LnRvdGFsTW55O1xyXG4gICAgICAgICRzY29wZS50b3RhbENvdW50cyA9IE1hdGguY2VpbCgkc2NvcGUudG90YWxOdW0gLyAkc2NvcGUucGFnZVNpemUpO1xyXG4gICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdwYWdlLWRhdGEnLCB7XHJcbiAgICAgICAgICBwYWdlTnVtOiAkc2NvcGUucGFnZU51bSxcclxuICAgICAgICAgIHRvdGFsTnVtOiAkc2NvcGUudG90YWxDb3VudHMsXHJcbiAgICAgICAgICB0b3RhbENvdW50czogJHNjb3BlLnRvdGFsTnVtLFxyXG4gICAgICAgICAgcGFnZVNpemU6ICRzY29wZS5wYWdlU2l6ZSxcclxuICAgICAgICAgIHBhZ2VzaXplTGlzdDogWycxMCcsICcyMCcsICc1MCcsICcxMDAnXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldEt1bmN1bkxpc3QoKTtcclxuXHJcbiAgXHJcbiAgICAkc2NvcGUuJG9uKCdwYWdlZGF0YS1mYScsIGZ1bmN0aW9uIChkLCBkYXRhKSB7XHJcbiAgICAgICRzY29wZS5wYWdlTnVtID0gZGF0YS5wYWdlTnVtO1xyXG4gICAgICAkc2NvcGUucGFnZVNpemUgPSBkYXRhLnBhZ2VTaXplO1xyXG4gICAgICAkc2NvcGUuY2hlY2tfQWxsID0gZmFsc2U7XHJcbiAgICAgIGdldEt1bmN1bkxpc3QoKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgJHNjb3BlLnNlYXJjaFBybyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgJHNjb3BlLnNob3dSZXNlYXJjaCA9IHRydWU7XHJcbiAgICAgICRzY29wZS5wYWdlTnVtID0gJzEnO1xyXG4gICAgICBnZXRLdW5jdW5MaXN0KCk7XHJcbiAgICB9XHJcbiAgICAkc2NvcGUuZW50ZXJTZWFyY2ggPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMpIHtcclxuICAgICAgICAkc2NvcGUuc2VhcmNoUHJvKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgICRzY29wZS5zaG93VmFyaWFudCA9IGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICBjb25zdCBpc1dhcm5pbmcgPSBpdGVtLmlzV2FybmluZyA9PSAnMScgPyAnMScgOiAnJztcclxuICAgICAgdmFyIHVybCA9ICdwb2pvL2ludmVudG9yeS9nZXRDakF1dGhvcml0eVZhcmlhbnRzJztcclxuICAgICAgJHNjb3BlLmN1cnJlbnRDbGlja2VkQ2F0ZWdvcnkgPSBpdGVtLmNhdGVnb3J5SWQ7XHJcbiAgICAgIGRzcC5wb3N0RnVuKCRzY29wZS5saXN0VmlkVXJsIHx8IHVybCwgSlNPTi5zdHJpbmdpZnkoeyBwaWQ6IGl0ZW0ucGlkLCBpc1dhcm5pbmcgfSksIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5zdGF0dXNDb2RlICE9IDIwMCkge1xyXG4gICAgICAgICAgZHNwLmNqTWVzRnVuKDEpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzdWx0ID0gSlNPTi5wYXJzZShkYXRhLmRhdGEucmVzdWx0KTtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0LS0tLS0tLS0tLS0tLS0nLCByZXN1bHQpXHJcbiAgICAgICAgJHNjb3BlLmludmVsaXN0W2luZGV4XS52bGlzdCA9IHJlc3VsdC5saXN0O1xyXG4gICAgICAgICRzY29wZS5pbnZlbGlzdFtpbmRleF0uZG93biA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgICRzY29wZS5oaWRlVmFyaWFudCA9IGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICAkc2NvcGUuaW52ZWxpc3RbaW5kZXhdLnZsaXN0ID0gW107XHJcbiAgICAgICRzY29wZS5pbnZlbGlzdFtpbmRleF0uZG93biA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgJHNjb3BlLnRvU2hvd0V4cG9ydD1mdW5jdGlvbigpe1xyXG4gICAgICAkc2NvcGUuc2hvd0V4cG9ydCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgJHNjb3BlLmV4cG9ydEV4Y2VsPWZ1bmN0aW9uKCl7XHJcbiAgICAgICRzY29wZS5zaG93RXhwb3J0ID0gZmFsc2U7XHJcbiAgICAgIGNvbnN0IHBpZHM9W11cclxuICAgICAgJHNjb3BlLmludmVsaXN0LmZvckVhY2goaXRlbT0+e1xyXG4gICAgICAgICAgaWYoaXRlbS5jaGVjayA9PSB0cnVlKXtcclxuICAgICAgICAgICAgICBwaWRzLnB1c2goaXRlbS5waWQpXHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIGlmKHBpZHMubGVuZ3RoPT0wKXtcclxuICAgICAgICBsYXllci5tc2coXCJQbGVhc2Ugc2VsZWN0IGV4cG9ydCBsaXN0XCIpXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuwqDCoMKgwqDCoMKgwqDCoGNvbnN0wqBtc2dMb2FkaW5nwqA9wqBjak1lc3NhZ2UubG9hZGluZyh7wqBpc0ZpeGVkOiB0cnVlwqB9KTtcclxuICAgICAgZHNwLnBvc3RGdW4oJ29yZGVyL2dvb2RzL2V4cG9ydEludmVudG9yJywge1wicGlkc1wiOnBpZHMuam9pbihcIixcIil9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICBtc2dMb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgIHZhciByZXN1bHQgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN0YXR1c0NvZGUgPT0gMjAwKXtcclxuICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmPXJlc3VsdFxyXG4gICAgICAgICAgfVxyXG4gICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICBtc2dMb2FkaW5nLmhpZGUoKTtcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAkc2NvcGUudHJhbnNJbnZlbnRvcnkgPSBmdW5jdGlvbihpdGVtLCB0eXBlKSB7XHJcbiAgICAgICRzY29wZS5jbGlja2VkSXRlbSA9IGl0ZW07XHJcbiAgICAgICRzY29wZS5zaG93VHJhbnNmZXJDb25maXJtID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLmlzVHJhbnNWaWQgPSB0eXBlXHJcbiAgICB9XHJcblxyXG4gICAgJHNjb3BlLmNvbmZpcm1UcmFuc0ludmVudG9yeSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAkc2NvcGUuc2hvd1RyYW5zZmVyQ29uZmlybSA9IGZhbHNlO1xyXG4gICAgICBjb25zdMKgbXNnTG9hZGluZ8KgPcKgY2pNZXNzYWdlLmxvYWRpbmcoe8KgaXNGaXhlZDogdHJ1ZcKgfSk7XHJcbiAgICAgIGRzcC5wb3N0RnVuKCdhcHAvYWpheC9hdXRvU2t1Jywge1wiY2lkXCI6JHNjb3BlLmNsaWNrZWRJdGVtLmNhdGVnb3J5SWQgfHwgJHNjb3BlLmN1cnJlbnRDbGlja2VkQ2F0ZWdvcnl9LCBmdW5jdGlvbiAocmVzMSkge1xyXG4gICAgICAgIGlmKHJlczEuZGF0YS5zdGF0dXNDb2RlID09PSAnMjAwJykge1xyXG4gICAgICAgICAgY29uc3QgcGFyYW1zMSA9IHtcclxuICAgICAgICAgICAgXCJsb2NQaWRcIjokc2NvcGUuY2xpY2tlZEl0ZW0ucGlkLFxyXG4gICAgICAgICAgICBcImFjY291bnROYW1lXCI6IHV0aWxzLmdldExvY2FsSW5mbygnbG9naW5OYW1lJyksXHJcbiAgICAgICAgICAgIFwiYWNjb3VudElkXCI6dXRpbHMuZ2V0TG9jYWxJbmZvKCd1c2VySWQnKSxcclxuICAgICAgICAgICAgXCJuZXdTa3VcIjpyZXMxLmRhdGEucmVzdWx0LFxyXG4gICAgICAgICAgICBcInN0YW5QaWRzXCI6JHNjb3BlLmlzVHJhbnNWaWQgPyBbJHNjb3BlLmNsaWNrZWRJdGVtLnZpZF0gOiBbLi4uJHNjb3BlLmNsaWNrZWRJdGVtLnByaXZhdGVWaWRzXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZHNwLnBvc3RGdW4oJ3N1cHBsaWVyUGxhbkluZm8vY2pwcm9kdWN0VHJhbnNmb3JtL2RvVHJhbnNmb3JtJywgcGFyYW1zMSwgZnVuY3Rpb24gKHJlczIpIHtcclxuICAgICAgICAgICAgaWYocmVzMi5kYXRhLmNvZGUgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHBhcmFtczIgPSB7XHJcbiAgICAgICAgICAgICAgICBcImFjY291bnRJZFwiOnV0aWxzLmdldExvY2FsSW5mbygndXNlcklkJyksXHJcbiAgICAgICAgICAgICAgICBcInN0YW5JZHNcIjogcmVzMi5kYXRhLmRhdGEubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YW5Ta3U6IGl0ZW0ubmV3U2t1LFxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFN0YW5JZDogaXRlbS5vbGRTdGFuUGlkLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0xvY1BpZDogaXRlbS5uZXdMb2NQaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhblBpZDogaXRlbS5uZXdTdGFuUGlkLFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBkc3AucG9zdEZ1bignc3RvcmVob3VzZS9janByb2R1Y3RUcmFuc2Zvcm0vb3V0SW52ZW50b3J5cycsIHBhcmFtczIsIGZ1bmN0aW9uIChyZXMzKSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXMzLmRhdGEuY29kZSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgIGxheWVyLm1zZygnVHJhbnNmZXIgU3VjY2VzcycpXHJcbiAgICAgICAgICAgICAgICAgIGdldEt1bmN1bkxpc3QoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIGxheWVyLm1zZygnVHJhbnNmZXIgZmFpbGVkJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1zZ0xvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICAgIH0sZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBtc2dMb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIGxheWVyLm1zZygnVHJhbnNmZXIgZmFpbGVkJylcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlczIuZGF0YS5jb2RlID09PSA1MDAwMDI0KSB7XHJcbiAgICAgICAgICAgICAgbGF5ZXIubXNnKCdPdXQgb2YgbGlzdGluZyBwcm9kdWN0cywgeW91IGNhbm5vdCB0cmFuc2ZlciB0aGVtLiBZb3UgY2FuIHVwZ3JhZGUgUHJpY2luZyB0byBsaXN0IG1vcmUgcHJvZHVjdHMuJylcclxuICAgICAgICAgICAgICBtc2dMb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMyLmRhdGEuY29kZSA9PT0gNTAwMDAwMSB8fCByZXMyLmRhdGEuY29kZSA9PT0gMTAwMDApIHtcclxuICAgICAgICAgICAgICBsYXllci5tc2cocmVzMi5kYXRhLmVycm9yKVxyXG4gICAgICAgICAgICAgIG1zZ0xvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGxheWVyLm1zZyhyZXMyLmRhdGEuZXJyb3IpXHJcbiAgICAgICAgICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG1zZ0xvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICBsYXllci5tc2coJ1RyYW5zZmVyIGZhaWxlZCcpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtc2dMb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgIGxheWVyLm1zZygnVHJhbnNmZXIgZmFpbGVkJylcclxuICAgICAgICB9XHJcbiAgICAgIH0sZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgbGF5ZXIubXNnKCdUcmFuc2ZlciBmYWlsZWQnKVxyXG4gICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICBtc2dMb2FkaW5nLmhpZGUoKTtcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAkc2NvcGUuY2hlY2tBbGwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKCRzY29wZS5jaGVja19BbGwpe1xyXG4gICAgICAgICAgJHNjb3BlLmludmVsaXN0LmZvckVhY2goaXRlbT0+e1xyXG4gICAgICAgICAgICBpdGVtLmNoZWNrID0gdHJ1ZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICRzY29wZS5pbnZlbGlzdC5mb3JFYWNoKGl0ZW09PntcclxuICAgICAgICAgICAgaXRlbS5jaGVjayA9IGZhbHNlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICRzY29wZS5jaGVja09uZSA9IGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICAgIGlmIChpdGVtLmNoZWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBudW0gPSAwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5pbnZlbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmludmVsaXN0W2ldLmNoZWNrKSB7XHJcbiAgICAgICAgICAgICAgICBudW0rKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChudW0gPT0gJHNjb3BlLmludmVsaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tfQWxsID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jaGVja19BbGwgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHNwLmdldEZ1bihcImFwcC9zdG9yYWdlL2dldFN0b3JhZ2VcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgJHNjb3BlLndhcmVMaXN0ID0gSlNPTi5wYXJzZShkYXRhLmRhdGEucmVzdWx0KTtcclxuICAgIH0pO1xyXG4gICAgLy92aWV3RGV0YWlsc1xyXG4gICAgJHNjb3BlLnZpZXdEZXRhaWxzID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgJHNjb3BlLmlzVmlldyA9IHRydWU7XHJcbiAgICAgICRzY29wZS5zdG9yYWdlSWQgPSBpdGVtLnN0b3JhZ2VJZDtcclxuICAgICAgJHNjb3BlLnNrdSA9IGl0ZW0uc2t1O1xyXG5cclxuICAgICAgLy8g5paw5LuT5bqT5pWw5o2u5o6l5Y+jXHJcbiAgICAgIGRzcC5wb3N0RnVuKFwic3RvcmVob3VzZS9XYXJlaG91c0luZm8vZ2V0U3RvcmVob3VzZU5ldyBcIiwge3VzZVN0b3JhZ2VUeXBlOlwiMVwifSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpO1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGEuY29kZSA9PSAyMDApIHtcclxuICAgICAgICAgIHZhciBsaXN0ID0gZGF0YS5kYXRhLmRhdGE7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsvL+ebtOWPkeS7k1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gbGlzdFtpXTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC5zdG9yYWdlTmFtZSA9PSAn55u05Y+R5LuTJykge1xyXG4gICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2YXIgbmV3QXJyID0gbGlzdC5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnN0b3JhZ2VOYW1lICE9PSAn5LmJ5LmM55u05Y+R5LuTJykge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KS5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnN0b3JhZ2VOYW1lICE9PSAn5rex5Zyz55u05Y+R5LuTJykge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgICRzY29wZS5TdG9yYWdlTGlzdCA9IG5ld0FycjtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIGdldExpc3QoJHNjb3BlLnN0b3JhZ2VJZClcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldExpc3Qoc3RvcmFnZUlkKSB7XHJcbsKgwqDCoMKgwqDCoMKgwqBjb25zdMKgbXNnTG9hZGluZ8KgPcKgY2pNZXNzYWdlLmxvYWRpbmcoe8KgaXNGaXhlZDogdHJ1ZcKgfSk7XHJcbiAgICAgICAgZHNwLnBvc3RGdW4oXCJjai9DakFjY0ludmVudG9yeURldGFpbC9nZXRPdXRJbkludmVudG9yeVJlY29yZEluZm9cIiwgeyBzdG9yYWdlSWQ6IHN0b3JhZ2VJZCwgc2t1OiAkc2NvcGUuc2t1IH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBtc2dMb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3RhdHVzQ29kZSA9PSAyMDApIHtcclxuICAgICAgICAgICAgJHNjb3BlLmRldGFpbExpc3QgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgbXNnTG9hZGluZy5oaWRlKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgICRzY29wZS5zdG9yYWdlU2VsZWN0ID0gZnVuY3Rpb24gKHN0b3JhZ2VJZCkge1xyXG4gICAgICBnZXRMaXN0KHN0b3JhZ2VJZClcclxuICAgIH1cclxuICAgIC8v6ZqQ6JePMOW6k+WtmOWVhuWTgVxyXG4gICAgJHNjb3BlLmhpZGVaZXJvUHJvZHVjdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAkc2NvcGUuaXNIaWRlWmVybyA9ICEkc2NvcGUuaXNIaWRlWmVybztcclxuICAgICAgY29uc3QgaXNIaWRlID0gJHNjb3BlLmlzSGlkZVplcm8gPyAnMScgOiAnMCc7XHJcblxyXG4gICAgICBkc3AucG9zdEZ1bihcImFwcC9jdXN0b21lckNvbmZpZy9zYXZlQ29uZmlnQnlUeXBlXCIsIHsgY29uZmlnVmFsdWU6IGlzSGlkZSwgY29uZmlnVHlwZTogJ2lzSGlkZVplcm9JbnZlbnRvcnknIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgIGdldEt1bmN1bkxpc3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8v6I635Y+W5LiK5qyh55So5oi35piv5ZCm6ZqQ6JeP6K6w5b2VXHJcbiAgICBmdW5jdGlvbiBnZXRVc2VyU3RvY2tDb25maWcgKCkge1xyXG4gICAgICBkc3AucG9zdEZ1bihcImFwcC9jdXN0b21lckNvbmZpZy9nZXRDb25maWdCeVR5cGVcIiwge1xyXG4gICAgICAgIGNvbmZpZ1R5cGU6ICdpc0hpZGVaZXJvSW52ZW50b3J5J1xyXG4gICAgICB9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgICRzY29wZS5pc0hpZGVaZXJvID0gZGF0YS5kYXRhLnJlc3VsdCA9PT0gXCIxXCIgPyB0cnVlIDpmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBnZXRVc2VyU3RvY2tDb25maWcoKTtcclxuICAgIC8vIOaYvuekuumihOitpuaPkOekuuaWh+acrFxyXG4gICAgJHNjb3BlLndhcm5pbmdNc2dPbmUgPSAnJztcclxuICAgICRzY29wZS53YXJuaW5nTXNnVHdvID0gJyc7XHJcbiAgICBcclxuICAgICRzY29wZS5nZXRNc2cgPSBmdW5jdGlvbihpdGVtLCBmaWxlZHMpIHtcclxuICAgICAgJHNjb3BlLmludmVsaXN0ID0gJHNjb3BlLmludmVsaXN0Lm1hcChvID0+IHtcclxuICAgICAgICAgIGlmKG8udmxpc3QpIHtcclxuICAgICAgICAgICAgICBvLnZsaXN0ID0gby52bGlzdC5tYXAoaSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgLi4uaSxcclxuICAgICAgICAgICAgICAgIFtmaWxlZHNdOiBpW2ZpbGVkc10gPyBmYWxzZSA6IGkudmlkID09IGl0ZW0udmlkLFxyXG4gICAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIG87XHJcbiAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgICBpZih0eXBlb2YgaXRlbS53YXJuaW5nTWFwID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKGl0ZW0ud2FybmluZ01hcCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IHt3YXJuaW5nVHlwZSwgYWN0dWFsVmFsdWUsIHdhcm5pbmdWYWx1ZX0gPSBpdGVtLndhcm5pbmdNYXA7XHJcbiAgICAgICAgc3dpdGNoIChOdW1iZXIod2FybmluZ1R5cGUpKSB7XHJcbiAgICAgICAgICBjYXNlIDA6IHsgLy8g5bqT5a2Y5pWw6YePXHJcbiAgICAgICAgICAgIGlmKGFjdHVhbFZhbHVlID09IHdhcm5pbmdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS53YXJuaW5nTXNnT25lID0gJ0N1cnJlbnQgcHJpdmF0ZSBpbnZlbnRvcnkgKCcgKyBhY3R1YWxWYWx1ZSArICcpJztcclxuICAgICAgICAgICAgICAkc2NvcGUud2FybmluZ01zZ1R3byA9ICdoYXMgY29tZSB0byB0aGUgc2V0IHNhZmV0eSBzdG9jayB2YWx1ZSAnKyB3YXJuaW5nVmFsdWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihhY3R1YWxWYWx1ZSA8IHdhcm5pbmdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS53YXJuaW5nTXNnT25lID0gJ0N1Y3VycmVudCBwcml2YXRlIGludmVudG9yeSAoJyArIGFjdHVhbFZhbHVlICsgJyknO1xyXG4gICAgICAgICAgICAgICRzY29wZS53YXJuaW5nTXNnVHdvID0gJ2lzIGxlc3MgdGhhbiBzZXQgc2FmZXR5IHN0b2NrIHZhbHVlIGJ5ICcgKyAod2FybmluZ1ZhbHVlLWFjdHVhbFZhbHVlKSArICAnIHBpZWNlcyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjYXNlIDE6IHsgLy8g5Y+v5Y+Y5aSp5pWwXHJcbiAgICAgICAgICAgICAgJHNjb3BlLndhcm5pbmdNc2dPbmUgPSAnRXN0aW1hdGVkIFJlbWFpbmluZyBEYXlzOiAnKyBhY3R1YWxWYWx1ZTtcclxuICAgICAgICAgICAgICAkc2NvcGUud2FybmluZ01zZ1R3byA9ICdFc3RpbWF0ZWQgRGF5cyB0byBSZXN0b2NrOiAnICsgd2FybmluZ1ZhbHVlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICRzY29wZS5pc1Nob3cgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgIGZvciAobGV0IGkgaW4gb2JqKSBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUubW91c2VPdXQgPSBmdW5jdGlvbihmaWxlZHMpIHtcclxuICAgICAgJHNjb3BlLmludmVsaXN0ID0gJHNjb3BlLmludmVsaXN0Lm1hcChvID0+IHtcclxuICAgICAgICBpZihvLnZsaXN0KSB7XHJcbiAgICAgICAgICAgIG8udmxpc3QgPSBvLnZsaXN0Lm1hcChpID0+ICh7XHJcbiAgICAgICAgICAgICAgLi4uaSxcclxuICAgICAgICAgICAgICBbZmlsZWRzXTogZmFsc2VcclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvO1xyXG4gICAgfSlcclxuICAgIH1cclxuICB9XSk7XHJcblxyXG4gIHJldHVybiBhcHA7XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZkE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/pages/mycj/inventory/my-inventory.js\n");

/***/ })

}]);