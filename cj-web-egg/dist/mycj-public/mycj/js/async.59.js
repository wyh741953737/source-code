(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[59],{

/***/ "../src/pages/mycj/ticket/ticket-list.js":
/*!***********************************************!*\
  !*** ../src/pages/mycj/ticket/ticket-list.js ***!
  \***********************************************/
/*! exports provided: ticketListFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ticketListFactory\", function() { return ticketListFactory; });\nfunction ticketListFactory(angular) {\n  var app = angular.module('ticket-list.module', []);\n  var noDataHeight = 520;\n  app.controller('ticket-list.ctrl', ['$scope', '$rootScope', 'dsp', function ($scope, $rootScope, dsp) {\n    $scope.inputStr = '';\n    $scope.listArr = [];\n    $scope.detailData = [];\n    $scope.isDetail = false;\n    $scope.isClose = false;\n    $scope.pageNum = '1';\n    $scope.pageSize = '10';\n    dsp.beforeSearchPic($('.no-data'), noDataHeight);\n\n    $scope.listViewTicket = function (item) {\n      console.log(item);\n      $scope.valuateItem = item;\n      $scope.evaluateId = item.ID;\n      $scope.status = item.STATUS;\n      $scope.type = item.TYPE;\n      $scope.ticketNum = item.SERIAL;\n      $scope.subject = item.SUBJECT;\n      $scope.isDetail = true;\n      $scope.replyBtnShow = $scope.nowStatus === '2' || $scope.nowStatus === '1' || $scope.nowStatus === \"4\";\n      $scope.estimateDate = item.estimateDate;\n      $scope.estimate = item.estimate;\n      $scope.estimateExplain = item.estimateExplain;\n      $scope.showType = item.TYPE;\n      $scope.isVip = item.vip; // 工单类型  businessType=5 是搜品工单\n\n      $scope.businessType = item.businessType; // 以erp发起的主动搜品工单\n\n      $scope.isErpCall = item.isErpCall;\n      $scope.titleshow = false;\n      $('.hnj-SupportCenterWrap > ul > li').eq(3).show().siblings('li').hide();\n      $scope.hideID = $(this)[0].item.ID;\n      $scope.nowStatus = $(this)[0].item.STATUS;\n      $scope.nowType = $(this)[0].item.TYPE;\n      $scope.nowNum = $(this)[0].item.SERIAL; // 详情数据\n\n      dsp.getFun('pojo/issue/getIssueMessageCj?id=' + $scope.hideID, con, err);\n\n      function con(res) {\n        var detailData = JSON.parse(res.data.result);\n        console.log(detailData); // console.log(detailData[0].ATTACHMENT);//数组\n        // console.log(attachmentstr);\n\n        $scope.detailData = detailData; // $scope.detailData.imgName=\"\";\n\n        $scope.imgName = $scope.detailData[0].OPERATOREN.slice(0, 1).toUpperCase();\n        console.log($scope.imgName);\n        $scope.tdetailDate = detailData[0].MESSAGEDATE.time;\n        console.log($scope.detailData);\n\n        for (var i = 0; i < $scope.detailData.length; i++) {\n          if ($scope.detailData[i].STATUS == '1') {\n            $scope.ywyName = $scope.detailData[i].OPERATOREN ? $scope.detailData[i].OPERATOREN.slice(0, 1).toUpperCase() : null;\n          }\n\n          if ($scope.detailData[i].ATTACHMENT) {\n            $scope.detailData[i].ATTACHMENT = $scope.detailData[i].ATTACHMENT.split(',');\n          } // if($scope.detailData[i].STATUS)\n\n        }\n      }\n\n      ;\n\n      function err(res) {}\n\n      $scope.replyUlHide = $scope.nowStatus == '0' || $scope.nowStatus == '3' || $scope.nowStatus == '5';\n      $scope.replyBtnShow = $scope.nowStatus == '2' || $scope.nowStatus == '1' || $scope.nowStatus == '4';\n      $scope.CancelBtnShow = $scope.nowStatus == '1' || $scope.nowStatus == '2' || $scope.nowStatus == '4';\n      $scope.EndBtnShow = $scope.nowStatus == '1' || $scope.nowStatus == '2'; // $scope.addmessageShow=$scope.nowStatus=='1'\n      // 客户回复\n\n      $scope.replyFun = function () {\n        $scope.newimgArr = $scope.imgArr.toString();\n        console.log($scope.newimgArr);\n        $scope.kreplyMessage = $('#kmessage').val();\n\n        if ($scope.kreplyMessage.length < 5) {\n          return layer.msg('Please enter 5 characters at least.');\n        }\n\n        layer.load();\n\n        if ($scope.kreplyMessage) {\n          var _con = function _con(res) {\n            console.log(res.data.result);\n\n            if (res.data.statusCode == 200) {\n              $scope.isDetail = false;\n              layer.closeAll('loading');\n              layer.msg('Replied Successfully!');\n              setTimeout(function () {\n                $('.hnj-SupportCenterWrap > ul > li').eq(0).show().siblings('li').hide(); //$scope.ticket();\n\n                getData();\n              }, 500);\n              $('#kmessage').val('');\n              $scope.imgArr = []; //清空要发送的图片\n\n              $('#documentupload2').val('');\n            } else {\n              layer.msg('Server error!');\n            }\n          };\n\n          var _err = function _err(res) {\n            layer.closeAll('loading');\n          };\n\n          dsp.postFun('cujia-message/issue/cjReply', {\n            \"id\": $scope.hideID,\n            \"message\": $scope.kreplyMessage,\n            \"attachment\": $scope.newimgArr\n          }, _con, _err);\n          ;\n        } else {\n          // $('.hnj-detail .hnj-tankuang').css({ 'display': 'block' });\n          $scope.replyTip = true;\n          $scope.otherTip = false;\n          $scope.closeWord = '';\n          layer.msg(\"Please input some information.\");\n\n          $scope.replyTipFun = function () {\n            $('.hnj-detail .hnj-tankuang').css({\n              'display': 'none'\n            });\n          };\n        }\n      }; // 取消工单\n\n\n      $scope.cancelFun = function () {\n        var str = 'close';\n        $scope.closeWord = str;\n        $scope.replyTip = false;\n        $scope.otherTip = true; // $('.hnj-detail .hnj-tankuang').css({ 'display': 'block' });\n\n        $scope.isClose = true;\n      };\n\n      $scope.cancelYesFun = function () {\n        dsp.getFun('pojo/issue/cancel?id=' + $scope.hideID, con, err);\n\n        function con(res) {\n          console.log(res); // $('.hnj-detail .hnj-tankuang').css({ 'display': 'none' });\n          // $('.hnj-SupportCenterWrap > ul > li').eq(0).show().siblings('li').hide();\n\n          $scope.isDetail = false;\n          $scope.isClose = false;\n          $('#documentupload2').val('');\n          getData(); //$scope.ticket();\n        }\n\n        ;\n\n        function err(res) {}\n      };\n\n      $scope.cancelNoFun = function () {\n        // $('.hnj-detail .hnj-tankuang').css({ 'display': 'none' });\n        $scope.isClose = false;\n      }; // 完成工单\n\n\n      $scope.endFun = function () {\n        // $scope.closeWord=complete;\n        var str = 'Finished';\n        $scope.closeWord = str;\n        $scope.replyTip = false;\n        $scope.otherTip = true;\n        $scope.isClose = true;\n      };\n\n      function evaluate(item) {\n        $scope.evaluateId = item.ID;\n        dsp.getFun('pojo/issue/getIssueMessageCj?id=' + $scope.evaluateId, function (res) {\n          var detailData = JSON.parse(res.data.result);\n          $scope.detailData = detailData;\n          $scope.imgName = $scope.detailData[0].OPERATOREN.slice(0, 1).toUpperCase();\n          $scope.tdetailDate = detailData[0].MESSAGEDATE.time;\n          $scope.cjStatus = [];\n\n          for (var i = 0; i < $scope.detailData.length; i++) {\n            $scope.cjStatus.push($scope.detailData[i].STATUS);\n\n            if ($scope.detailData[i].STATUS == '1') {\n              $scope.ywyName = $scope.detailData[i].OPERATOREN ? $scope.detailData[i].OPERATOREN.slice(0, 1).toUpperCase() : null;\n            }\n\n            if ($scope.detailData[i].ATTACHMENT) {\n              $scope.detailData[i].ATTACHMENT = $scope.detailData[i].ATTACHMENT.split(',');\n            }\n          }\n\n          console.log($scope.cjStatus);\n\n          if ($scope.cjStatus.includes('1')) {\n            $scope.isEvaluate = true;\n          }\n        }, function () {});\n      }\n\n      $scope.endYesFun = function () {\n        dsp.getFun('pojo/issue/complete?id=' + $scope.hideID, con, err);\n\n        function con(res) {\n          console.log(res);\n          $scope.isDetail = false;\n          $scope.isClose = false;\n          evaluate($scope.valuateItem);\n          $('#documentupload2').val('');\n          getData(); // $('.hnj-detail .hnj-tankuang').css({ 'display': 'none' });\n          // $('.hnj-SupportCenterWrap > ul > li').eq(0).show().siblings('li').hide();\n          //$scope.ticket();\n        }\n\n        ;\n\n        function err(res) {}\n      };\n\n      $scope.endNoFun = function () {\n        // $('.hnj-detail .hnj-tankuang').css({ 'display': 'none' });\n        $scope.isClose = false;\n      };\n    }; //搜索\n\n\n    $scope.listSearch = function () {\n      $scope.pageNum = '1';\n      getData('search');\n    };\n\n    $scope.textString = '';\n\n    $scope.textAreaChange = function (data) {\n      // console.log(data.target.value,data.target.value.replace(/(^\\s*)|(\\s*$)/g, ''),\"FFFFF\")\n      data.target.value = data.target.value.replace(/(^\\s*)|(\\s*$)/g, '');\n    };\n\n    function getData(type) {\n      var params = {\n        pageNum: $scope.pageNum,\n        pageSize: $scope.pageSize,\n        inputStr: $scope.inputStr\n      };\n      layer.load(2);\n      dsp.postFun('cujia-message/issue/getIssueCj', params, function (_ref) {\n        var data = _ref.data;\n        layer.closeAll('loading');\n\n        if (data.statusCode === 200) {\n          dsp.removeNodataPic($('.no-data'));\n          var temp = JSON.parse(data.result)[0].issues || []; // 根据回复的时间 和是否vip 算出是否要展示提示icon\n\n          $scope.listArr = temp;\n\n          if ($scope.listArr.length == 0) {\n            if (type == 'search') {\n              dsp.afterSearchPic($('.no-data'), noDataHeight);\n            } else {\n              dsp.beforeSearchPic($('.no-data'), noDataHeight);\n            }\n          }\n\n          $scope.totalNum = JSON.parse(data.result)[0].totle;\n          $scope.totalPageNum = Math.ceil($scope.totalNum / $scope.pageSize);\n          $scope.$broadcast('page-data', {\n            pageNum: $scope.pageNum,\n            totalNum: $scope.totalPageNum,\n            totalCounts: $scope.totalNum,\n            pageSize: $scope.pageSize\n          });\n        }\n      }, function (err) {\n        console.log(err);\n      });\n    }\n\n    getData();\n    $scope.$on('pagedata-fa', function (d, data) {\n      $scope.pageNum = data.pageNum;\n      $scope.pageSize = data.pageSize;\n      getData();\n    }); //Submit Ticket\n\n    $scope.status = '';\n    $scope.type = '';\n    $scope.ticketNum = ''; // $scope.typeShow = function (item) {\n    //   console.log(item)\n    //   $scope.status = item.STATUS\n    //   $scope.type = item.TYPE\n    //   $scope.ticketNum = item.SERIAL\n    //   $scope.subject = item.SUBJECT\n    //   $scope.isDetail = true\n    //   $scope.replyBtnShow = $scope.nowStatus == '2' || $scope.nowStatus == '1';\n    // }\n\n    $scope.typeShow1 = function () {\n      location.href = '/myCJ.html#/addTicket';\n    }; // submit form 上传图片\n\n\n    $scope.imgArr = [];\n    $scope.imgArrType = [];\n\n    $scope.upLoadImg4 = function (files) {\n      dsp.ossUploadFile(files, function (data) {\n        console.log(data, files, \"&&&&&&&&\");\n\n        if (data.code === 0) {\n          layer.msg('Images Upload Failed');\n          return;\n        }\n\n        if (data.code === 2) {\n          layer.msg('Images Upload Incomplete');\n        }\n\n        $(\"#workorder-file\").val('');\n        var obj = data.succssLinks;\n\n        if (files[0].size / (1024 * 1024) > 5) {\n          layer.msg('5M a file at most');\n        }\n\n        for (var j = 0; j < obj.length; j++) {\n          var srcList = obj[j].split('.');\n          var type = srcList[srcList.length - 1].toUpperCase();\n          var typeList = ['PNG', 'JPG', 'JPEG', 'GIF']; // if(srcList[srcList.length - 1] =='png' || srcList[srcList.length - 1] =='jpg' || srcList[srcList.length - 1]=='jpeg' || srcList[srcList.length - 1]=='gif'){\n\n          if (typeList.indexOf(type) !== -1) {\n            if ($scope.imgArr.length < 10) {\n              $scope.imgArr.push(obj[j]);\n            } else {\n              layer.msg(\"You can only upload up to 10 images.\");\n            }\n\n            $('#file').val(\"\");\n          } else {\n            // $('.gderr-loadsrc').show(); //判断如果不是图片的弹框  显示\n            // $('.hnj-form .hnj-tankuang').css({'display': 'block'});\n            // $scope.submitTipMessage = 'Please upload the correct format.';\n            // $scope.okFun = function () {\n            //   $('.hnj-form .hnj-tankuang').css({'display': 'none'});\n            // }\n            layer.msg('Please upload the correct format.');\n          }\n        }\n\n        $scope.$apply(); // console.log($scope.imgArr);\n      });\n      return;\n    };\n\n    $('.gderr-btn').click(function () {\n      $('.gderr-loadsrc').hide(); //判断如果不是图片的弹框  隐藏\n    }); // 关闭工单详情弹窗\n\n    $scope.closeTicket = function () {\n      $scope.isDetail = false;\n      $scope.imgArr = [];\n      $(\"#kmessage\").val(\"\");\n      $scope.kreplyMessage = \"\";\n    }; // 图片预览和删除\n\n\n    $scope.dpreviewImg = function ($event) {\n      // var imgPT=($('.img-preview-wrap').height()-$('.img-preview-wrap img').height())/2\n      var previewSrc = $($event.target).attr('src');\n      console.log(previewSrc);\n      $('.img-preview-wrap').css({\n        'display': 'block'\n      }); // $('.img-preview-wrap img').css({ 'marginTop': '10%' });\n\n      $scope.previewSrc = previewSrc;\n\n      $scope.previewWrapFun = function () {\n        $('.img-preview-wrap').css({\n          'display': 'none'\n        });\n      };\n    };\n\n    $scope.deleteImg = function (idx) {\n      $scope.imgArr.splice(idx, 1); // console.log($scope.imgArr)\n    }; // 下载图片\n\n\n    $scope.downloadImgs = function (img) {\n      window.open(img);\n    }; // 评价\n\n\n    $scope.elvaluateMes = '';\n    $scope.evaluateStatus = '';\n    $scope.evaluateId = '';\n    $scope.lineStatus = false;\n    $scope.evaluateTab = [{\n      name: 'Good',\n      url: './static/image/ticket-list/Good.png',\n      actUrl: 'static/image/ticket-list/GoodActive.png',\n      active: false,\n      status: '非常好',\n      icon: \"iconfont status-icon iconmanyi\"\n    }, {\n      name: 'Average',\n      url: './static/image/ticket-list/Average.png',\n      actUrl: 'static/image/ticket-list/AverageActive.png',\n      active: false,\n      status: '一般',\n      icon: \"iconfont status-icon iconyiban\"\n    }, {\n      name: 'Poor',\n      url: './static/image/ticket-list/Poor.png',\n      actUrl: 'static/image/ticket-list/PoorActive.png',\n      active: false,\n      status: '不好',\n      icon: \"iconfont status-icon iconchaping\"\n    }];\n\n    $scope.Evaluate = function (item) {\n      console.log(item);\n      $scope.evaluateId = item.ID;\n      dsp.getFun('pojo/issue/getIssueMessageCj?id=' + $scope.evaluateId, function (res) {\n        var detailData = JSON.parse(res.data.result);\n        $scope.detailData = detailData;\n        $scope.imgName = $scope.detailData[0].OPERATOREN.slice(0, 1).toUpperCase();\n        $scope.tdetailDate = detailData[0].MESSAGEDATE.time;\n        $scope.cjStatus = [];\n\n        for (var i = 0; i < $scope.detailData.length; i++) {\n          $scope.cjStatus.push($scope.detailData[i].STATUS);\n\n          if ($scope.detailData[i].STATUS == '1') {\n            $scope.ywyName = $scope.detailData[i].OPERATOREN ? $scope.detailData[i].OPERATOREN.slice(0, 1).toUpperCase() : null;\n          }\n\n          if ($scope.detailData[i].ATTACHMENT) {\n            $scope.detailData[i].ATTACHMENT = $scope.detailData[i].ATTACHMENT.split(',');\n          }\n        }\n\n        console.log($scope.cjStatus);\n\n        if (!$scope.cjStatus.includes('1')) {\n          layer.msg(\"Sorry, you can't review a ticket without CJ's response.\"); // $scope.isEvaluate = true\n        } else {\n          $scope.isEvaluate = true;\n        }\n      }, function () {});\n    };\n\n    $scope.choseEvaluate = function (item) {\n      for (var i = 0; i < $scope.evaluateTab.length; i++) {\n        $scope.evaluateTab[i].active = false;\n      }\n\n      item.active = true;\n      $scope.evaluateStatus = item.status;\n      $scope.lineStatus = true;\n    }; //\n\n\n    $scope.confirmEvaluate = function () {\n      if ($scope.evaluateStatus) {\n        dsp.postFun('pojo/issue/addIssueEvaluate', {\n          \"id\": $scope.evaluateId,\n          \"estimate\": $scope.evaluateStatus,\n          \"estimateExplain\": $scope.elvaluateMes\n        }, function (res) {\n          console.log(res);\n\n          if (res.data.statusCode == 200) {\n            layer.msg('Submit Successfully');\n            $scope.cancelEvaluate();\n            getData(); //$scope.ticket()\n          } else if (res.data.statusCode == 5001) {\n            layer.msg('The ticket cannot be reviewed for more than 7 days.');\n          }\n        }, function () {});\n      }\n    }; // 评价返回\n\n\n    $scope.cancelEvaluate = function () {\n      $scope.isEvaluate = false;\n      $scope.elvaluateMes = '';\n      $scope.evaluateStatus = '';\n\n      for (var i = 0; i < $scope.evaluateTab.length; i++) {\n        $scope.evaluateTab[i].active = false;\n      }\n\n      $scope.lineStatus = false;\n    };\n\n    $scope.judgeTime = function (time, time2) {\n      var strTime = time.replace(\"/-/g\", \"/\"); //时间转换\n\n      var strTime2 = time2.replace(\"/-/g\", \"/\"); //时间转换\n\n      var date1 = new Date(strTime);\n      var date2 = new Date(strTime2);\n\n      if (date2 - date1 > 7) {\n        return false;\n      } else {\n        return true;\n      } // return date1<date2?true:false;\n\n    };\n  }]);\n  return app;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vc3JjL3BhZ2VzL215Y2ovdGlja2V0L3RpY2tldC1saXN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3NyYy9wYWdlcy9teWNqL3RpY2tldC90aWNrZXQtbGlzdC5qcz83YmJhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiB0aWNrZXRMaXN0RmFjdG9yeShhbmd1bGFyKSB7XHJcbiAgY29uc3QgYXBwID0gYW5ndWxhci5tb2R1bGUoJ3RpY2tldC1saXN0Lm1vZHVsZScsIFtdKTtcclxuICBjb25zdCBub0RhdGFIZWlnaHQgPSA1MjA7XHJcbiAgXHJcbiAgYXBwLmNvbnRyb2xsZXIoJ3RpY2tldC1saXN0LmN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJ2RzcCcsXHJcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCBkc3ApIHtcclxuICAgICAgXHJcbiAgICAgICRzY29wZS5pbnB1dFN0ciA9ICcnXHJcbiAgICAgICRzY29wZS5saXN0QXJyID0gW11cclxuICAgICAgJHNjb3BlLmRldGFpbERhdGEgPSBbXVxyXG4gICAgICAkc2NvcGUuaXNEZXRhaWwgPSBmYWxzZVxyXG4gICAgICAkc2NvcGUuaXNDbG9zZSA9IGZhbHNlXHJcbiAgICAgICRzY29wZS5wYWdlTnVtID0gJzEnO1xyXG4gICAgICAkc2NvcGUucGFnZVNpemUgPSAnMTAnO1xyXG4gICAgICBkc3AuYmVmb3JlU2VhcmNoUGljKCQoJy5uby1kYXRhJyksIG5vRGF0YUhlaWdodClcclxuICAgICAgXHJcbiAgICAgIFxyXG4gICAgICAkc2NvcGUubGlzdFZpZXdUaWNrZXQgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXHJcbiAgICAgICAgJHNjb3BlLnZhbHVhdGVJdGVtID0gaXRlbTtcclxuICAgICAgICAkc2NvcGUuZXZhbHVhdGVJZCA9IGl0ZW0uSUQ7XHJcbiAgICAgICAgJHNjb3BlLnN0YXR1cyA9IGl0ZW0uU1RBVFVTO1xyXG4gICAgICAgICRzY29wZS50eXBlID0gaXRlbS5UWVBFO1xyXG4gICAgICAgICRzY29wZS50aWNrZXROdW0gPSBpdGVtLlNFUklBTDtcclxuICAgICAgICAkc2NvcGUuc3ViamVjdCA9IGl0ZW0uU1VCSkVDVDtcclxuICAgICAgICAkc2NvcGUuaXNEZXRhaWwgPSB0cnVlO1xyXG4gICAgICAgICRzY29wZS5yZXBseUJ0blNob3cgPSAkc2NvcGUubm93U3RhdHVzID09PSAnMicgfHwgJHNjb3BlLm5vd1N0YXR1cyA9PT0gJzEnIHx8ICRzY29wZS5ub3dTdGF0dXMgPT09IFwiNFwiO1xyXG4gICAgICAgICRzY29wZS5lc3RpbWF0ZURhdGUgPSBpdGVtLmVzdGltYXRlRGF0ZTtcclxuICAgICAgICAkc2NvcGUuZXN0aW1hdGUgPSBpdGVtLmVzdGltYXRlO1xyXG4gICAgICAgICRzY29wZS5lc3RpbWF0ZUV4cGxhaW4gPSBpdGVtLmVzdGltYXRlRXhwbGFpbjtcclxuICAgICAgICAkc2NvcGUuc2hvd1R5cGUgPSBpdGVtLlRZUEU7XHJcbiAgICAgICAgJHNjb3BlLmlzVmlwID0gaXRlbS52aXA7XHJcbiAgICAgICAgLy8g5bel5Y2V57G75Z6LICBidXNpbmVzc1R5cGU9NSDmmK/mkJzlk4Hlt6XljZVcclxuICAgICAgICAkc2NvcGUuYnVzaW5lc3NUeXBlID0gaXRlbS5idXNpbmVzc1R5cGU7XHJcbiAgICAgICAgLy8g5LulZXJw5Y+R6LW355qE5Li75Yqo5pCc5ZOB5bel5Y2VXHJcbiAgICAgICAgJHNjb3BlLmlzRXJwQ2FsbCA9IGl0ZW0uaXNFcnBDYWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS50aXRsZXNob3cgPSBmYWxzZTtcclxuICAgICAgICAkKCcuaG5qLVN1cHBvcnRDZW50ZXJXcmFwID4gdWwgPiBsaScpLmVxKDMpLnNob3coKS5zaWJsaW5ncygnbGknKS5oaWRlKCk7XHJcbiAgICAgICAgJHNjb3BlLmhpZGVJRCA9ICQodGhpcylbMF0uaXRlbS5JRDtcclxuICAgICAgICAkc2NvcGUubm93U3RhdHVzID0gJCh0aGlzKVswXS5pdGVtLlNUQVRVUztcclxuICAgICAgICAkc2NvcGUubm93VHlwZSA9ICQodGhpcylbMF0uaXRlbS5UWVBFO1xyXG4gICAgICAgICRzY29wZS5ub3dOdW0gPSAkKHRoaXMpWzBdLml0ZW0uU0VSSUFMO1xyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOivpuaDheaVsOaNrlxyXG4gICAgICAgIGRzcC5nZXRGdW4oJ3Bvam8vaXNzdWUvZ2V0SXNzdWVNZXNzYWdlQ2o/aWQ9JyArICRzY29wZS5oaWRlSUQsIGNvbiwgZXJyKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGNvbihyZXMpIHtcclxuICAgICAgICAgIHZhciBkZXRhaWxEYXRhID0gSlNPTi5wYXJzZShyZXMuZGF0YS5yZXN1bHQpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZGV0YWlsRGF0YSk7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkZXRhaWxEYXRhWzBdLkFUVEFDSE1FTlQpOy8v5pWw57uEXHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhdHRhY2htZW50c3RyKTtcclxuICAgICAgICAgICRzY29wZS5kZXRhaWxEYXRhID0gZGV0YWlsRGF0YTtcclxuICAgICAgICAgIC8vICRzY29wZS5kZXRhaWxEYXRhLmltZ05hbWU9XCJcIjtcclxuICAgICAgICAgICRzY29wZS5pbWdOYW1lID0gJHNjb3BlLmRldGFpbERhdGFbMF0uT1BFUkFUT1JFTi5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmltZ05hbWUpO1xyXG4gICAgICAgICAgJHNjb3BlLnRkZXRhaWxEYXRlID0gZGV0YWlsRGF0YVswXS5NRVNTQUdFREFURS50aW1lO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmRldGFpbERhdGEpO1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuZGV0YWlsRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmRldGFpbERhdGFbaV0uU1RBVFVTID09ICcxJykge1xyXG4gICAgICAgICAgICAgICRzY29wZS55d3lOYW1lID0gJHNjb3BlLmRldGFpbERhdGFbaV0uT1BFUkFUT1JFTiA/ICRzY29wZS5kZXRhaWxEYXRhW2ldLk9QRVJBVE9SRU4uc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSA6IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCRzY29wZS5kZXRhaWxEYXRhW2ldLkFUVEFDSE1FTlQpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuZGV0YWlsRGF0YVtpXS5BVFRBQ0hNRU5UID0gJHNjb3BlLmRldGFpbERhdGFbaV0uQVRUQUNITUVOVC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmKCRzY29wZS5kZXRhaWxEYXRhW2ldLlNUQVRVUylcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGVycihyZXMpIHtcclxuICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHNjb3BlLnJlcGx5VWxIaWRlID0gJHNjb3BlLm5vd1N0YXR1cyA9PSAnMCcgfHwgJHNjb3BlLm5vd1N0YXR1cyA9PSAnMycgfHwgJHNjb3BlLm5vd1N0YXR1cyA9PSAnNSc7XHJcbiAgICAgICAgJHNjb3BlLnJlcGx5QnRuU2hvdyA9ICRzY29wZS5ub3dTdGF0dXMgPT0gJzInIHx8ICRzY29wZS5ub3dTdGF0dXMgPT0gJzEnfHwkc2NvcGUubm93U3RhdHVzID09ICc0JztcclxuICAgICAgICAkc2NvcGUuQ2FuY2VsQnRuU2hvdyA9ICRzY29wZS5ub3dTdGF0dXMgPT0gJzEnIHx8ICRzY29wZS5ub3dTdGF0dXMgPT0gJzInIHx8ICRzY29wZS5ub3dTdGF0dXMgPT0gJzQnO1xyXG4gICAgICAgICRzY29wZS5FbmRCdG5TaG93ID0gJHNjb3BlLm5vd1N0YXR1cyA9PSAnMScgfHwgJHNjb3BlLm5vd1N0YXR1cyA9PSAnMic7XHJcbiAgICAgICAgLy8gJHNjb3BlLmFkZG1lc3NhZ2VTaG93PSRzY29wZS5ub3dTdGF0dXM9PScxJ1xyXG4gICAgICAgIC8vIOWuouaIt+WbnuWkjVxyXG4gICAgICAgICRzY29wZS5yZXBseUZ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICRzY29wZS5uZXdpbWdBcnIgPSAkc2NvcGUuaW1nQXJyLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUubmV3aW1nQXJyKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAkc2NvcGUua3JlcGx5TWVzc2FnZSA9ICQoJyNrbWVzc2FnZScpLnZhbCgpO1xyXG4gICAgICAgICAgaWYoJHNjb3BlLmtyZXBseU1lc3NhZ2UubGVuZ3RoPDUpe1xyXG4gICAgICAgICAgICByZXR1cm4gbGF5ZXIubXNnKCdQbGVhc2UgZW50ZXIgNSBjaGFyYWN0ZXJzIGF0IGxlYXN0LicpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsYXllci5sb2FkKCk7XHJcbiAgICAgICAgICBpZiAoJHNjb3BlLmtyZXBseU1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgZHNwLnBvc3RGdW4oJ2N1amlhLW1lc3NhZ2UvaXNzdWUvY2pSZXBseScsIHtcclxuICAgICAgICAgICAgICBcImlkXCI6ICRzY29wZS5oaWRlSUQsXHJcbiAgICAgICAgICAgICAgXCJtZXNzYWdlXCI6ICRzY29wZS5rcmVwbHlNZXNzYWdlLFxyXG4gICAgICAgICAgICAgIFwiYXR0YWNobWVudFwiOiAkc2NvcGUubmV3aW1nQXJyXHJcbiAgICAgICAgICAgIH0sIGNvbiwgZXJyKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZnVuY3Rpb24gY29uKHJlcykge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNEZXRhaWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGxheWVyLmNsb3NlQWxsKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICAgICAgICBsYXllci5tc2coJ1JlcGxpZWQgU3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICQoJy5obmotU3VwcG9ydENlbnRlcldyYXAgPiB1bCA+IGxpJykuZXEoMCkuc2hvdygpLnNpYmxpbmdzKCdsaScpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgLy8kc2NvcGUudGlja2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgIGdldERhdGEoKVxyXG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICAgICAgICAgICQoJyNrbWVzc2FnZScpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW1nQXJyID0gW107IC8v5riF56m66KaB5Y+R6YCB55qE5Zu+54mHXHJcbiAgICAgICAgICAgICAgICAkKCcjZG9jdW1lbnR1cGxvYWQyJykudmFsKCcnKVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsYXllci5tc2coJ1NlcnZlciBlcnJvciEnKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnIocmVzKSB7XHJcbiAgICAgICAgICAgICAgbGF5ZXIuY2xvc2VBbGwoJ2xvYWRpbmcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gJCgnLmhuai1kZXRhaWwgLmhuai10YW5rdWFuZycpLmNzcyh7ICdkaXNwbGF5JzogJ2Jsb2NrJyB9KTtcclxuICAgICAgICAgICAgJHNjb3BlLnJlcGx5VGlwID0gdHJ1ZTtcclxuICAgICAgICAgICAgJHNjb3BlLm90aGVyVGlwID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5jbG9zZVdvcmQgPSAnJztcclxuICAgICAgICAgICAgbGF5ZXIubXNnKFwiUGxlYXNlIGlucHV0IHNvbWUgaW5mb3JtYXRpb24uXCIpXHJcbiAgICAgICAgICAgICRzY29wZS5yZXBseVRpcEZ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAkKCcuaG5qLWRldGFpbCAuaG5qLXRhbmt1YW5nJykuY3NzKHsnZGlzcGxheSc6ICdub25lJ30pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWPlua2iOW3peWNlVxyXG4gICAgICAgICRzY29wZS5jYW5jZWxGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgc3RyID0gJ2Nsb3NlJztcclxuICAgICAgICAgICRzY29wZS5jbG9zZVdvcmQgPSBzdHI7XHJcbiAgICAgICAgICAkc2NvcGUucmVwbHlUaXAgPSBmYWxzZTtcclxuICAgICAgICAgICRzY29wZS5vdGhlclRpcCA9IHRydWU7XHJcbiAgICAgICAgICAvLyAkKCcuaG5qLWRldGFpbCAuaG5qLXRhbmt1YW5nJykuY3NzKHsgJ2Rpc3BsYXknOiAnYmxvY2snIH0pO1xyXG4gICAgICAgICAgJHNjb3BlLmlzQ2xvc2UgPSB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5jYW5jZWxZZXNGdW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBkc3AuZ2V0RnVuKCdwb2pvL2lzc3VlL2NhbmNlbD9pZD0nICsgJHNjb3BlLmhpZGVJRCwgY29uLCBlcnIpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGZ1bmN0aW9uIGNvbihyZXMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgICAgLy8gJCgnLmhuai1kZXRhaWwgLmhuai10YW5rdWFuZycpLmNzcyh7ICdkaXNwbGF5JzogJ25vbmUnIH0pO1xyXG4gICAgICAgICAgICAvLyAkKCcuaG5qLVN1cHBvcnRDZW50ZXJXcmFwID4gdWwgPiBsaScpLmVxKDApLnNob3coKS5zaWJsaW5ncygnbGknKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICRzY29wZS5pc0RldGFpbCA9IGZhbHNlXHJcbiAgICAgICAgICAgICRzY29wZS5pc0Nsb3NlID0gZmFsc2VcclxuICAgICAgICAgICAgJCgnI2RvY3VtZW50dXBsb2FkMicpLnZhbCgnJylcclxuICAgICAgICAgICAgZ2V0RGF0YSgpXHJcbiAgICAgICAgICAgIC8vJHNjb3BlLnRpY2tldCgpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgZnVuY3Rpb24gZXJyKHJlcykge1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5jYW5jZWxOb0Z1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIC8vICQoJy5obmotZGV0YWlsIC5obmotdGFua3VhbmcnKS5jc3MoeyAnZGlzcGxheSc6ICdub25lJyB9KTtcclxuICAgICAgICAgICRzY29wZS5pc0Nsb3NlID0gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5a6M5oiQ5bel5Y2VXHJcbiAgICAgICAgJHNjb3BlLmVuZEZ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIC8vICRzY29wZS5jbG9zZVdvcmQ9Y29tcGxldGU7XHJcbiAgICAgICAgICB2YXIgc3RyID0gJ0ZpbmlzaGVkJztcclxuICAgICAgICAgICRzY29wZS5jbG9zZVdvcmQgPSBzdHI7XHJcbiAgICAgICAgICAkc2NvcGUucmVwbHlUaXAgPSBmYWxzZTtcclxuICAgICAgICAgICRzY29wZS5vdGhlclRpcCA9IHRydWU7XHJcbiAgICAgICAgICAkc2NvcGUuaXNDbG9zZSA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gZXZhbHVhdGUoaXRlbSkge1xyXG4gICAgICAgICAgJHNjb3BlLmV2YWx1YXRlSWQgPSBpdGVtLklEXHJcbiAgICAgICAgICBkc3AuZ2V0RnVuKCdwb2pvL2lzc3VlL2dldElzc3VlTWVzc2FnZUNqP2lkPScgKyAkc2NvcGUuZXZhbHVhdGVJZCwgZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICB2YXIgZGV0YWlsRGF0YSA9IEpTT04ucGFyc2UocmVzLmRhdGEucmVzdWx0KTtcclxuICAgICAgICAgICAgJHNjb3BlLmRldGFpbERhdGEgPSBkZXRhaWxEYXRhO1xyXG4gICAgICAgICAgICAkc2NvcGUuaW1nTmFtZSA9ICRzY29wZS5kZXRhaWxEYXRhWzBdLk9QRVJBVE9SRU4uc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgJHNjb3BlLnRkZXRhaWxEYXRlID0gZGV0YWlsRGF0YVswXS5NRVNTQUdFREFURS50aW1lO1xyXG4gICAgICAgICAgICAkc2NvcGUuY2pTdGF0dXMgPSBbXVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5kZXRhaWxEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmNqU3RhdHVzLnB1c2goJHNjb3BlLmRldGFpbERhdGFbaV0uU1RBVFVTKVxyXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZGV0YWlsRGF0YVtpXS5TVEFUVVMgPT0gJzEnKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUueXd5TmFtZSA9ICRzY29wZS5kZXRhaWxEYXRhW2ldLk9QRVJBVE9SRU4gPyAkc2NvcGUuZGV0YWlsRGF0YVtpXS5PUEVSQVRPUkVOLnNsaWNlKDAsIDEpLnRvVXBwZXJDYXNlKCkgOiBudWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRldGFpbERhdGFbaV0uQVRUQUNITUVOVCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRldGFpbERhdGFbaV0uQVRUQUNITUVOVCA9ICRzY29wZS5kZXRhaWxEYXRhW2ldLkFUVEFDSE1FTlQuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmNqU3RhdHVzKVxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmNqU3RhdHVzLmluY2x1ZGVzKCcxJykpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuaXNFdmFsdWF0ZSA9IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHNjb3BlLmVuZFllc0Z1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgZHNwLmdldEZ1bigncG9qby9pc3N1ZS9jb21wbGV0ZT9pZD0nICsgJHNjb3BlLmhpZGVJRCwgY29uLCBlcnIpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGZ1bmN0aW9uIGNvbihyZXMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgICAgJHNjb3BlLmlzRGV0YWlsID0gZmFsc2VcclxuICAgICAgICAgICAgJHNjb3BlLmlzQ2xvc2UgPSBmYWxzZVxyXG4gICAgICAgICAgICBldmFsdWF0ZSgkc2NvcGUudmFsdWF0ZUl0ZW0pXHJcbiAgICAgICAgICAgICQoJyNkb2N1bWVudHVwbG9hZDInKS52YWwoJycpXHJcbiAgICAgICAgICAgIGdldERhdGEoKVxyXG4gICAgICAgICAgICAvLyAkKCcuaG5qLWRldGFpbCAuaG5qLXRhbmt1YW5nJykuY3NzKHsgJ2Rpc3BsYXknOiAnbm9uZScgfSk7XHJcbiAgICAgICAgICAgIC8vICQoJy5obmotU3VwcG9ydENlbnRlcldyYXAgPiB1bCA+IGxpJykuZXEoMCkuc2hvdygpLnNpYmxpbmdzKCdsaScpLmhpZGUoKTtcclxuICAgICAgICAgICAgLy8kc2NvcGUudGlja2V0KCk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBmdW5jdGlvbiBlcnIocmVzKSB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLmVuZE5vRnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgLy8gJCgnLmhuai1kZXRhaWwgLmhuai10YW5rdWFuZycpLmNzcyh7ICdkaXNwbGF5JzogJ25vbmUnIH0pO1xyXG4gICAgICAgICAgJHNjb3BlLmlzQ2xvc2UgPSBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy/mkJzntKJcclxuICAgICAgJHNjb3BlLmxpc3RTZWFyY2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHNjb3BlLnBhZ2VOdW0gPSAnMSdcclxuICAgICAgICBnZXREYXRhKCdzZWFyY2gnKVxyXG4gICAgICB9XHJcbiAgICAgICRzY29wZS50ZXh0U3RyaW5nID0gJyc7XHJcbiAgICAgICRzY29wZS50ZXh0QXJlYUNoYW5nZSA9KGRhdGEpPT57XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS50YXJnZXQudmFsdWUsZGF0YS50YXJnZXQudmFsdWUucmVwbGFjZSgvKF5cXHMqKXwoXFxzKiQpL2csICcnKSxcIkZGRkZGXCIpXHJcbiAgICAgICAgZGF0YS50YXJnZXQudmFsdWUgPSBkYXRhLnRhcmdldC52YWx1ZS5yZXBsYWNlKC8oXlxccyopfChcXHMqJCkvZywgJycpXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBmdW5jdGlvbiBnZXREYXRhKHR5cGUpIHtcclxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XHJcbiAgICAgICAgICBwYWdlTnVtOiAkc2NvcGUucGFnZU51bSxcclxuICAgICAgICAgIHBhZ2VTaXplOiAkc2NvcGUucGFnZVNpemUsXHJcbiAgICAgICAgICBpbnB1dFN0cjogJHNjb3BlLmlucHV0U3RyXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxheWVyLmxvYWQoMilcclxuICAgICAgICBkc3AucG9zdEZ1bignY3VqaWEtbWVzc2FnZS9pc3N1ZS9nZXRJc3N1ZUNqJywgcGFyYW1zLCAoe2RhdGF9KSA9PiB7XHJcbiAgICAgICAgICBsYXllci5jbG9zZUFsbCgnbG9hZGluZycpXHJcbiAgICAgICAgICBpZiAoZGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHtcclxuICAgICAgICAgICAgZHNwLnJlbW92ZU5vZGF0YVBpYygkKCcubm8tZGF0YScpKTtcclxuICAgICAgICAgICAgY29uc3QgdGVtcCA9IEpTT04ucGFyc2UoZGF0YS5yZXN1bHQpWzBdLmlzc3VlcyB8fCBbXVxyXG4gICAgICAgICAgICAvLyDmoLnmja7lm57lpI3nmoTml7bpl7Qg5ZKM5piv5ZCmdmlwIOeul+WHuuaYr+WQpuimgeWxleekuuaPkOekumljb25cclxuICAgICAgICAgICAgJHNjb3BlLmxpc3RBcnIgPSB0ZW1wXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUubGlzdEFyci5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgIGlmICh0eXBlID09ICdzZWFyY2gnKSB7XHJcbiAgICAgICAgICAgICAgICBkc3AuYWZ0ZXJTZWFyY2hQaWMoJCgnLm5vLWRhdGEnKSwgbm9EYXRhSGVpZ2h0KTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZHNwLmJlZm9yZVNlYXJjaFBpYygkKCcubm8tZGF0YScpLCBub0RhdGFIZWlnaHQpXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS50b3RhbE51bSA9IEpTT04ucGFyc2UoZGF0YS5yZXN1bHQpWzBdLnRvdGxlO1xyXG4gICAgICAgICAgICAkc2NvcGUudG90YWxQYWdlTnVtID0gTWF0aC5jZWlsKCRzY29wZS50b3RhbE51bSAvICRzY29wZS5wYWdlU2l6ZSk7XHJcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdwYWdlLWRhdGEnLCB7XHJcbiAgICAgICAgICAgICAgcGFnZU51bTogJHNjb3BlLnBhZ2VOdW0sXHJcbiAgICAgICAgICAgICAgdG90YWxOdW06ICRzY29wZS50b3RhbFBhZ2VOdW0sXHJcbiAgICAgICAgICAgICAgdG90YWxDb3VudHM6ICRzY29wZS50b3RhbE51bSxcclxuICAgICAgICAgICAgICBwYWdlU2l6ZTogJHNjb3BlLnBhZ2VTaXplXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIGVyciA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGdldERhdGEoKVxyXG4gICAgICBcclxuICAgICAgJHNjb3BlLiRvbigncGFnZWRhdGEtZmEnLCBmdW5jdGlvbiAoZCwgZGF0YSkge1xyXG4gICAgICAgICRzY29wZS5wYWdlTnVtID0gZGF0YS5wYWdlTnVtO1xyXG4gICAgICAgICRzY29wZS5wYWdlU2l6ZSA9IGRhdGEucGFnZVNpemU7XHJcbiAgICAgICAgZ2V0RGF0YSgpXHJcbiAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgICAgLy9TdWJtaXQgVGlja2V0XHJcbiAgICAgICRzY29wZS5zdGF0dXMgPSAnJ1xyXG4gICAgICAkc2NvcGUudHlwZSA9ICcnXHJcbiAgICAgICRzY29wZS50aWNrZXROdW0gPSAnJ1xyXG4gICAgICAvLyAkc2NvcGUudHlwZVNob3cgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAvLyAgIGNvbnNvbGUubG9nKGl0ZW0pXHJcbiAgICAgIC8vICAgJHNjb3BlLnN0YXR1cyA9IGl0ZW0uU1RBVFVTXHJcbiAgICAgIC8vICAgJHNjb3BlLnR5cGUgPSBpdGVtLlRZUEVcclxuICAgICAgLy8gICAkc2NvcGUudGlja2V0TnVtID0gaXRlbS5TRVJJQUxcclxuICAgICAgLy8gICAkc2NvcGUuc3ViamVjdCA9IGl0ZW0uU1VCSkVDVFxyXG4gICAgICAvLyAgICRzY29wZS5pc0RldGFpbCA9IHRydWVcclxuICAgICAgLy8gICAkc2NvcGUucmVwbHlCdG5TaG93ID0gJHNjb3BlLm5vd1N0YXR1cyA9PSAnMicgfHwgJHNjb3BlLm5vd1N0YXR1cyA9PSAnMSc7XHJcbiAgICAgIC8vIH1cclxuICAgICAgXHJcbiAgICAgICRzY29wZS50eXBlU2hvdzEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvbXlDSi5odG1sIy9hZGRUaWNrZXQnXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIHN1Ym1pdCBmb3JtIOS4iuS8oOWbvueJh1xyXG4gICAgICAkc2NvcGUuaW1nQXJyID0gW107XHJcbiAgICAgICRzY29wZS5pbWdBcnJUeXBlID0gW107XHJcbiAgICAgICRzY29wZS51cExvYWRJbWc0ID0gZnVuY3Rpb24gKGZpbGVzKSB7XHJcbiAgICAgICAgZHNwLm9zc1VwbG9hZEZpbGUoZmlsZXMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLCBmaWxlcywgXCImJiYmJiYmJlwiKTtcclxuICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDApIHtcclxuICAgICAgICAgICAgbGF5ZXIubXNnKCdJbWFnZXMgVXBsb2FkIEZhaWxlZCcpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyKSB7XHJcbiAgICAgICAgICAgIGxheWVyLm1zZygnSW1hZ2VzIFVwbG9hZCBJbmNvbXBsZXRlJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAkKFwiI3dvcmtvcmRlci1maWxlXCIpLnZhbCgnJyk7XHJcbiAgICAgICAgICB2YXIgb2JqID0gZGF0YS5zdWNjc3NMaW5rcztcclxuICAgICAgICAgIGlmIChmaWxlc1swXS5zaXplIC8gKDEwMjQgKiAxMDI0KSA+IDUpIHtcclxuICAgICAgICAgICAgbGF5ZXIubXNnKCc1TSBhIGZpbGUgYXQgbW9zdCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgdmFyIHNyY0xpc3QgPSBvYmpbal0uc3BsaXQoJy4nKTtcclxuICAgICAgICAgICAgdmFyIHR5cGUgPSBzcmNMaXN0W3NyY0xpc3QubGVuZ3RoIC0gMV0udG9VcHBlckNhc2UoKVxyXG4gICAgICAgICAgICB2YXIgdHlwZUxpc3QgPSBbJ1BORycsICdKUEcnLCAnSlBFRycsICdHSUYnXVxyXG4gICAgICAgICAgICAvLyBpZihzcmNMaXN0W3NyY0xpc3QubGVuZ3RoIC0gMV0gPT0ncG5nJyB8fCBzcmNMaXN0W3NyY0xpc3QubGVuZ3RoIC0gMV0gPT0nanBnJyB8fCBzcmNMaXN0W3NyY0xpc3QubGVuZ3RoIC0gMV09PSdqcGVnJyB8fCBzcmNMaXN0W3NyY0xpc3QubGVuZ3RoIC0gMV09PSdnaWYnKXtcclxuICAgICAgICAgICAgaWYgKHR5cGVMaXN0LmluZGV4T2YodHlwZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgaWYoJHNjb3BlLmltZ0Fyci5sZW5ndGggPCAxMCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW1nQXJyLnB1c2gob2JqW2pdKTtcclxuICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsYXllci5tc2coXCJZb3UgY2FuIG9ubHkgdXBsb2FkIHVwIHRvIDEwIGltYWdlcy5cIik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICQoJyNmaWxlJykudmFsKFwiXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vICQoJy5nZGVyci1sb2Fkc3JjJykuc2hvdygpOyAvL+WIpOaWreWmguaenOS4jeaYr+WbvueJh+eahOW8ueahhiAg5pi+56S6XHJcbiAgICAgICAgICAgICAgLy8gJCgnLmhuai1mb3JtIC5obmotdGFua3VhbmcnKS5jc3MoeydkaXNwbGF5JzogJ2Jsb2NrJ30pO1xyXG4gICAgICAgICAgICAgIC8vICRzY29wZS5zdWJtaXRUaXBNZXNzYWdlID0gJ1BsZWFzZSB1cGxvYWQgdGhlIGNvcnJlY3QgZm9ybWF0Lic7XHJcbiAgICAgICAgICAgICAgLy8gJHNjb3BlLm9rRnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIC8vICAgJCgnLmhuai1mb3JtIC5obmotdGFua3VhbmcnKS5jc3MoeydkaXNwbGF5JzogJ25vbmUnfSk7XHJcbiAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgIGxheWVyLm1zZygnUGxlYXNlIHVwbG9hZCB0aGUgY29ycmVjdCBmb3JtYXQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCRzY29wZS5pbWdBcnIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgICQoJy5nZGVyci1idG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLmdkZXJyLWxvYWRzcmMnKS5oaWRlKCk7IC8v5Yik5pat5aaC5p6c5LiN5piv5Zu+54mH55qE5by55qGGICDpmpDol49cclxuICAgICAgfSlcclxuICAgICAgLy8g5YWz6Zet5bel5Y2V6K+m5oOF5by556qXXHJcbiAgICAgICRzY29wZS5jbG9zZVRpY2tldD0oKT0+e1xyXG4gICAgICAgICRzY29wZS5pc0RldGFpbCA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5pbWdBcnIgPSBbXTtcclxuICAgICAgICAkKFwiI2ttZXNzYWdlXCIpLnZhbChcIlwiKTtcclxuICAgICAgICAkc2NvcGUua3JlcGx5TWVzc2FnZT1cIlwiO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIOWbvueJh+mihOiniOWSjOWIoOmZpFxyXG4gICAgICAkc2NvcGUuZHByZXZpZXdJbWcgPSBmdW5jdGlvbiAoJGV2ZW50KSB7XHJcbiAgICAgICAgLy8gdmFyIGltZ1BUPSgkKCcuaW1nLXByZXZpZXctd3JhcCcpLmhlaWdodCgpLSQoJy5pbWctcHJldmlldy13cmFwIGltZycpLmhlaWdodCgpKS8yXHJcbiAgICAgICAgdmFyIHByZXZpZXdTcmMgPSAkKCRldmVudC50YXJnZXQpLmF0dHIoJ3NyYycpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHByZXZpZXdTcmMpO1xyXG4gICAgICAgICQoJy5pbWctcHJldmlldy13cmFwJykuY3NzKHsnZGlzcGxheSc6ICdibG9jayd9KTtcclxuICAgICAgICAvLyAkKCcuaW1nLXByZXZpZXctd3JhcCBpbWcnKS5jc3MoeyAnbWFyZ2luVG9wJzogJzEwJScgfSk7XHJcbiAgICAgICAgJHNjb3BlLnByZXZpZXdTcmMgPSBwcmV2aWV3U3JjO1xyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS5wcmV2aWV3V3JhcEZ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICQoJy5pbWctcHJldmlldy13cmFwJykuY3NzKHsnZGlzcGxheSc6ICdub25lJ30pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgJHNjb3BlLmRlbGV0ZUltZyA9IGZ1bmN0aW9uIChpZHgpIHtcclxuICAgICAgICAkc2NvcGUuaW1nQXJyLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCRzY29wZS5pbWdBcnIpXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIOS4i+i9veWbvueJh1xyXG4gICAgICAkc2NvcGUuZG93bmxvYWRJbWdzID0gZnVuY3Rpb24gKGltZykge1xyXG4gICAgICAgIHdpbmRvdy5vcGVuKGltZylcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8g6K+E5Lu3XHJcbiAgICAgICRzY29wZS5lbHZhbHVhdGVNZXMgPSAnJ1xyXG4gICAgICAkc2NvcGUuZXZhbHVhdGVTdGF0dXMgPSAnJ1xyXG4gICAgICAkc2NvcGUuZXZhbHVhdGVJZCA9ICcnXHJcbiAgICAgICRzY29wZS5saW5lU3RhdHVzID0gZmFsc2VcclxuICAgICAgJHNjb3BlLmV2YWx1YXRlVGFiID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIG5hbWU6ICdHb29kJyxcclxuICAgICAgICAgIHVybDogJy4vc3RhdGljL2ltYWdlL3RpY2tldC1saXN0L0dvb2QucG5nJyxcclxuICAgICAgICAgIGFjdFVybDogJ3N0YXRpYy9pbWFnZS90aWNrZXQtbGlzdC9Hb29kQWN0aXZlLnBuZycsXHJcbiAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgc3RhdHVzOiAn6Z2e5bi45aW9JyxcclxuICAgICAgICAgIGljb246IFwiaWNvbmZvbnQgc3RhdHVzLWljb24gaWNvbm1hbnlpXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG5hbWU6ICdBdmVyYWdlJyxcclxuICAgICAgICAgIHVybDogJy4vc3RhdGljL2ltYWdlL3RpY2tldC1saXN0L0F2ZXJhZ2UucG5nJyxcclxuICAgICAgICAgIGFjdFVybDogJ3N0YXRpYy9pbWFnZS90aWNrZXQtbGlzdC9BdmVyYWdlQWN0aXZlLnBuZycsXHJcbiAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgc3RhdHVzOiAn5LiA6IisJyxcclxuICAgICAgICAgIGljb246IFwiaWNvbmZvbnQgc3RhdHVzLWljb24gaWNvbnlpYmFuXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG5hbWU6ICdQb29yJyxcclxuICAgICAgICAgIHVybDogJy4vc3RhdGljL2ltYWdlL3RpY2tldC1saXN0L1Bvb3IucG5nJyxcclxuICAgICAgICAgIGFjdFVybDogJ3N0YXRpYy9pbWFnZS90aWNrZXQtbGlzdC9Qb29yQWN0aXZlLnBuZycsXHJcbiAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgc3RhdHVzOiAn5LiN5aW9JyxcclxuICAgICAgICAgIGljb246IFwiaWNvbmZvbnQgc3RhdHVzLWljb24gaWNvbmNoYXBpbmdcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgIF1cclxuICAgICAgJHNjb3BlLkV2YWx1YXRlID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhpdGVtKVxyXG4gICAgICAgICRzY29wZS5ldmFsdWF0ZUlkID0gaXRlbS5JRFxyXG4gICAgICAgIGRzcC5nZXRGdW4oJ3Bvam8vaXNzdWUvZ2V0SXNzdWVNZXNzYWdlQ2o/aWQ9JyArICRzY29wZS5ldmFsdWF0ZUlkLCBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICB2YXIgZGV0YWlsRGF0YSA9IEpTT04ucGFyc2UocmVzLmRhdGEucmVzdWx0KTtcclxuICAgICAgICAgICRzY29wZS5kZXRhaWxEYXRhID0gZGV0YWlsRGF0YTtcclxuICAgICAgICAgICRzY29wZS5pbWdOYW1lID0gJHNjb3BlLmRldGFpbERhdGFbMF0uT1BFUkFUT1JFTi5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgJHNjb3BlLnRkZXRhaWxEYXRlID0gZGV0YWlsRGF0YVswXS5NRVNTQUdFREFURS50aW1lO1xyXG4gICAgICAgICAgJHNjb3BlLmNqU3RhdHVzID0gW11cclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmRldGFpbERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNqU3RhdHVzLnB1c2goJHNjb3BlLmRldGFpbERhdGFbaV0uU1RBVFVTKVxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmRldGFpbERhdGFbaV0uU1RBVFVTID09ICcxJykge1xyXG4gICAgICAgICAgICAgICRzY29wZS55d3lOYW1lID0gJHNjb3BlLmRldGFpbERhdGFbaV0uT1BFUkFUT1JFTiA/ICRzY29wZS5kZXRhaWxEYXRhW2ldLk9QRVJBVE9SRU4uc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSA6IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCRzY29wZS5kZXRhaWxEYXRhW2ldLkFUVEFDSE1FTlQpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuZGV0YWlsRGF0YVtpXS5BVFRBQ0hNRU5UID0gJHNjb3BlLmRldGFpbERhdGFbaV0uQVRUQUNITUVOVC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuY2pTdGF0dXMpXHJcbiAgICAgICAgICBpZiAoISRzY29wZS5jalN0YXR1cy5pbmNsdWRlcygnMScpKSB7XHJcbiAgICAgICAgICAgIGxheWVyLm1zZyhcIlNvcnJ5LCB5b3UgY2FuJ3QgcmV2aWV3IGEgdGlja2V0IHdpdGhvdXQgQ0oncyByZXNwb25zZS5cIilcclxuICAgICAgICAgICAgLy8gJHNjb3BlLmlzRXZhbHVhdGUgPSB0cnVlXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuaXNFdmFsdWF0ZSA9IHRydWVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUuY2hvc2VFdmFsdWF0ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAkc2NvcGUuZXZhbHVhdGVUYWIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICRzY29wZS5ldmFsdWF0ZVRhYltpXS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaXRlbS5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgJHNjb3BlLmV2YWx1YXRlU3RhdHVzID0gaXRlbS5zdGF0dXNcclxuICAgICAgICAkc2NvcGUubGluZVN0YXR1cyA9IHRydWVcclxuICAgICAgfVxyXG4gICAgICAvL1xyXG4gICAgICAkc2NvcGUuY29uZmlybUV2YWx1YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkc2NvcGUuZXZhbHVhdGVTdGF0dXMpIHtcclxuICAgICAgICAgIGRzcC5wb3N0RnVuKCdwb2pvL2lzc3VlL2FkZElzc3VlRXZhbHVhdGUnLCB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogJHNjb3BlLmV2YWx1YXRlSWQsXHJcbiAgICAgICAgICAgIFwiZXN0aW1hdGVcIjogJHNjb3BlLmV2YWx1YXRlU3RhdHVzLFxyXG4gICAgICAgICAgICBcImVzdGltYXRlRXhwbGFpblwiOiAkc2NvcGUuZWx2YWx1YXRlTWVzXHJcbiAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcylcclxuICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1c0NvZGUgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgbGF5ZXIubXNnKCdTdWJtaXQgU3VjY2Vzc2Z1bGx5JylcclxuICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsRXZhbHVhdGUoKVxyXG4gICAgICAgICAgICAgIGdldERhdGEoKVxyXG4gICAgICAgICAgICAgIC8vJHNjb3BlLnRpY2tldCgpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuc3RhdHVzQ29kZSA9PSA1MDAxKSB7XHJcbiAgICAgICAgICAgICAgbGF5ZXIubXNnKCdUaGUgdGlja2V0IGNhbm5vdCBiZSByZXZpZXdlZCBmb3IgbW9yZSB0aGFuIDcgZGF5cy4nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8g6K+E5Lu36L+U5ZueXHJcbiAgICAgICRzY29wZS5jYW5jZWxFdmFsdWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkc2NvcGUuaXNFdmFsdWF0ZSA9IGZhbHNlXHJcbiAgICAgICAgJHNjb3BlLmVsdmFsdWF0ZU1lcyA9ICcnXHJcbiAgICAgICAgJHNjb3BlLmV2YWx1YXRlU3RhdHVzID0gJydcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8ICRzY29wZS5ldmFsdWF0ZVRhYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgJHNjb3BlLmV2YWx1YXRlVGFiW2ldLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUubGluZVN0YXR1cyA9IGZhbHNlXHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLmp1ZGdlVGltZSA9IGZ1bmN0aW9uICh0aW1lLCB0aW1lMikge1xyXG4gICAgICAgIHZhciBzdHJUaW1lID0gdGltZS5yZXBsYWNlKFwiLy0vZ1wiLCBcIi9cIik7Ly/ml7bpl7TovazmjaJcclxuICAgICAgICB2YXIgc3RyVGltZTIgPSB0aW1lMi5yZXBsYWNlKFwiLy0vZ1wiLCBcIi9cIik7Ly/ml7bpl7TovazmjaJcclxuICAgICAgICB2YXIgZGF0ZTEgPSBuZXcgRGF0ZShzdHJUaW1lKTtcclxuICAgICAgICB2YXIgZGF0ZTIgPSBuZXcgRGF0ZShzdHJUaW1lMik7XHJcbiAgICAgICAgaWYgKGRhdGUyIC0gZGF0ZTEgPiA3KSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmV0dXJuIGRhdGUxPGRhdGUyP3RydWU6ZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIFxyXG4gICAgfV0pO1xyXG4gIFxyXG4gIHJldHVybiBhcHA7XHJcbiAgXHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBM0JBO0FBNkJBO0FBQ0E7QUFDQTtBQTlCQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBeUJBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../src/pages/mycj/ticket/ticket-list.js\n");

/***/ })

}]);