<style>
  .isdel-wrap .con{
    width: 360px;
    height: 150px;
    padding: 18px;
    background-color: #fff;
    border-radius: 4px;
    text-align: center;
  }
  .con p:first-child{
    text-align: right;
    line-height: 1;
    margin-bottom: 10px;
  }
  .con p:first-child img{
    width:14px;
    cursor: pointer;
  }
  .isdel-wrap .btns{
    margin-top: 28px;
    font-size: 0;
  }
  .isdel-wrap .btns .ui-btn,.isdel-wrap .isdel-cabtn{
    width:80px;
    font-size: 14px;
  }
  .isdel-wrap .isdel-cabtn{
    margin:0 15px 0 0;
  }
</style>
<div class="content import-cancel">
  <div class="mycj-home-box directorders-wrap">
    <!-- 右边部分 -->
    <div class="direct-right p-3">
      <!-- 导航 -->
      <ul class="top-taps">
        <li class="tab-theme import" ng-repeat="item in navList track by $index" ng-class="{active:item.show}">
          <a href="{{item.href}}">{{item.name}}
            <span class="notranslate" ng-if="$index==0">{{'('+impprocessNum+')'}}</span>
            <span class="notranslate" ng-if="$index==1">{{'('+cartNum+')'}}</span>
            <span class="notranslate" ng-if="$index==2">{{'('+incompleteNum+')'}}</span>
            <span class="notranslate" ng-if="$index==3">{{'('+cancelNum+')'}}</span>
          </a>
        </li>
      </ul>
      <div class="order-status">
        <div class="status-nav">
          <div class="order-filter" id="order-2">
            <div class="search-order">
              <input id="cj-stime" class="Wdate data-inp" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',readOnly:true})"
                placeholder="From"></input>
              <span class="line">-</span>
              <input id="cj-etime" class="Wdate data-inp" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',readOnly:true})"
                placeholder="Now"></input>

              <input class="ord-search-inp" placeholder="Enter Order Number"></input><span ng-click="ordnumSearch()"
                class="search-btn btn-theme" href="javascript:void(0)" cjdot cjdotshow='{"eventType": 2}'>Search</span>
              <a class="toggle-moresearch" id="ditect-searchmore" href="javascript:void(0)">
                <i id="toggle-logo1" class="iconfont glyphicon-triangle-bottom"></i>
                <span class="filter-span">Filter</span>
              </a>
              <!-- filter后面的功能按钮 -->
              <span ng-click="addToProcessFun()" class="ui-btn btn-theme">Reprocess</span>
              <span ng-click="showExport()" class="ui-btn btn-theme">Export orders</span>
              <a class="ui-btn btn-theme1">
                <span>Delete</span>
                <ul class="btn-detail-list">
                  <li ng-click="addToDeleteFun()">Delete Selected</li>
                  <li ng-click="inpDeleAllFun()">Delete All</li>
                </ul>
              </a>
            </div>
            <!-- 高级搜索部分 -->
            <div class="more-search" id="ditect-moresearch">
              <ul>
                <li class="first-line">
                  <div class="maybe-top">
                    <span>Your Ordered Date</span>
                    <input class="Wdate data-inp" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd'})" id="y-ord-sdate"
                      placeholder="from"></input>
                    <span class="line">-</span>
                    <input class="Wdate data-inp" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd'})" id="y-ord-edate"
                      placeholder="to"></input>
                  </div>
                  <div class="maybe-bottom">
                    <span>Your Product Title</span>
                    <input id="y-pro-name"></input>

                    <span>{{websiteName}} Product Title</span>
                    <input id="cj-pro-name"></input>

                    <span class="buyer-name">Buyer Name</span>
                    <input class="buyer-inp"></input>

                    <button id="tj-search-btn" class="btn-theme">Search</button>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <!-- 订单处理部分 取消的订单 第三个导航对应的内容-->
      <div class="deal-orders direct-deal-order">

        <div class="orders-list">
          <table class="orders-table" id="cj-cancel-table">
            <thead>
              <tr>
                <th class="data-th fir-th" style="width: 136px;">
                  <img class="zchecked-all" src="static/image/direct-orders/multiple1.png">
                  <span>{{websiteName}} Order Number</span>
                  <img class="showsp-img" src="static/image/public-img/up.png">
                </th>
                <th style="width: 108px;">
                  <p>Your Store Time</p>
                  <p>System Time</p>
                </th>
                <th style="width: 128px;">
                  <select id="dcl-sel-store" ng-change="storeChangeFun()" ng-model="storeName">
                    <option value="">Stores All</option>
                    <option ng-repeat="item in shops" value="{{item.id}}">{{item.rNAME}}</option>
                  </select>
                </th>
                <th style="width: 116px;">
                  Order Number
                </th>
                <th style="width: 98px;">Store Amount</th>
                <th style="width: 60px;">Quantity</th>
                <th style="width: 90px;">Message</th>
                <th style="width: 100px;">Shipping Info</th>
              </tr>
            </thead>
            <tbody class="dcl-ord-tbody" ng-repeat="listName in ordersList" repeat-finish>
              <tr style="background-color: #ececec;" class="blank-tr">
                <td colspan="16"></td>
              </tr>
              <tr class="order-detail">
                <td id="cj-ord-num" class="order-time">
                  <img class="product-checked zcheckbox" src="static/image/direct-orders/multiple1.png">
                  <p class="dclord-sys-time">{{listName.order.ID}}</p>
                </td>
                <td class="paid-time cshow-allsp" ng-cloak>
                  <p>{{listName.order.shopifyDate}}</p>
                  <p>{{listName.order.date}}</p>
                </td>
                <td class="ord-cai">
                  <p class="store-name-p" ng-cloak>{{listName.order.STORE_NAME}}</p>
                  <p style="display: none;" class="order-id" ng-cloak>{{listName.order.ID}}</p>
                </td>
                <td class="order-num-td cshow-allsp" ng-cloak>
                  {{listName.order.ORDER_NUMBER}}
                  <p ng-if="listName.order.ORDERSOURCE_TYPE==2">Shopify Imported</p>
                </td>
                <td class="z-stord-wm cshow-allsp">
                  <p ng-if="listName.order.SHOPIFYAMOUNT" class="st-price-num" ng-cloak>
                    {{listName.order.SHOPIFYAMOUNT}}USD</p>
                  <p ng-if="listName.order.SHOPIFYAMOUNT==null" class="st-price-num" ng-cloak>-USD</p>
                </td>
                <td class="cshow-allsp" ng-cloak>{{listName.order.ORDER_QUANTITY}}</td>
                <td class="can-note-td">
                  <p title="{{listName.order.NOTE_ATTRIBUTES}}">{{listName.order.NOTE_ATTRIBUTES}}</p>
                </td>
                <td class="shipping-info cshow-allsp">
                  <p class="buyer-name" title="{{listName.order.CUSTOMER_NAME}}" ng-cloak>
                    {{listName.order.CUSTOMER_NAME}}</p>
                  <p class="detail-adress" title="{{listName.order.SHIPPING_ADDRESS}}" ng-cloak>
                    {{listName.order.SHIPPING_ADDRESS}}</p>
                  <p title="{{listName.order.shippingAddress2}}" ng-cloak>{{listName.order.shippingAddress2}}</p>
                  <p class="buyer-adress"
                    title="{{listName.order.CITY}} {{listName.order.PROVINCE}} {{listName.order.ZIP}} {{listName.order.COUNTRY_CODE}}">
                    <span ng-cloak>{{listName.order.CITY}}</span>
                    <span ng-cloak>{{listName.order.PROVINCE}}</span>
                    <span class="post-code" ng-cloak>{{listName.order.ZIP}}</span>
                    <span ng-cloak>{{listName.order.COUNTRY_CODE}}</span>

                  </p>

                  <p class="phone-num" ng-cloak>{{listName.order.PHONE}}</p>
                  <p ng-if="listName.order.taxidExtend" title="{{listName.order.taxidExtend}}" class="taixd-text"
                    ng-cloak>Tax ID: {{listName.order.taxidExtend}}</p>
                </td>
              </tr>
              <tr class="d-toggle-tr">
                <td class="d-tog-td" colspan="16">
                  <div class="d-toggle-div">
                    <table class="d-toggle-tab" ng-repeat="pList in listName.product">
                      <tr id="fir-tr">
                        <td rowspan="2" class="dt-img-td">
                          <span class="blank-span"
                            ng-if="listName.order.STORE_NAME !='Excel Imported'&&listName.order.STORE_NAME !='Shipstation'&&!pList.SKU.includes('BZSP')">
                            <img class="sp-smallimg sp-smallimg1" ng-if="pList.cjImage || pList.image"
                              ng-src="{{pList.cjImage || pList.image}}"
                              err-src="static/image/public-img/default.jpg">
                            <img title="Image Doesn't Exsit" class="sp-smallimg1" ng-if="!pList.cjImage && !pList.image"
                              src="static/image/public-img/default.jpg">
                            <img class="hide-bigimg" ng-if="pList.cjImage || pList.image"
                              ng-src="{{pList.cjImage || pList.image}}">
                            <img class="hide-bigimg" ng-if="!pList.cjImage && !pList.image"
                              src="static/image/public-img/default.jpg">
                          </span>
                          <span class="blank-span"
                            ng-if="listName.order.STORE_NAME =='Excel Imported'||listName.order.STORE_NAME =='Shipstation'||pList.SKU.includes('BZSP')">
                            <img class="sp-smallimg sp-smallimg1" ng-if="pList.cjImage" ng-src="{{pList.cjImage}}"
                              err-src="static/image/public-img/default.jpg">
                            <img title="Image Doesn't Exsit" class="sp-smallimg" ng-if="!pList.cjImage"
                              src="static/image/public-img/default.jpg">
                            <img class="hide-bigimg" ng-src="{{pList.cjImage}}">
                            <img class="hide-bigimg" ng-if="!pList.cjImage" src="static/image/public-img/default.jpg">
                          </span>
                        </td>
                        <td id="madetd" rowspan="2">
                          <div ng-cloak>SKU: {{pList.SKU}}</div>
                        </td>
                        <td rowspan="2">
                          <div ng-cloak>
                            Ship From:<br>
                            <span>{{listName.order.orderArea}}</span>
                          </div>
                        </td>
                        <td class="product-name">
                          <p>
                            {{websiteName}} Product Title:
                            <span ng-click="cjdetailhref(listName.order,pList)">{{pList.cj_product_name}}</span>
                          </p>
                        </td>
                        <td ng-cloak>Store Price: {{pList.SHOPIFYPRICE}}USD</td>
                        <td ng-cloak>Store Quantity: {{pList.QUANTITY}}</td>
                        <td ng-cloak>Store Amount: {{pList.SHOPIFYPRICE*pList.QUANTITY | number:2}}USD</td>
                        <td class="p-weight" ng-cloak>Weight: {{pList.GRAMS*pList.QUANTITY | number:2}}g</td>
                        <td style="display: none;" class="dcl-ordwlfs" ng-cloak>{{pList.LOGISTICS_TYPE}}</td>
                      </tr>
                      <tr>
                        <td class="product-name">
                          <p>
                            Your Product Title:
                            <p>{{pList.SHIPPING_NAME}}</p>
                          </p>
                        </td>
                        <td ng-cloak>{{websiteName}} Price: {{pList.PRICE}}USD</td>
                        <td ng-cloak>{{websiteName}} Quantity: {{pList.QUANTITY}}</td>
                        <td ng-cloak>{{websiteName}} Subtotal: {{pList.PRICE*pList.QUANTITY | number:2}}USD</td>
                        <td class="p-weight" ng-cloak>Weight: {{pList.GRAMS*pList.QUANTITY | number:2}}g</td>
                      </tr>
                    </table>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <div ng-hide="dataFound" class="not-found-data">
            <img src="static/image/public-img/nodata.png">
          </div>
          <!-- 分页 -->
          <page ng-show="ordersList.length > 0"></page>
          <!-- <div class="zdcl-pages-db second-page-fun" ng-show="ordersList.length>0">
            <select id="dcl-sel" class="select-page-num ip-select-num2">
              <option value="30">30</option>
              <option value="50">50</option>
              <option value="100">100</option>
            </select>
            <span class="per-page">per page</span>
            <span class="all-num-line" ng-cloak>{{pcountN}}</span>
            <span class="per-page">records found</span>
            <ul class="pagination pagination-demo1"></ul>
            <span class="per-page showing-tex">showing:</span>
            <input class="inp-num-go inp-num-go2"></input>
            <span class="per-page">of</span>
            <span class="jump-btn ip-jump-btn2">go</span>
          </div> -->
        </div>
      </div>

    </div>
  </div>
</div>
<!-- 检查没有订单原因的弹框 -->
<div class="editmesstc-wrap" ng-show="noOrdResonFlag">
  <div class="editmess-con">
    <div class="editmess-top">
      <label>Please enter the order number in your store.</label>
      <input class="shop-ordnum-inp" ng-model="shopOrdNum"></input>
    </div>
    <div class="editmess-btns">
      <button ng-click="noOrdQxFun()" class="edit-cancel-btn">Cancel</button>
      <button ng-click="noOrdSureFun()" class="edit-confirm-btn">Confirm</button>
    </div>
  </div>
</div>
<!-- 检查没有订单展示后台返回原因的弹框 -->
<div class="editmesstc-wrap" ng-show="resResonFlag">
  <div class="editmess-con check-ordcon">
    <div class="editmess-top">
      <p class="no-ordres-reson"></p>
    </div>
    <div class="editmess-btns">
      <button ng-click="closeResReasonFun()" class="edit-cancel-btn">Cancel</button>
    </div>
  </div>
</div>
<!-- 是否确定删除所有订单的弹框 -->
<div class="editmesstc-wrap" ng-show="deleteAllFlag">
  <div class="editmess-con delete-con">
    <p>Are you sure delete all?</p>
    <div class="editmess-btns">
      <button ng-click="deleteAllFlag=false" class="edit-cancel-btn">Cancel</button>
      <button ng-click="sureDelAllFun()" class="edit-confirm-btn">Confirm</button>
    </div>
  </div>
</div>
<!-- 是否导出订单 -->
<div class="isdel-wrap" ng-show="dcordFlag">
  <div class="con">
    <p><img src="static/image/login/close.png"  ng-click="dcordFlag=false" alt=""></p>
    <p>Are you sure to export the selected orders?</p>
    <div class="btns">
      <button ng-click="dcordFlag=false" class="isdel-cabtn">Cancel</button>
      <button ng-click="goActexportOrder()" class="ui-btn btn-theme">Confirm</button>
    </div>
  </div>
</div>
<!-- closeOrderModal 老订单页面提示去新订单页面弹窗 -->
<close-order-modal></close-order-modal>