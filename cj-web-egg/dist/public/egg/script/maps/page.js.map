{"version":3,"file":"../page.js","sources":["../public/egg/script/page/index.js"],"sourcesContent":["/**\r\n * 分页组件 js\r\n */\r\n\r\n/**\r\n * 获取路由\r\n */\r\nfunction getRoute() {\r\n  const currentPath = location.pathname\r\n  const pathArr = currentPath.split('/')\r\n  const len = pathArr.length\r\n  let route = ''\r\n  for (let i = 0; i < len; i++) {\r\n    const item = pathArr[i]\r\n    if (isNaN(item)) {\r\n      route += '/' + item\r\n    }\r\n  }\r\n\r\n  const pageNum = pathArr[len - 2] || 1\r\n  let pageSize = pathArr[len - 1] || 10\r\n  let showSize = true;\r\n  if(location.pathname.indexOf('/productReport/list') !== -1) {\r\n    pageSize = 8;\r\n    showSize = false;\r\n  }\r\n  return {\r\n    route,\r\n    pageNum: isNaN(+pageNum) ? 1 : pageNum,\r\n    pageSize: isNaN(+pageSize) ? 10 : pageSize,\r\n    showSize: showSize\r\n  }\r\n}\r\n\r\nconst { route, pageNum, pageSize, showSize } = getRoute()\r\n\r\nnew Vue({\r\n  el: '#vue-page',\r\n  data: {\r\n    skipPage: pageNum + '',\r\n    skipPageSize: pageSize + '',\r\n    showPageSize: showSize\r\n  },\r\n  methods: {\r\n    handleInputPage: function() {\r\n      const goBtn = document.getElementById('goBtn');\r\n      if(Number(this.skipPage) > Number(egg_totalPageNumber)) {\r\n        goBtn.style.cursor = 'no-drop';\r\n        goBtn.style.pointerEvents = 'none';\r\n        goBtn.style.color = '#e5e1da';\r\n      } else {\r\n        goBtn.style.cursor = 'pointer';\r\n        goBtn.style.pointerEvents = 'initial';\r\n        goBtn.style.color = '#f99429';\r\n      }\r\n    },\r\n    // 跳页\r\n    changeFun: function () {\r\n      const page = this.skipPage\r\n      if (!page) return\r\n      location.href = `${route}/${page}/${pageSize}${location.search || ''}`\r\n    },\r\n    // 分页size调整\r\n    changePageSize: function changePageSize() {\r\n      const size = this.skipPageSize\r\n      location.href = `${route}/1/${size}${location.search || ''}`\r\n    }\r\n  }\r\n})\r\n"],"names":["getRoute","currentPath","location","pathname","pathArr","split","len","length","route","i","item","isNaN","pageNum","pageSize","showSize","indexOf","Vue","el","data","skipPage","skipPageSize","showPageSize","methods","handleInputPage","goBtn","document","getElementById","Number","egg_totalPageNumber","style","cursor","pointerEvents","color","changeFun","page","href","search","changePageSize","size"],"mappings":"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"}