{"version":3,"file":"../search-filter.js","sources":["../public/egg/script/search-filter/index.js"],"sourcesContent":["new Vue({\r\n  el: '#vue-search-filter',\r\n  data: {\r\n    isMore: false, // more按钮开关状态\r\n    isShowMore: false, // 是否显示more按钮\r\n    minNum: CJ_.getQueryVariable('startSellPrice') || '',\r\n    maxNum: CJ_.getQueryVariable('endSellPrice') || '',\r\n    checkedShipping: CJ_.getQueryVariable('addMarkStatus') === '1' ? true : false,\r\n    queryObj: CJ_.paramsToObject(location.search) || {},\r\n  },\r\n  created() {\r\n    this.$nextTick(function () {\r\n      if (document.querySelector('.keyword-box')?.clientHeight > 60) {\r\n        this.isShowMore = true;\r\n      }\r\n    })\r\n    if(this.queryObj.id) {\r\n      this.isMore = true\r\n    }\r\n  },\r\n  methods: {\r\n    showMore() {\r\n      this.isMore = !this.isMore;\r\n    },\r\n    // 价格范围\r\n    onInputMin(e) {\r\n      this.minNum = e.target.value === '0' ? '0' : e.target.value.replace(/[^\\d^\\.]+/g,'').replace('.','$#$').replace(/\\./g,'').replace('$#$','.').replace(/^[0]*/,'').replace(/^\\./,'0.').match(/^0\\.([1-9]|\\d[1-9])$|^[0-9]\\d{0,8}\\.\\d{0,2}|^[1-9]\\d{0,7}/g)?.[0];\r\n    },\r\n    onInputMax(e) {\r\n      this.maxNum = e.target.value === '0' ? '0' : e.target.value.replace(/[^\\d^\\.]+/g,'').replace('.','$#$').replace(/\\./g,'').replace('$#$','.').replace(/^[0]*/,'').replace(/^\\./,'0.').match(/^0\\.([1-9]|\\d[1-9])$|^[0-9]\\d{0,8}\\.\\d{0,2}|^[1-9]\\d{0,7}/g)?.[0];\r\n    },\r\n    clickPriceConfirm() {\r\n      if(parseFloat(this.minNum) > parseFloat(this.maxNum)) {\r\n        layer.msg('Please enter the correct price format')\r\n        return\r\n      }\r\n      const abnormal = [null,undefined]\r\n      if (abnormal.includes(this.minNum)) {\r\n        this.minNum = ''\r\n      }\r\n      if (abnormal.includes(this.maxNum)) {\r\n        this.maxNum = ''\r\n      }\r\n      location.href = `${location.pathname}?${CJ_.objectToParams({\r\n        ...CJ_.paramsToObject(location.search),\r\n        pageNum: 1,\r\n        startSellPrice: this.minNum && parseFloat(this.minNum),\r\n        endSellPrice: this.maxNum && parseFloat(this.maxNum),\r\n      })}`\r\n    },\r\n    // 包邮过滤\r\n    onCheckboxShip() {\r\n      // addMarkStatus 0-不包邮 1-包邮\r\n      location.href = `${location.pathname}?${CJ_.objectToParams({\r\n        ...CJ_.paramsToObject(location.search),\r\n        pageNum: 1,\r\n        addMarkStatus: this.checkedShipping ? 1 : '',\r\n      })}`\r\n    },\r\n  },\r\n})"],"names":["Vue","el","data","isMore","isShowMore","minNum","CJ_","getQueryVariable","maxNum","checkedShipping","queryObj","paramsToObject","location","search","created","$nextTick","document","querySelector","clientHeight","id","methods","showMore","onInputMin","e","target","value","replace","match","onInputMax","clickPriceConfirm","parseFloat","layer","msg","abnormal","undefined","includes","href","pathname","objectToParams","pageNum","startSellPrice","endSellPrice","onCheckboxShip","addMarkStatus"],"mappings":"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"}