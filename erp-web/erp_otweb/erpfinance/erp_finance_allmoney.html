<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>总销售额-财务收入管理-ERP系统</title>
    <link rel="stylesheet" type="text/css" href="erp_otweb/css/erp-public_style.css"/>
</head>
<style>
    .ea-right-search {
        margin: 0 10px;
        padding-top: initial;
        position: relative;
        overflow: hidden;
        padding-left: 30px;
    }
    .ea-right-search span{
        margin-right: 0;
    }
    .datatime-screen{
        margin-top: initial;
    }
    .search-box{
        line-height: 30px;
        width: initial;
    }
    .saleBox {
        position: relative;
        font-size: 18px;
        font-weight: bold;
    }
    .tips-icon {
        width: 14px;
        height: 14px;
    }
    .saleTips {
        position: absolute;
        top: 20px;
        left: -20px;
        width: 220px;
        height: 20px;
        text-align: center;
        font-size: 12px;
        font-weight: normal;
        background-color: #fff;
        border: 1px solid #333;
        z-index: 999;
    }
    .saleAmountTips {
        position: absolute;
        top: 20px;
        left: 140px;
        width: 180px;
        height: 20px;
        text-align: center;
        font-size: 12px;
        font-weight: normal;
        background-color: #fff;
        border: 1px solid #333;
        z-index: 999;
    }
    .data-inp-box button{
        line-height: 24px;
        
    }
    .data-inp-box .wui-btn-primary{
        background: #409eff;
    }
    .data-inp-box .wui-btn-white {
        color: #606266;
        background: #fff;
    }
    .sorter {
      color: rgb(191, 191, 191);
      font-size: 12px;
      width: 12px;
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      line-height: 0;
      vertical-align: inherit;
      margin-top: -4px;
    }
    .sorter .sorter-up {
        box-sizing: border-box;
        display: inline-block;
        width: 12px;
        height: 12px;
      }
    .sorter .sorter-down {
        box-sizing: border-box;
        display: inline-block;
        width: 12px;
        height: 12px;
        margin-top: -4px;
    }
    .active svg {
        fill: #1890ff;
    }
    .timeActive {
        color: #1890ff;
    }
</style>
<body>
<!-- content -->
<div class="ea-content">
    <!-- <div class="ea-content-box"> -->
    <!-- <div class="ea-content-con"> -->
    <!-- left nav -->
    <div class="left-bar">
        <ul>
            <li class="active"><a href="#/allmony">{{'100286' | translate}}</a></li>
            <li><a href="#/erpfinance/walletcuslistdel">{{'100287' | translate}}</a></li>
            <li><a href="#/erpfinance/accountquery">{{'100288' | translate}}</a></li>
        </ul>
    </div>
    <!-- <div class="ea-left-nav">
        <ul>
            <li class="active"><a href="#/allmony">收入管理</a></li>
            <li><a href="#/erpfinance/walletcuslistdel">客户钱包管理</a></li>
            <li><a href="#/erpfinance/accountquery">对账查询</a></li>
        </ul>
    </div> -->
    <!-- right con -->
    <div class="right-bar-wrap ea-right-content">
        <div class="asj-h10"></div>
        <!-- right nav -->
        <!--<div class="top-taps clearfix">-->
        <!--<ul>-->
        <!--<li class="active"><a style="margin-right: 10px" href="#/allmony">{{'100289' | translate}}</a><em ng-cloak>{{'$'+money}}</em></li>-->
        <!--<li><a href="#/erpfinance/incomeshould">{{'100290' | translate}}</a></li>-->
        <!--<li><a href="#/erpfinance/receivables">{{'100291' | translate}}</a></li>-->
        <!--<li><a href="#/erpfinance/canceled">{{'100292' | translate}}</a></li>-->
        <!--<li><a href="#/erpfinance/refund">{{'100293' | translate}}</a></li>-->
        <!--<li><a href="#/erpfinance/incomeVIP">{{'100294' | translate}}</a></li>-->
        <!--<li><a href="#/erpfinance/remit">{{'100295' | translate}}</a></li>-->
        <!--</ul>-->
        <!--</div>-->
        <!-- <div class="ea-right-nav small">
            <ul>
                <li class="active"><a href="#/allmony">总销售额</a><em ng-cloak>{{'$'+money}}</em></li>
                <li><a href="#/erpfinance/incomeshould">待收款项</a></li>
                <li><a href="#/erpfinance/receivables">已收款项</a></li>
                <li><a href="#/erpfinance/canceled">已取消订单金额</a></li>
                <li><a href="#/erpfinance/refund">退款金额</a></li>
                <li><a href="#/erpfinance/incomeVIP">VIP通道额度管理</a></li>
                <li><a href="#/erpfinance/remit">汇款管理</a></li>
            </ul>
        </div> -->
        <div class="right-bar">
            <!-- right search -->
            <div class="ea-right-search" style="overflow: initial;">
                <div class="saleBox">
                    <div ng-show="saleTips" class="saleTips">指当前页面业务员订单的销售额之和</div>
                    <svg t="1616378127474" class="tips-icon" ng-mouseover="saleTips = true" ng-mouseout="saleTips = false" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2158" width="200" height="200"><path d="M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512-230.4-512-512-512z m38.4 812.8c-12.8 12.8-25.6 19.2-44.8 19.2-19.2 0-32-6.4-44.8-19.2-12.8-12.8-19.2-25.6-19.2-44.8 0-19.2 6.4-32 19.2-44.8 12.8-12.8 25.6-19.2 44.8-19.2 19.2 0 32 6.4 44.8 19.2 12.8 12.8 19.2 25.6 19.2 44.8 0 19.2-6.4 32-19.2 44.8z m121.6-339.2c-6.4 12.8-32 32-70.4 70.4-12.8 12.8-25.6 25.6-32 44.8-6.4 19.2-12.8 38.4-12.8 57.6v12.8H460.8v-12.8c0-32 6.4-64 19.2-83.2 6.4-32 38.4-64 96-115.2l12.8-12.8c12.8-19.2 25.6-38.4 25.6-64s-6.4-51.2-25.6-70.4c-19.2-12.8-44.8-25.6-70.4-25.6-38.4 0-64 12.8-76.8 38.4-19.2 19.2-25.6 51.2-25.6 89.6H320c0-64 19.2-115.2 57.6-153.6 32-38.4 83.2-57.6 140.8-57.6 57.6 0 102.4 12.8 134.4 44.8 32 32 51.2 70.4 51.2 128 0 44.8-12.8 76.8-32 108.8z" fill="#8492A6" p-id="2159"></path></svg>
                    <span>业务员销售额：{{realSales | currency}}</span>
                    <div ng-show="saleAmountTips" class="saleAmountTips">指所有业务员下订单的销售额</div>
                    <span style="margin-left: 20px;">
                        <svg t="1616378127474" class="tips-icon" ng-mouseover="saleAmountTips = true" ng-mouseout="saleAmountTips = false" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2158" width="200" height="200"><path d="M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512-230.4-512-512-512z m38.4 812.8c-12.8 12.8-25.6 19.2-44.8 19.2-19.2 0-32-6.4-44.8-19.2-12.8-12.8-19.2-25.6-19.2-44.8 0-19.2 6.4-32 19.2-44.8 12.8-12.8 25.6-19.2 44.8-19.2 19.2 0 32 6.4 44.8 19.2 12.8 12.8 19.2 25.6 19.2 44.8 0 19.2-6.4 32-19.2 44.8z m121.6-339.2c-6.4 12.8-32 32-70.4 70.4-12.8 12.8-25.6 25.6-32 44.8-6.4 19.2-12.8 38.4-12.8 57.6v12.8H460.8v-12.8c0-32 6.4-64 19.2-83.2 6.4-32 38.4-64 96-115.2l12.8-12.8c12.8-19.2 25.6-38.4 25.6-64s-6.4-51.2-25.6-70.4c-19.2-12.8-44.8-25.6-70.4-25.6-38.4 0-64 12.8-76.8 38.4-19.2 19.2-25.6 51.2-25.6 89.6H320c0-64 19.2-115.2 57.6-153.6 32-38.4 83.2-57.6 140.8-57.6 57.6 0 102.4 12.8 134.4 44.8 32 32 51.2 70.4 51.2 128 0 44.8-12.8 76.8-32 108.8z" fill="#8492A6" p-id="2159"></path></svg>
                        总销售额：{{totalSales | currency}}
                    </span>
                    <span style="margin-left: 20px;">
                        下单客户（位）：{{customerNum}}
                    </span>
                </div>
                <div class="search-box-wrap" style="margin-top: 10px;">
                    <div class="input-group search-box" style="height: 34px;">
                        <span style="margin-right: 10px;">客户名称</span>
                        <input type="text" class="form-control top-search-inp" style="border-color: #E0E0E0;" ng-keyup="enterSearch($event)" ng-model="userinfo">
                        <span style="margin-left: 10px; margin-right: 10px;">{{'101316' | translate}}</span>
                        <!-- ng-options="opt.relate_salesman as opt.relate_salesman for opt in ywList" -->
                        <!-- <select style="margin-left:5px; width: 270px; height: 100%;" ng-model="ownerName" id = "ownerSelect">
                            <option value="{{opt.relate_salesman}}" ng-repeat="opt in ywList" ownerId = "{{opt.salesmanid}}">{{opt.relate_salesman}}</option>
                        </select> -->
                        <input list="ywList" style="width: 270px; padding-left: 10px; border-radius: 0px;" autocomplete="off" placeholder="单选可搜索" ng-model="ownerName" id="ownerSelect" ng-change="ownerNameChange()">
                        <datalist id="ywList" style="width: 270px;">
                            <option ng-repeat="opt in ywList" id= "{{opt.salesmanId}}" value="{{opt.salesmanName}}" class="salesmanOption"></option>
                        </datalist>
                        <span style="margin-left: 10px; margin-right: 10px;">日期选择</span>
                        <!-- <input type="text" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',readOnly:true})" id="txtBeginDate" placeholder="{{'100300' | translate}}" />
                        <input type="text" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',readOnly:true})" id="txtEndDate" placeholder="{{'100301' | translate}}" style="margin-left: 10px;" /> -->
                        <!-- <input type="datetime-local" name="txtBeginDate" step="01" class="txtBeginDate" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}" /> -->
                        <!-- <input type="datetime-local" name="txtEndDate" step="01" style="margin-left: 10px;" class="txtEndDate" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}"/> -->
                        <!-- <input class="Wdate data-inp data-inp-box" placeholder="开始日期" style="text-indent: 12px;" id="c-data-time" type="text" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',readOnly:true})"/> -->
                        <!-- <input id="cdatatime2" placeholder="结束日期" class="Wdate data-inp data-inp-box" style="text-indent: 12px;" type="text" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',readOnly:true})"/> -->
                        <wui-date class="data-inp-box" format="yyyy-mm-dd"
                            placeholder="开始时间" btns="{'ok':'确定','now':'今天'}" ng-model="startDate"></wui-date>
                        <wui-date class="data-inp-box" format="yyyy-mm-dd"
                            placeholder="结束时间" btns="{'ok':'确定','now':'今天'}" ng-model="endDate"></wui-date>
                        <div style="margin-left: 10px;">
                            <!-- <a role="button" class="btn btn-default top-search-btn" type="button" ng-click="usersearch()">{{'100025' | translate}}</a> -->
                            <a role="button" class="btn btn-default top-search-btn" type="button" ng-click="usersearch()">查询</a>
                        </div>
                        <div style="margin-left: 10px;">
                            <a role="button" class="btn btn-default top-search-btn" type="button" style="background-color: #fff; border: 1px solid #E0E0E0; color: inherit;" ng-click="resetFun()">重置</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="datatime-screen-wrap clearfix" style="margin: 16px 10px 0px; padding-left: 30px;">
                <div class="datatime-screen">
                    <a class="active" href="javaScript:void(0)" ng-click="lastWeek(0)">{{'100296' | translate}}</a>
                    <a href="javaScript:void(0)" ng-click="lastWeek(1)">昨日</a>
                    <a href="javaScript:void(0)" ng-click="lastWeek(2)">{{'100297' | translate}}</a>
                    <a href="javaScript:void(0)" ng-click="lastWeek(3)">{{'100298' | translate}}</a>
                    <!-- <a href="javaScript:void(0)" ng-click="lastWeek(92)">{{'100299' | translate}}</a> -->
                    <!-- <input type="button" value="{{'100302' | translate}}" ng-click="usersearch()" style="line-height: 20px;"> -->
                </div>
            </div>
            <!-- right list -->
            <div class="table-con-box">
                <table class="ea-list-table ea-erp-cs">
                    <tr>
                        <th><span>序号</span></th>
                        <th><span>日期</span></th>
                        <th><span>用户名</span></th>
                        <th><span ng-click="clientClick(clientState)" style="cursor: default;">{{'100108' | translate}}
                                <!-- <img ng-show="!clientState" class="all-checkbtn"
                                     src="static/image/order-img/multiple1.png">
                                <img ng-show="clientState" class="all-checkbtn"
                                     src="static/image/order-img/multiple2.png"> -->
                                </span></th>
                        <th><span>关联订单数</span></th>
                        <th>
                            <span ng-click="sorterChange()">销售额（$）</span>
                            <span class="sorter" ng-click="sorterChange()">
                                <span role="img" class="sorter-up">
                                  <svg
                                    viewBox="0 0 1024 1024"
                                    focusable="false"
                                    data-icon="caret-up"
                                    width="1em"
                                    height="1em"
                                    fill="currentColor"
                                    aria-hidden="true"
                                  >
                                    <path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" />
                                  </svg>
                                </span>
                                <span role="img" class="sorter-down">
                                  <svg
                                    viewBox="0 0 1024 1024"
                                    focusable="false"
                                    data-icon="caret-down"
                                    width="1em"
                                    height="1em"
                                    fill="currentColor"
                                    aria-hidden="true"
                                  >
                                    <path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" />
                                  </svg>
                                </span>
                            </span>
                        </th>
                        <th><span ng-click="customClick(customState)" style="cursor: default;">{{'101318' | translate}}
                                <!-- <img ng-show="!customState" class="all-checkbtn"
                                     src="static/image/order-img/multiple1.png">
                                <img ng-show="customState" class="all-checkbtn"
                                     src="static/image/order-img/multiple2.png"> -->
                                </span></th>
                        <!--<th><span>{{'100027' | translate}}</span></th>-->
                        <!-- <th><span>金额</span></th> -->
                        <!--<th><span>未收金额</span></th>-->
                        <!--<th><span>{{'100064' | translate}}</span></th>-->
                    </tr>
                    <tr ng-repeat='item in dataList'>
                        <td><span>{{$index+1}}</span></td>
                        <td><span>{{item.createDate}}</span></td>
                        <td><span>{{item.loginName}}</span></td>
                        <td class="cus-lvtd">
                            <span>{{item.merchantName}}</span>
                            <b ng-if="item.userLevel==3" class="yzkehu-flag">优</b>
                            <b ng-if="item.userLevel==2" class="ptkehu-flag">普</b>
                            <b ng-if="item.userLevel==1" class="qzkehu-flag">潜</b>
                            <img src="static/image/public-img/order.png">
                            <b class="cus-dengji">LV{{item.cunLevel}}</b>
                            <img src="static/image/public-img/money.png">
                            <b class="cus-dengji">LV{{item.moneyLevel}}</b>
                        </td>
                        <td><span><a href="javaScript:void(0)" ng-click="showOrderDetail(item)" style="text-decoration: underline; color:#337ab7;">详情</a></span></td>
                        <td>
                            <span>{{item.amount}}</span>
                        </td>
                        <td><span>{{item.salesmanName}}</span></td>
                        <!--<td><span><p></p><p><i class="ea-gard-star ea-gard4"></i></p></span></td>-->
                        <!--<td><span>{{item.ACCOUNT_NAME}}</span></td>-->
                        <!-- <td><span>{{item.money | currency}}</span></td> -->
                        <!--<td class="countMoney"><span>{{item.weishou | currency}}</span></td>-->
                        <!--<td><span>{{status[item.STATUS-1]}}</span></td>-->
                        <!--<td><span>{{'100216' | translate}}</span></td>-->
                    </tr>
                </table>
                <!-- 分页 -->
                <div class="no-data" ng-show="totalNum == 0" style="text-align: center;">暂无数据。</div>
                <div class="page-box" ng-show="totalNum > 0">
                    <div class="select-page-num">
                        <select class="form-control" ng-model="pagesize" ng-change="pagechange(pagesize)"
                                style="width: 65px;height: 31px;">
                            <option value="20">20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                            <option value="200">200</option>
                        </select>
                        <span>每页</span>
                    </div>
                    <div class="total-num">
                        共&nbsp;&nbsp;{{ totalNum }}&nbsp;&nbsp;条
                    </div>
                    <div class="page-index">
                        <div class="pagegroup">
                            <a href="#">&lt;&lt;</a>
                            <a href="#">&lt;</a>
                            <a href="#">1</a>
                            <a href="#">2</a>
                            <a class="current" href="#">3</a>
                            <a href="#">4</a>
                            <a href="#">5</a>
                            <a href="#">6</a>
                            <a href="#">···</a>
                            <a href="#">&gt;</a>
                            <a href="#">&gt;&gt;</a>
                        </div>
                    </div>
                    <div class="to-go">
                        <span>跳转：</span>
                        <input type="text" class="goyema form-control" placeholder="" ng-model="pagenum">
                        <a class="btn btn-default" href="javascript: void(0);" role="button" ng-click="pagenumchange()">go</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- </div> -->
    <!-- </div> -->
</div>
<modal tit="关联订单详情" width="300" visible="orderDetailShow" on-cancelText='关闭' on-ok="handleOrderClose()">
    <div style="max-height: 500px; overflow: auto;">
        <div class="td" ng-repeat="i in orderList">{{ i }}</div>
    </div>
    <div class="no-data" ng-show="orderList.length == 0" style="text-align: center;">暂无数据。</div>
</modal>
<!-- 选取两段时间之间插件 -->
<!--<script type="text/javascript" src="../js/jquery.min.js" ></script>-->
<!--<script type="text/javascript" src="../js/lyz.calendar.min.js"></script>-->
<script>
    $(function () {

        $("#txtBeginDate").calendar({
            controlId: "divDate", // 弹出的日期控件ID，默认: $(this).attr("id") + "Calendar"
            speed: 200, // 三种预定速度之一的字符串("slow", "normal", or "fast")或表示动画时长的毫秒数值(如：1000),默认：200
            complement: true, // 是否显示日期或年空白处的前后月的补充,默认：true
            readonly: true, // 目标对象是否设为只读，默认：true
            upperLimit: new Date(), // 日期上限，默认：NaN(不限制)
            lowerLimit: new Date("2011/01/01"), // 日期下限，默认：NaN(不限制)
            callback: function () { // 点击选择日期后的回调函数
                //alert("您选择的日期是：" + $("#txtBeginDate").val());
            }
        });
        $("#txtEndDate").calendar();
    });
</script>
</body>

</html>