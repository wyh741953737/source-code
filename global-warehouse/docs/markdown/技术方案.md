#### 方案背景

为满足搜品项目 pc 端和 m 端兼容，不同设备下访问同一路由展示对应终端页面，后续可拓展为 app 项目。
同时达到跨端项目中逻辑层、工具层、services 层代码高度复用。

#### 方案目标

    1. 多端兼容（pc端、m端、app端）
    2. 代码复用
    3. 集成埋点
    4. 接入翻译

#### 方案实施

##### 多端兼容

使用 react native 脚手架构建项目，集成 umi。

> app 端导航器手动配置栈导航，h5 和 pc 端 umi 约定式路由  
> app 端和 m 端公用`_mobile.tsx`文件，pc 端单独`_web.tsx`文件开发，`index.tsx`作为统一路由访问文件，使用高阶组件匹配移动端还是 pc 端
> 样式根据终端单独文件开发

    sourcing-app
      ├── ...
      ├── pages                              // 页面/app屏幕
      │   ├── demo                           // 页面
      │   │   ├── components                 // 组件
      │   │   ├── styles                     // 样式
      │   │   │   ├── index.mobile.less      // h5端样式
      │   │   │   ├── index.web.less         // pc端样式
      │   │   │   ├── index.native.ts        // app端样式
      │   │   │   ├── index.ts               // 样式入口（匹配移动端还是pc端）
      │   │   ├── _mobile.tsx                // 移动端(app+h5)
      │   │   ├── _web.tsx                   // pc端
      │   │   ├── index.tsx                  // 页面入口（匹配移动端还是pc端）
      ├── ...

##### 代码复用

使用 baseUI 基础组件开发，达到 app 端和 m 端代码公用。
提取 utils 工具、services、hooks 公用。

##### 集成埋点

参考埋点工具文档。

##### 接入翻译

参考翻译工具文档。

#### 方案结果

达到预期目标和方案初衷。
